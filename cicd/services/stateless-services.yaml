---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
# If it is a map/dict then set variable to proper range scope (supports deepmerge)


# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-analytical-materials-au-docmetadata
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-analytical-materials-au-docmetadata
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: analytical-materials-au-docmetadata
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8809"
        assetAreaName: analytical-materials-au-retrieve-docmetadata
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/retrieve-docmetadata
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --cssm.redis.host=$(CSSM_REDIS_HOST)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --transform.matadata.url=$(TRANSFORM_METADATA_URL)
          - --netty.thread.num=8
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONTENT_FETCHER_TYPES: s3,dl
            CSR_ENV: pdc1c
            CSSM_HASH_KEYS: CSSM-pct-157-PROD,CSSM-pct-158-PROD,CSSM-pct-159-PROD,CSSM-pct-160-PROD,CSSM-pct-162-PROD,CSSM-pct-163-PROD,CSSM-pct-165-PROD,CSSM-pct-166-PROD,CSSM-pct-167-PROD,CSSM-pct-280-PROD,CSSM-pct-336-PROD,CSSM-pct-541-PROD
            CSSM_REDIS_HOST: search-cssm-redis-replicas.4604-search-services.svc
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-ANALYTICAL-MATERIALS-AU-Retrieve
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_S3_TRANSFER_MANAGER: "false"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            METADATA_DATACENTER: us-east-1b
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TRANSFORM_METADATA_URL: http://transform-metadata.4604-search-services.svc:8080
            USE_DL_FALLBACK: "false"
            USE_DL_SDK: "true"
          image:
            PullPolicy: Always
            repository: 4604-analytical-materials-au-retrieve-docmetadata
            tag: f5ca2bbdb6cc243ee3145644b6ec449f10d3f298
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-retrieve-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: analytical-materials-au-docmetadata-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: analytical-materials-au-docmetadata
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: analytical-materials-au-docmetadata
      - name: nameOverride
        value: analytical-materials-au-docmetadata
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-analytical-materials-au-docmetadata-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-analytical-materials-au-docmetadata-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: analytical-materials-au-docmetadata-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8809"
        assetAreaName: analytical-materials-au-retrieve-docmetadata
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/retrieve-docmetadata
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --cssm.redis.host=$(CSSM_REDIS_HOST)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --transform.matadata.url=$(TRANSFORM_METADATA_URL)
          - --netty.thread.num=8
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONTENT_FETCHER_TYPES: s3,dl
            CSR_ENV: cdc1c
            CSSM_HASH_KEYS: CSSM-pct-157-PROD,CSSM-pct-158-PROD,CSSM-pct-159-PROD,CSSM-pct-160-PROD,CSSM-pct-162-PROD,CSSM-pct-163-PROD,CSSM-pct-165-PROD,CSSM-pct-166-PROD,CSSM-pct-167-PROD,CSSM-pct-280-PROD,CSSM-pct-336-PROD,CSSM-pct-541-PROD
            CSSM_REDIS_HOST: search-cssm-redis-replicas.4604-search-services.svc
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-ANALYTICAL-MATERIALS-AU-Retrieve
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_S3_TRANSFER_MANAGER: "false"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            METADATA_DATACENTER: us-east-1b
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TRANSFORM_METADATA_URL: http://transform-metadata-staging.4604-search-services.svc:8080
            USE_DL_FALLBACK: "false"
            USE_DL_SDK: "true"
          image:
            PullPolicy: Always
            repository: 4604-analytical-materials-au-retrieve-docmetadata
            tag: 5cbda3f031ed6352fb7f77ae6aa93a1df16f137f
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-retrieve-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: analytical-materials-au-docmetadata-cdc1c-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: analytical-materials-au-docmetadata-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: analytical-materials-au-docmetadata-staging
      - name: nameOverride
        value: analytical-materials-au-docmetadata-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-analytical-materials-au-documentinfo
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-analytical-materials-au-documentinfo
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: analytical-materials-au-documentinfo
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8883"
        assetAreaName: analytical-materials-au-documentinfo
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/documentinfo-service
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --solr.server.url=$(SOLR_URL)
          - --solr.jsonResponseEnabled=true
          - --cssm.redis.host=$(CSSM_REDIS_URL)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --datacache.redis.host=$(REDIS_URL)
          - --netty.thread.num=8
          - --config.batch.group.num=500
          - --search.togglz.features.SWITCH_TO_LA_IF_NECESSARY.enabled=true
          env:
            CSR_ENV: pdc1c
            CSSM_CACHE_ENABLED: "true"
            CSSM_CACHE_EXPIRE_AFTER_WRITE: 4h
            CSSM_CACHE_MAXIMUM_SIZE: "200"
            CSSM_HASH_KEYS: CSSM-pct-157-PROD,CSSM-pct-158-PROD,CSSM-pct-159-PROD,CSSM-pct-160-PROD,CSSM-pct-162-PROD,CSSM-pct-163-PROD,CSSM-pct-165-PROD,CSSM-pct-166-PROD,CSSM-pct-167-PROD,CSSM-pct-280-PROD,CSSM-pct-336-PROD,CSSM-pct-541-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            GRAPH_CACHE_ENABLED: "true"
            GRAPH_CACHE_EXPIRE_AFTER_WRITE: 4h
            GRAPH_CACHE_MAXIMUM_SIZE: "200"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
          image:
            PullPolicy: Always
            repository: 4604-analytical-materials-au-documentinfo
            tag: ef34b02f3c4cec8d3d6ef53a3708b4c43cc8a630
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 3
              memory: 6Gi
            requests:
              cpu: 2
              memory: 4Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: analytical-materials-au-documentinfo
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: analytical-materials-au-documentinfo
      - name: nameOverride
        value: analytical-materials-au-documentinfo
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-analytical-materials-au-documentinfo-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-analytical-materials-au-documentinfo-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: analytical-materials-au-documentinfo-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8883"
        assetAreaName: analytical-materials-au-documentinfo
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/documentinfo-service
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --solr.server.url=$(SOLR_URL)
          - --solr.jsonResponseEnabled=true
          - --cssm.redis.host=$(CSSM_REDIS_URL)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --datacache.redis.host=$(REDIS_URL)
          - --netty.thread.num=8
          - --config.batch.group.num=500
          - --search.togglz.features.SWITCH_TO_LA_IF_NECESSARY.enabled=true
          env:
            CSR_ENV: cdc1c
            CSSM_CACHE_ENABLED: "true"
            CSSM_CACHE_EXPIRE_AFTER_WRITE: 4h
            CSSM_CACHE_MAXIMUM_SIZE: "200"
            CSSM_HASH_KEYS: CSSM-pct-157-PROD,CSSM-pct-158-PROD,CSSM-pct-159-PROD,CSSM-pct-160-PROD,CSSM-pct-162-PROD,CSSM-pct-163-PROD,CSSM-pct-165-PROD,CSSM-pct-166-PROD,CSSM-pct-167-PROD,CSSM-pct-280-PROD,CSSM-pct-336-PROD,CSSM-pct-541-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            GRAPH_CACHE_ENABLED: "true"
            GRAPH_CACHE_EXPIRE_AFTER_WRITE: 4h
            GRAPH_CACHE_MAXIMUM_SIZE: "200"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
          image:
            PullPolicy: Always
            repository: 4604-analytical-materials-au-documentinfo
            tag: b62cba84037cb7f513c992a878ac74a0472ff12b
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 3
              memory: 6Gi
            requests:
              cpu: 2
              memory: 4Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: analytical-materials-au-documentinfo-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: analytical-materials-au-documentinfo-staging
      - name: nameOverride
        value: analytical-materials-au-documentinfo-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-analytical-materials-au-ltr
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-analytical-materials-au-ltr
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: analytical-materials-au-ltr
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9124"
        assetAreaName: analytical-materials-au-ltr
        assetGroup: prod
        assetId: "4604"
        assetName: AU-Search-Platform
        containerSettings:
          command:
          - opentelemetry-instrument
          - uvicorn
          - ltrservice.LtrService:app
          - --host
          - 0.0.0.0
          - --port
          - "8090"
          env:
            FEATS_S3_PATH: analytical-materials/feats.zip
            LGB_S3_PATH: analytical-materials/lgb.zip
            OTEL_PYTHON_FASTAPI_EXCLUDED_URLS: health
          image:
            pullPolicy: IfNotPresent
            repository: 4604-analytical-materials-au-ltr
            tag: 50c7152d0a03619e88e5bde920df7d223678ccec
          livenessProbe:
            initialDelaySeconds: 15
            path: /health
            periodSeconds: 30
            timeoutSeconds: 5
          readinessProbe:
            initialDelaySeconds: 15
            path: /health
            periodSeconds: 30
            timeoutSeconds: 5
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: false
            runAsGroup: 10000
            runAsUser: 10000
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /actuator/prometheus
          scrape: "false"
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        service:
          targetPort: 8090
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-au-ltr-services-s3-role
          create: true
          name: analytical-materials-au-ltr-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: analytical-materials-au-ltr
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: analytical-materials-au-ltr
      - name: nameOverride
        value: analytical-materials-au-ltr
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-analytical-materials-au-ltr-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-analytical-materials-au-ltr-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: analytical-materials-au-ltr-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9124"
        assetAreaName: analytical-materials-au-ltr
        assetGroup: staging
        assetId: "4604"
        assetName: AU-Search-Platform
        containerSettings:
          command:
          - opentelemetry-instrument
          - uvicorn
          - ltrservice.LtrService:app
          - --host
          - 0.0.0.0
          - --port
          - "8090"
          env:
            FEATS_S3_PATH: analytical-materials/feats.zip
            LGB_S3_PATH: analytical-materials/lgb.zip
            OTEL_PYTHON_FASTAPI_EXCLUDED_URLS: health
          image:
            pullPolicy: IfNotPresent
            repository: 4604-analytical-materials-au-ltr
            tag: 3f1ee779c946b676dde01db120751a89cbdf667c
          livenessProbe:
            initialDelaySeconds: 15
            path: /health
            periodSeconds: 30
            timeoutSeconds: 5
          readinessProbe:
            initialDelaySeconds: 15
            path: /health
            periodSeconds: 30
            timeoutSeconds: 5
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: false
            runAsGroup: 10000
            runAsUser: 10000
        coralogix:
          enabled: true
        datadog:
          nameOverride: analytical-materials-au-ltr-prod2-4604
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /actuator/prometheus
          scrape: "false"
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        service:
          targetPort: 8090
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-au-ltr-services-s3-role
          create: true
          name: analytical-materials-au-ltr-staging-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: analytical-materials-au-ltr-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: analytical-materials-au-ltr-staging
      - name: nameOverride
        value: analytical-materials-au-ltr-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-analytical-materials-au-retrieve
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-analytical-materials-au-retrieve
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: analytical-materials-au-retrieve
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8886"
        assetAreaName: analytical-materials-au-retrieve
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASEBASESIGNAL_SVC_HOST: pdc1c-apac-casebasesignal.route53.lexis.com
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            COURT_REDIS_URL: search-redis-replicas.4604-search-services.svc
            CSR_ENV: pdc1c
            CSSM_HASH_KEYS: CSSM-pct-167-PROD,CSSM-pct-280-PROD,CSSM-pct-157-PROD,CSSM-pct-158-PROD,CSSM-pct-159-PROD,CSSM-pct-160-PROD,CSSM-pct-162-PROD,CSSM-pct-163-PROD,CSSM-pct-165-PROD,CSSM-pct-166-PROD,CSSM-pct-336-PROD,CSSM-pct-541-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-Analytical-Materials-AU-Retrieve
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            DOSSIER_SVC_HOST: pdc1c-delivery-csr-marklogic-legal.route53.lexis.com
            DOSSIER_SVC_PORT: "25042"
            DOSSIER_TIMEOUT: "20"
            ENABLE_LML_REFERENCES: "false"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENTITY_REDIS_URL: search-redis-replicas.4604-search-services.svc
            IS_CASEBASESIGNAL_APPLICABLE: "true"
            IS_COMPANY_INFO_APPLICABLE: "false"
            IS_SHEPARDS_DOCINFO_APPLICABLE: "true"
            IS_TOC_APPLICABLE: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            LINK_METADATA_SVC_HOST: pdc1c-delivery-csr-marklogic-intl.route53.lexis.com
            LINK_METADATA_SVC_PORT: "25056"
            LINK_METADATA_TIMEOUT: "20"
            LINK_METADATA_USE_ADDITIONAL: "Y"
            LML_REFERENCES_SVC_HOST: pdc1c-delivery-csr-marklogic-legal.route53.lexis.com
            LML_REFERENCES_SVC_PORT: "25097"
            LML_REFERENCES_TIMEOUT: "5"
            LOAD_PCT_RESOURCE_ONSTARTUP: "true"
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            LOAD_SOURCESET_REDIS_ONSTARTUP: "true"
            MAX_PASSAGES: "10"
            METADATA_DATACENTER: us-east-1b
            ML_POD: "11.3"
            NETTY_THREAD_NUM: "8"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RESOLVE_ENTITY_LINKS: "true"
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc.cluster.local
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            SEARCH_GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            SHEPARDS_DOCINFO_SVC_HOST: pdc1c-csr-shepards.route53.lexis.com
            SKIP_ENTITLEMENTS: "false"
            SP_LINK_METADATA_HOST: pdc1c-csr-sp-linkmeta.route53.lexis.com
            SPLIT_DOC_LINKS_AND_TOPICS: "true"
            TOC_SVC_HOST: pdc1c-delivery-csr-marklogic-intl.route53.lexis.com
            TOC_SVC_PORT: "30005"
            TRANSFORM_METADATA: "true"
            TRANSFORM_METADATA_URL: http://transform-metadata.4604-search-services.svc:8080
            TRANSFORM_STM_METADATA_URL: http://transform-stm.4604-search-services.svc:8080
            USE_COMMON_ANALYZERS_USING_SCHEMA: "true"
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
            USE_TERM_UNIT_LOOKUP: "true"
            USE_TRANSFORM_FUTURE: "true"
            ZIP_METADATA: "false"
          image:
            imagePullPolicy: Always
            repository: 4604-analytical-materials-au-retrieve
            tag: 44d2777adc9ba4d9bff4b15dd79981a39cdd80a6
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 3
              memory: 10Gi
            requests:
              cpu: 2
              memory: 5Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-retrieve-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: analytical-materials-au-retrieve-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: analytical-materials-au-retrieve
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: analytical-materials-au-retrieve
      - name: nameOverride
        value: analytical-materials-au-retrieve
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-analytical-materials-au-retrieve-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-analytical-materials-au-retrieve-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: analytical-materials-au-retrieve-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8886"
        assetAreaName: analytical-materials-au-retrieve
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASEBASESIGNAL_SVC_HOST: cdc1c-apac-casebasesignal.route53.lexis.com
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            COURT_REDIS_URL: search-redis-replicas.4604-search-services.svc
            CSR_ENV: cdc1c
            CSSM_HASH_KEYS: CSSM-pct-167-PROD,CSSM-pct-280-PROD,CSSM-pct-157-PROD,CSSM-pct-158-PROD,CSSM-pct-159-PROD,CSSM-pct-160-PROD,CSSM-pct-162-PROD,CSSM-pct-163-PROD,CSSM-pct-165-PROD,CSSM-pct-166-PROD,CSSM-pct-336-PROD,CSSM-pct-541-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-Analytical-Materials-AU-Retrieve
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            DOSSIER_SVC_HOST: cdc1c-delivery-csr-marklogic-legal.route53.lexis.com
            DOSSIER_SVC_PORT: "25142"
            DOSSIER_TIMEOUT: "20"
            ENABLE_LML_REFERENCES: "false"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENTITY_REDIS_URL: search-redis-replicas.4604-search-services.svc
            IS_CASEBASESIGNAL_APPLICABLE: "true"
            IS_COMPANY_INFO_APPLICABLE: "false"
            IS_SHEPARDS_DOCINFO_APPLICABLE: "true"
            IS_TOC_APPLICABLE: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            LINK_METADATA_SVC_HOST: cdc1c-delivery-csr-marklogic-intl.route53.lexis.com
            LINK_METADATA_SVC_PORT: "25156"
            LINK_METADATA_TIMEOUT: "20"
            LINK_METADATA_USE_ADDITIONAL: "Y"
            LML_REFERENCES_SVC_HOST: cdc1c-delivery-csr-marklogic-legal.route53.lexis.com
            LML_REFERENCES_SVC_PORT: "25197"
            LML_REFERENCES_TIMEOUT: "5"
            LOAD_PCT_RESOURCE_ONSTARTUP: "true"
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            LOAD_SOURCESET_REDIS_ONSTARTUP: "true"
            MAX_PASSAGES: "10"
            METADATA_DATACENTER: us-east-1b
            ML_POD: "11.3"
            NETTY_THREAD_NUM: "8"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RESOLVE_ENTITY_LINKS: "true"
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc.cluster.local
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            SEARCH_GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            SHEPARDS_DOCINFO_SVC_HOST: cdc1c-csr-shepards.route53.lexis.com
            SKIP_ENTITLEMENTS: "false"
            SP_LINK_METADATA_HOST: cdc1c-csr-sp-linkmeta.route53.lexis.com
            SPLIT_DOC_LINKS_AND_TOPICS: "true"
            TOC_SVC_HOST: cdc1c-delivery-csr-marklogic-intl.route53.lexis.com
            TOC_SVC_PORT: "30105"
            TRANSFORM_METADATA: "true"
            TRANSFORM_METADATA_URL: http://transform-metadata-staging.4604-search-services.svc:8080
            TRANSFORM_STM_METADATA_URL: http://transform-stm-staging.4604-search-services.svc:8080
            USE_COMMON_ANALYZERS_USING_SCHEMA: "true"
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
            USE_TERM_UNIT_LOOKUP: "true"
            USE_TRANSFORM_FUTURE: "true"
            ZIP_METADATA: "false"
          image:
            imagePullPolicy: Always
            repository: 4604-analytical-materials-au-retrieve
            tag: 44d2777adc9ba4d9bff4b15dd79981a39cdd80a6
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 3
              memory: 10Gi
            requests:
              cpu: 2
              memory: 5Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-retrieve-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: analytical-materials-au-retrieve-staging-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: analytical-materials-au-retrieve-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: analytical-materials-au-retrieve-staging
      - name: nameOverride
        value: analytical-materials-au-retrieve-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-analytical-materials-au-search
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-analytical-materials-au-search
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: analytical-materials-au-search
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8237"
        assetAreaName: analytical-materials-au-search
        assetGroup: prod
        assetId: "4604"
        assetName: AU-Search-Platform
        containerSettings:
          command:
          - java
          - --add-exports=java.base/sun.nio.ch=ALL-UNNAMED
          - --add-opens=java.base/java.lang=ALL-UNNAMED
          - --add-opens=java.base/java.lang.reflect=ALL-UNNAMED
          - --add-opens=java.base/java.io=ALL-UNNAMED
          - --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED
          - -Xms2g
          - -Xmx2g
          - -javaagent:/opentelemetry-javaagent.jar
          - -Djava.security.egd=file:/dev/./urandom
          - -XX:MaxDirectMemorySize=3g
          - -XX:NativeMemoryTracking=detail
          - -XX:+HeapDumpOnOutOfMemoryError
          - -XX:HeapDumpPath=/tmp
          - -jar
          - /app/lib/4604-analytical-materials-au-search.jar
          - --spring.config.location=classpath:application.yaml,classpath:application-toggle.yaml,classpath:application.properties,/secrets/application.properties
          - --server.max-http-header-size=32768
          - --cssmdatacache.host=$(REDIS_CSSM_HOST)
          - --cssmdatacache.port=$(REDIS_CSSM_PORT)
          - --datacache.host=$(REDIS_MASTER_URL)
          - --datacache.hostLeader=$(REDIS_MASTER_URL)
          - --ltrdatacache.host=$(LTR_REDIS_URL)
          - --ltrdatacache.hostLeader=$(LTR_REDIS_URL_MASTER)
          - --graphdatacache.host=$(REDIS_GRAPH_HOST)
          - --graphdatacache.port=$(REDIS_GRAPH_PORT)
          - --solr.serverUrl=$(SOLR_URL)
          - --csr_services.environment=$(CSR_ENV)
          - --wam_services.environment=$(WAM_ENV)
          - --jcite.serverUrl=http://$(CSR_ENV)-citationrecognizer-jcite.route53.lexis.com/
          - --linkResolution.serverUrl=http://$(CSR_ENV)-delivery-csr-marklogic-metadata.route53.lexis.com:25099/11.3/services/
          - --linkmetadata.serverUrl=http://$(CSR_ENV)-delivery-csr-marklogic-intl.route53.lexis.com:25056/11.3/services/
          - --linkResolve.serverUrl=http://$(CSR_ENV)-delivery-csr-marklogic-intl.route53.lexis.com:25056/11.3/services/
          - --linkResolution.httpTimeout=30000
          - --entitlements.subscription.host=http://$(CSR_ENV)-la-sp-entitlements.route53.lexis.com
          - --entitlements.authorization.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --pricing.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --toc.host=http://$(CSR_ENV)-delivery-csr-marklogic-intl.route53.lexis.com:30005/11.3/services/
          - --toc-search.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --answerCard.enabled=false
          - --qqa.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --ses.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --workfolders.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --casebasesignals.host=http://$(CSR_ENV)-apac-casebasesignal.route53.lexis.com/
          - --config.search.reRank.ltr.url=http://analytical-materials-au-ltr.4604-search-services.svc:8080/predict
          - --parallelCitation.serverUrl=http://parallel-citation-service.4604-search-services.svc:8080/
          - --facetSearchLookup.enabled=false
          - --config.search.boosts.edismax.allTermProximity._text_.weight=16
          - --config.search.boosts.laqueryparser.allTermProximity._text_.weight=16
          - --togglz.features.OUTPUT_MODEL_FEATURE.enabled=true
          - --togglz.features.WIDOW_CACHE.enabled=true
          env:
            ALLOW_PARTIAL_RESULTS: "false"
            CSR_ENV: pdc1c
            LTR_REDIS_URL: ""
            LTR_REDIS_URL_MASTER: ""
            REDIS_CSSM_HOST: search-cssm-redis-replicas
            REDIS_CSSM_PORT: "6379"
            REDIS_GRAPH_HOST: search-redis-graph-slave
            REDIS_GRAPH_PORT: "6379"
            REDIS_MASTER_URL: search-redis-master
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
            WAM_ENV: prod
          image:
            pullPolicy: IfNotPresent
            repository: 4604-analytical-materials-au-search
            tag: 105278da0288f9b35a8e6cb85b912145428d6b15
          livenessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          readinessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /secrets/
            name: parallel-citation-service-secrets-vol
            readOnly: true
          volumes:
          - name: parallel-citation-service-secrets-vol
            secret:
              secretName: parallel-citation-service-secrets
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        podAnnotations:
          traffic.sidecar.istio.io/excludeOutboundPorts: "6379"
        priorityClassName: srp-low
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: analytical-materials-au-search
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: analytical-materials-au-search
      - name: nameOverride
        value: analytical-materials-au-search
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-analytical-materials-au-search-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-analytical-materials-au-search-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: analytical-materials-au-search-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8237"
        assetAreaName: analytical-materials-au-search
        assetGroup: staging
        assetId: "4604"
        assetName: AU-Search-Platform
        containerSettings:
          command:
          - java
          - --add-exports=java.base/sun.nio.ch=ALL-UNNAMED
          - --add-opens=java.base/java.lang=ALL-UNNAMED
          - --add-opens=java.base/java.lang.reflect=ALL-UNNAMED
          - --add-opens=java.base/java.io=ALL-UNNAMED
          - --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED
          - -Xms2g
          - -Xmx2g
          - -javaagent:/opentelemetry-javaagent.jar
          - -Djava.security.egd=file:/dev/./urandom
          - -XX:MaxDirectMemorySize=3g
          - -XX:NativeMemoryTracking=detail
          - -XX:+HeapDumpOnOutOfMemoryError
          - -XX:HeapDumpPath=/tmp
          - -jar
          - /app/lib/4604-analytical-materials-au-search.jar
          - --spring.config.location=classpath:application.yaml,classpath:application-toggle.yaml,classpath:application.properties,/secrets/application.properties
          - --server.max-http-header-size=32768
          - --cssmdatacache.host=$(REDIS_CSSM_HOST)
          - --cssmdatacache.port=$(REDIS_CSSM_PORT)
          - --datacache.host=$(REDIS_MASTER_URL)
          - --datacache.hostLeader=$(REDIS_MASTER_URL)
          - --ltrdatacache.host=$(LTR_REDIS_URL)
          - --ltrdatacache.hostLeader=$(LTR_REDIS_URL_MASTER)
          - --graphdatacache.host=$(REDIS_GRAPH_HOST)
          - --graphdatacache.port=$(REDIS_GRAPH_PORT)
          - --solr.serverUrl=$(SOLR_URL)
          - --csr_services.environment=$(CSR_ENV)
          - --wam_services.environment=$(WAM_ENV)
          - --jcite.serverUrl=http://$(CSR_ENV)-citationrecognizer-jcite.route53.lexis.com/
          - --entitlements.subscription.host=http://$(CSR_ENV)-la-sp-entitlements.route53.lexis.com
          - --parallelCitation.serverUrl=http://parallel-citation-service-staging.4604-search-services.svc:8080/
          - --config.search.reRank.ltr.url=http://analytical-materials-au-ltr-staging.4604-search-services.svc:8080/predict
          - --facetSearchLookup.enabled=false
          - --config.search.boosts.edismax.allTermProximity._text_.weight=16
          - --config.search.boosts.laqueryparser.allTermProximity._text_.weight=16
          - --config.search.boosts.edismax.field.text_footnote.enabled=false
          - --config.search.boosts.laqueryparser.field.text_footnote.enabled=false
          - --config.search.boosts.laqueryparser.allTermProximityParagraph._text_.enabled=false
          - --config.search.boosts.edismax.allTermProximityParagraph._text_.enabled=false
          - --config.search.boosts.laqueryparser.allTermProximitySentence._text_.weight=50
          - --config.search.boosts.edismax.allTermProximitySentence._text_.weight=50
          - --config.search.boosts.laqueryparser.nonStemmingField._text_.weight=15
          - --config.search.boosts.edismax.nonStemmingField._text_.weight=15
          - --togglz.features.OUTPUT_MODEL_FEATURE.enabled=true
          - --togglz.features.WIDOW_CACHE.enabled=true
          - --togglz.features.STEMMING_PHRASE_IN_BOOST.enabled=true
          - --togglz.features.LTR_QUOTED_PHRASE_FEATURE.enabled=true
          env:
            ALLOW_PARTIAL_RESULTS: "false"
            CSR_ENV: cdc1c
            LTR_REDIS_URL: ""
            LTR_REDIS_URL_MASTER: ""
            REDIS_CSSM_HOST: search-cssm-redis-replicas
            REDIS_CSSM_PORT: "6379"
            REDIS_GRAPH_HOST: search-redis-graph-slave
            REDIS_GRAPH_PORT: "6379"
            REDIS_MASTER_URL: search-redis-master
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
            WAM_ENV: cdc1c
          image:
            pullPolicy: IfNotPresent
            repository: 4604-analytical-materials-au-search
            tag: 5f47a1c6633e99eca8d83b06505058611715b296
          livenessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          readinessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /secrets/
            name: parallel-citation-service-secrets-vol
            readOnly: true
          volumes:
          - name: parallel-citation-service-secrets-vol
            secret:
              secretName: parallel-citation-service-secrets
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        podAnnotations:
          traffic.sidecar.istio.io/excludeOutboundPorts: "6379"
        priorityClassName: srp-low
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: analytical-materials-au-search-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: analytical-materials-au-search-staging
      - name: nameOverride
        value: analytical-materials-au-search-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-analytical-materials-au-stm
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-analytical-materials-au-stm
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: analytical-materials-au-stm
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8826"
        assetAreaName: analytical-materials-au-stm
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            CSSM_HASH_KEYS: CSSM-pct-167-PROD,CSSM-pct-280-PROD,CSSM-pct-157-PROD,CSSM-pct-158-PROD,CSSM-pct-159-PROD,CSSM-pct-160-PROD,CSSM-pct-162-PROD,CSSM-pct-163-PROD,CSSM-pct-165-PROD,CSSM-pct-166-PROD,CSSM-pct-336-PROD,CSSM-pct-541-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-ANALYTICAL-MATERIALS-SearchTermMap
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_EXTERNAL_TRANSFORM: "true"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENABLE_SEARCH_FEEDBACK: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            MAX_PASSAGES: "10"
            MAX_SNIPPETS_LIMIT: "15"
            METADATA_DATACENTER: us-east-1b
            PARSE_API_URL: http://analytical-materials-au-search.4604-search-services.svc:8080
            PROCESS_SEGMENTS_CONCURRENTLY: "true"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TERM_UNITS_CONNECTOR_MATCH: "true"
            TRANSFORM_METADATA_TIMEOUT: "5"
            TRANSFORM_METADATA_URL: http://transform-stm.4604-search-services.svc:8080
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
          image:
            imagePullPolicy: Always
            repository: 4604-analytical-materials-au-search-term-map
            tag: 550311b620d69955dc1ff953aecfb6990c2ac630
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 5
              memory: 8Gi
            requests:
              cpu: 3
              memory: 6Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-stm-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 3
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: analytical-materials-au-stm-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: analytical-materials-au-stm
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: analytical-materials-au-stm
      - name: nameOverride
        value: analytical-materials-au-stm
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-analytical-materials-au-stm-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-analytical-materials-au-stm-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: analytical-materials-au-stm-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8826"
        assetAreaName: analytical-materials-au-stm
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            CSSM_HASH_KEYS: CSSM-pct-167-PROD,CSSM-pct-280-PROD,CSSM-pct-157-PROD,CSSM-pct-158-PROD,CSSM-pct-159-PROD,CSSM-pct-160-PROD,CSSM-pct-162-PROD,CSSM-pct-163-PROD,CSSM-pct-165-PROD,CSSM-pct-166-PROD,CSSM-pct-336-PROD,CSSM-pct-541-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-ANALYTICAL-MATERIALS-SearchTermMap
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_EXTERNAL_TRANSFORM: "true"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENABLE_SEARCH_FEEDBACK: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            MAX_PASSAGES: "10"
            MAX_SNIPPETS_LIMIT: "15"
            METADATA_DATACENTER: us-east-1b
            PARSE_API_URL: http://analytical-materials-au-search-staging.4604-search-services.svc:8080
            PROCESS_SEGMENTS_CONCURRENTLY: "true"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TERM_UNITS_CONNECTOR_MATCH: "true"
            TRANSFORM_METADATA_TIMEOUT: "5"
            TRANSFORM_METADATA_URL: http://transform-stm-staging.4604-search-services.svc:8080
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
          image:
            imagePullPolicy: Always
            repository: 4604-analytical-materials-au-search-term-map
            tag: 06dba9b4c728ae321e297fb148d4f5f847ae2d9a
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 5
              memory: 8Gi
            requests:
              cpu: 3
              memory: 6Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-stm-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: analytical-materials-au-stm-staging-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: analytical-materials-au-stm-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: analytical-materials-au-stm-staging
      - name: nameOverride
        value: analytical-materials-au-stm-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-au-documentinfo
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-au-documentinfo
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: au-documentinfo
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9363"
        assetAreaName: au-documentinfo
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/documentinfo-service
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --solr.server.url=$(SOLR_URL)
          - --solr.jsonResponseEnabled=true
          - --cssm.redis.host=$(CSSM_REDIS_URL)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --datacache.redis.host=$(REDIS_URL)
          - --netty.thread.num=8
          - --config.batch.group.num=500
          - --search.togglz.features.SWITCH_TO_LA_IF_NECESSARY.enabled=true
          env:
            CSR_ENV: pdc1c
            CSSM_CACHE_ENABLED: "true"
            CSSM_CACHE_EXPIRE_AFTER_WRITE: 4h
            CSSM_CACHE_MAXIMUM_SIZE: "200"
            CSSM_HASH_KEYS: CSSM-pct-168-PROD,CSSM-pct-169-PROD,CSSM-pct-170-PROD,CSSM-pct-171-PROD,CSSM-pct-361-PROD,CSSM-pct-157-PROD,CSSM-pct-158-PROD,CSSM-pct-159-PROD,CSSM-pct-160-PROD,CSSM-pct-162-PROD,CSSM-pct-163-PROD,CSSM-pct-165-PROD,CSSM-pct-166-PROD,CSSM-pct-167-PROD,CSSM-pct-280-PROD,CSSM-pct-336-PROD,CSSM-pct-541-PROD,CSSM-pct-175-PROD,CSSM-pct-176-PROD,CSSM-pct-177-PROD,CSSM-pct-179-PROD,CSSM-pct-180-PROD,CSSM-pct-181-PROD,CSSM-pct-182-PROD,CSSM-pct-183-PROD,CSSM-pct-308-PROD,CSSM-pct-164-PROD,CSSM-pct-335-PROD,CSSM-pct-534-PROD,CSSM-pct-535-PROD,CSSM-pct-536-PROD,CSSM-pct-172-PROD,CSSM-pct-173-PROD,CSSM-pct-277-PROD,CSSM-pct-278-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            GRAPH_CACHE_ENABLED: "true"
            GRAPH_CACHE_EXPIRE_AFTER_WRITE: 4h
            GRAPH_CACHE_MAXIMUM_SIZE: "200"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
          image:
            PullPolicy: Always
            repository: 4604-au-documentinfo
            tag: ef34b02f3c4cec8d3d6ef53a3708b4c43cc8a630
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: au-documentinfo
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: au-documentinfo
      - name: nameOverride
        value: au-documentinfo
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-au-documentinfo-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-au-documentinfo-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: au-documentinfo-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9363"
        assetAreaName: au-documentinfo
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/documentinfo-service
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --solr.server.url=$(SOLR_URL)
          - --solr.jsonResponseEnabled=true
          - --cssm.redis.host=$(CSSM_REDIS_URL)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --datacache.redis.host=$(REDIS_URL)
          - --netty.thread.num=8
          - --config.batch.group.num=500
          - --search.togglz.features.SWITCH_TO_LA_IF_NECESSARY.enabled=true
          env:
            CSR_ENV: cdc1c
            CSSM_CACHE_ENABLED: "true"
            CSSM_CACHE_EXPIRE_AFTER_WRITE: 4h
            CSSM_CACHE_MAXIMUM_SIZE: "200"
            CSSM_HASH_KEYS: CSSM-pct-168-PROD,CSSM-pct-169-PROD,CSSM-pct-170-PROD,CSSM-pct-171-PROD,CSSM-pct-361-PROD,CSSM-pct-157-PROD,CSSM-pct-158-PROD,CSSM-pct-159-PROD,CSSM-pct-160-PROD,CSSM-pct-162-PROD,CSSM-pct-163-PROD,CSSM-pct-165-PROD,CSSM-pct-166-PROD,CSSM-pct-167-PROD,CSSM-pct-280-PROD,CSSM-pct-336-PROD,CSSM-pct-541-PROD,CSSM-pct-175-PROD,CSSM-pct-176-PROD,CSSM-pct-177-PROD,CSSM-pct-179-PROD,CSSM-pct-180-PROD,CSSM-pct-181-PROD,CSSM-pct-182-PROD,CSSM-pct-183-PROD,CSSM-pct-308-PROD,CSSM-pct-164-PROD,CSSM-pct-335-PROD,CSSM-pct-534-PROD,CSSM-pct-535-PROD,CSSM-pct-536-PROD,CSSM-pct-172-PROD,CSSM-pct-173-PROD,CSSM-pct-277-PROD,CSSM-pct-278-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            GRAPH_CACHE_ENABLED: "true"
            GRAPH_CACHE_EXPIRE_AFTER_WRITE: 4h
            GRAPH_CACHE_MAXIMUM_SIZE: "200"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
          image:
            PullPolicy: Always
            repository: 4604-au-documentinfo
            tag: b62cba84037cb7f513c992a878ac74a0472ff12b
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: au-documentinfo-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: au-documentinfo-staging
      - name: nameOverride
        value: au-documentinfo-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-au-search
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-au-search
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: au-search
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8735"
        assetAreaName: au-search
        assetGroup: prod
        assetId: "4604"
        assetName: AU-Search-Platform
        containerSettings:
          command:
          - java
          - --add-exports=java.base/sun.nio.ch=ALL-UNNAMED
          - --add-opens=java.base/java.lang=ALL-UNNAMED
          - --add-opens=java.base/java.lang.reflect=ALL-UNNAMED
          - --add-opens=java.base/java.io=ALL-UNNAMED
          - --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED
          - -Xms2g
          - -Xmx2g
          - -javaagent:/opentelemetry-javaagent.jar
          - -Djava.security.egd=file:/dev/./urandom
          - -XX:MaxDirectMemorySize=3g
          - -XX:NativeMemoryTracking=detail
          - -XX:+HeapDumpOnOutOfMemoryError
          - -XX:HeapDumpPath=/tmp
          - -jar
          - /app/lib/4604-au-search.jar
          - --spring.config.location=classpath:application.yaml,classpath:application-toggle.yaml,classpath:application.properties,/secrets/application.properties,classpath:application-supersearch.yaml
          - --server.max-http-header-size=32768
          - --cssmdatacache.host=$(REDIS_CSSM_HOST)
          - --cssmdatacache.port=$(REDIS_CSSM_PORT)
          - --datacache.host=$(REDIS_MASTER_URL)
          - --datacache.hostLeader=$(REDIS_MASTER_URL)
          - --ltrdatacache.host=$(LTR_REDIS_URL)
          - --ltrdatacache.hostLeader=$(LTR_REDIS_URL_MASTER)
          - --graphdatacache.host=$(REDIS_GRAPH_HOST)
          - --graphdatacache.port=$(REDIS_GRAPH_PORT)
          - --solr.serverUrl=$(SOLR_URL)
          - --csr_services.environment=$(CSR_ENV)
          - --wam_services.environment=$(WAM_ENV)
          - --jcite.serverUrl=http://$(CSR_ENV)-citationrecognizer-jcite.route53.lexis.com/
          - --linkResolution.serverUrl=http://$(CSR_ENV)-delivery-csr-marklogic-metadata.route53.lexis.com:25099/11.3/services/
          - --linkmetadata.serverUrl=http://$(CSR_ENV)-delivery-csr-marklogic-intl.route53.lexis.com:25056/11.3/services/
          - --linkResolve.serverUrl=http://$(CSR_ENV)-delivery-csr-marklogic-intl.route53.lexis.com:25056/11.3/services/
          - --linkResolution.httpTimeout=30000
          - --entitlements.subscription.host=http://$(CSR_ENV)-la-sp-entitlements.route53.lexis.com
          - --entitlements.authorization.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --pricing.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --toc.host=http://$(CSR_ENV)-delivery-csr-marklogic-intl.route53.lexis.com:30005/11.3/services/
          - --toc-search.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --answerCard.enabled=false
          - --qqa.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --ses.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --workfolders.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --casebasesignals.host=http://$(CSR_ENV)-apac-casebasesignal.route53.lexis.com/
          - --config.search.superSearchConfig.subSearchConfig.ltr.am.url=http://analytical-materials-au-ltr.4604-search-services.svc:8080/predict
          - --config.search.superSearchConfig.subSearchConfig.ltr.case.url=http://cases-au-ltr.4604-search-services.svc:8080/predict
          - --parallelCitation.serverUrl=http://parallel-citation-service.4604-search-services.svc:8080/
          - --facetSearchLookup.enabled=false
          - --config.parser.forceProcessStopwords.enabled=true
          - --togglz.features.LNI_SET_FILTER.enabled=false
          - --togglz.features.RESTORE_ORIGINAL_SCORE.enabled=false
          - --togglz.features.WIDOW_CACHE.enabled=true
          env:
            ALLOW_PARTIAL_RESULTS: "false"
            CSR_ENV: pdc1c
            LTR_REDIS_URL: ""
            LTR_REDIS_URL_MASTER: ""
            REDIS_CSSM_HOST: search-cssm-redis-replicas
            REDIS_CSSM_PORT: "6379"
            REDIS_GRAPH_HOST: search-redis-graph-slave
            REDIS_GRAPH_PORT: "6379"
            REDIS_MASTER_URL: search-redis-master
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
            WAM_ENV: prod
          image:
            pullPolicy: IfNotPresent
            repository: 4604-au-search
            tag: 766a84c7a8a8c86c085a6c8011b59446e53acf71
          livenessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          readinessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          resources:
            limits:
              cpu: 4
              memory: 8Gi
            requests:
              cpu: 2
              memory: 4Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /secrets/
            name: parallel-citation-service-secrets-vol
            readOnly: true
          volumes:
          - name: parallel-citation-service-secrets-vol
            secret:
              secretName: parallel-citation-service-secrets
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        podAnnotations:
          traffic.sidecar.istio.io/excludeOutboundPorts: "6379"
        priorityClassName: srp-low
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: au-search
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: au-search
      - name: nameOverride
        value: au-search
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-au-search-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-au-search-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: au-search-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8735"
        assetAreaName: au-search
        assetGroup: staging
        assetId: "4604"
        assetName: AU-Search-Platform
        containerSettings:
          command:
          - java
          - --add-exports=java.base/sun.nio.ch=ALL-UNNAMED
          - --add-opens=java.base/java.lang=ALL-UNNAMED
          - --add-opens=java.base/java.lang.reflect=ALL-UNNAMED
          - --add-opens=java.base/java.io=ALL-UNNAMED
          - --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED
          - -Xms2g
          - -Xmx2g
          - -javaagent:/opentelemetry-javaagent.jar
          - -Djava.security.egd=file:/dev/./urandom
          - -XX:MaxDirectMemorySize=3g
          - -XX:NativeMemoryTracking=detail
          - -XX:+HeapDumpOnOutOfMemoryError
          - -XX:HeapDumpPath=/tmp
          - -jar
          - /app/lib/4604-au-search.jar
          - --spring.config.location=classpath:application.yaml,classpath:application-toggle.yaml,classpath:application.properties,/secrets/application.properties,classpath:application-supersearch.yaml
          - --server.max-http-header-size=32768
          - --cssmdatacache.host=$(REDIS_CSSM_HOST)
          - --cssmdatacache.port=$(REDIS_CSSM_PORT)
          - --datacache.host=$(REDIS_MASTER_URL)
          - --datacache.hostLeader=$(REDIS_MASTER_URL)
          - --ltrdatacache.host=$(LTR_REDIS_URL)
          - --ltrdatacache.hostLeader=$(LTR_REDIS_URL_MASTER)
          - --graphdatacache.host=$(REDIS_GRAPH_HOST)
          - --graphdatacache.port=$(REDIS_GRAPH_PORT)
          - --solr.serverUrl=$(SOLR_URL)
          - --csr_services.environment=$(CSR_ENV)
          - --jcite.serverUrl=http://$(CSR_ENV)-citationrecognizer-jcite.route53.lexis.com/
          - --entitlements.subscription.host=http://$(CSR_ENV)-la-sp-entitlements.route53.lexis.com
          - --config.search.superSearchConfig.subSearchConfig.ltr.am.url=http://analytical-materials-au-ltr-staging.4604-search-services.svc:8080/predict
          - --config.search.superSearchConfig.subSearchConfig.ltr.case.url=http://cases-au-ltr-staging.4604-search-services.svc:8080/predict
          - --parallelCitation.serverUrl=http://parallel-citation-service-staging.4604-search-services.svc:8080/
          - --facetSearchLookup.enabled=false
          - --config.parser.forceProcessStopwords.enabled=true
          - --togglz.features.LNI_SET_FILTER.enabled=false
          - --togglz.features.RESTORE_ORIGINAL_SCORE.enabled=false
          - --togglz.features.WIDOW_CACHE.enabled=true
          env:
            ALLOW_PARTIAL_RESULTS: "false"
            CSR_ENV: cdc1c
            LTR_REDIS_URL: ""
            LTR_REDIS_URL_MASTER: ""
            REDIS_CSSM_HOST: search-cssm-redis-replicas
            REDIS_CSSM_PORT: "6379"
            REDIS_GRAPH_HOST: search-redis-graph-slave
            REDIS_GRAPH_PORT: "6379"
            REDIS_MASTER_URL: search-redis-master
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
            WAM_ENV: cdc1c
          image:
            pullPolicy: IfNotPresent
            repository: 4604-au-search
            tag: 5f47a1c6633e99eca8d83b06505058611715b296
          livenessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          readinessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          resources:
            limits:
              cpu: 4
              memory: 8Gi
            requests:
              cpu: 2
              memory: 4Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /secrets/
            name: parallel-citation-service-secrets-vol
            readOnly: true
          volumes:
          - name: parallel-citation-service-secrets-vol
            secret:
              secretName: parallel-citation-service-secrets
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        podAnnotations:
          traffic.sidecar.istio.io/excludeOutboundPorts: "6379"
        priorityClassName: srp-low
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: au-search-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: au-search-staging
      - name: nameOverride
        value: au-search-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-au-search-term-map
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-au-search-term-map
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: au-search-term-map
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9453"
        assetAreaName: au-stm
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            CSSM_HASH_KEYS: CSSM-pct-168-PROD,CSSM-pct-169-PROD,CSSM-pct-170-PROD,CSSM-pct-171-PROD,CSSM-pct-361-PROD,CSSM-pct-157-PROD,CSSM-pct-158-PROD,CSSM-pct-159-PROD,CSSM-pct-160-PROD,CSSM-pct-162-PROD,CSSM-pct-163-PROD,CSSM-pct-165-PROD,CSSM-pct-166-PROD,CSSM-pct-167-PROD,CSSM-pct-280-PROD,CSSM-pct-336-PROD,CSSM-pct-541-PROD,CSSM-pct-175-PROD,CSSM-pct-176-PROD,CSSM-pct-177-PROD,CSSM-pct-179-PROD,CSSM-pct-180-PROD,CSSM-pct-181-PROD,CSSM-pct-182-PROD,CSSM-pct-183-PROD,CSSM-pct-308-PROD,CSSM-pct-164-PROD,CSSM-pct-335-PROD,CSSM-pct-534-PROD,CSSM-pct-535-PROD,CSSM-pct-536-PROD,CSSM-pct-172-PROD,CSSM-pct-173-PROD,CSSM-pct-277-PROD,CSSM-pct-278-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-AU-SearchTermMap
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_EXTERNAL_TRANSFORM: "true"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENABLE_SEARCH_FEEDBACK: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            MAX_PASSAGES: "10"
            MAX_SNIPPETS_LIMIT: "15"
            METADATA_DATACENTER: us-east-1b
            PARSE_API_URL: http://au-search.4604-search-services.svc:8080
            PROCESS_SEGMENTS_CONCURRENTLY: "true"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TERM_UNITS_CONNECTOR_MATCH: "true"
            TRANSFORM_METADATA_TIMEOUT: "5"
            TRANSFORM_METADATA_URL: http://transform-stm.4604-search-services.svc:8080
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
          image:
            imagePullPolicy: Always
            repository: 4604-au-search-term-map
            tag: 18a9f422f4041c0f8d7e8c802ffb23fdce7eec76
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 5
              memory: 8Gi
            requests:
              cpu: 3
              memory: 6Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-stm-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 3
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: au-stm-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: au-stm
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: au-search-term-map
      - name: nameOverride
        value: au-search-term-map
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-au-search-term-map-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-au-search-term-map-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: au-search-term-map-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9453"
        assetAreaName: au-stm
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            CSSM_HASH_KEYS: CSSM-pct-168-PROD,CSSM-pct-169-PROD,CSSM-pct-170-PROD,CSSM-pct-171-PROD,CSSM-pct-361-PROD,CSSM-pct-157-PROD,CSSM-pct-158-PROD,CSSM-pct-159-PROD,CSSM-pct-160-PROD,CSSM-pct-162-PROD,CSSM-pct-163-PROD,CSSM-pct-165-PROD,CSSM-pct-166-PROD,CSSM-pct-167-PROD,CSSM-pct-280-PROD,CSSM-pct-336-PROD,CSSM-pct-541-PROD,CSSM-pct-175-PROD,CSSM-pct-176-PROD,CSSM-pct-177-PROD,CSSM-pct-179-PROD,CSSM-pct-180-PROD,CSSM-pct-181-PROD,CSSM-pct-182-PROD,CSSM-pct-183-PROD,CSSM-pct-308-PROD,CSSM-pct-164-PROD,CSSM-pct-335-PROD,CSSM-pct-534-PROD,CSSM-pct-535-PROD,CSSM-pct-536-PROD,CSSM-pct-172-PROD,CSSM-pct-173-PROD,CSSM-pct-277-PROD,CSSM-pct-278-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-AU-SearchTermMap
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_EXTERNAL_TRANSFORM: "true"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENABLE_SEARCH_FEEDBACK: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            MAX_PASSAGES: "10"
            MAX_SNIPPETS_LIMIT: "15"
            METADATA_DATACENTER: us-east-1b
            PARSE_API_URL: http://au-search-staging.4604-search-services.svc:8080
            PROCESS_SEGMENTS_CONCURRENTLY: "true"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TERM_UNITS_CONNECTOR_MATCH: "true"
            TRANSFORM_METADATA_TIMEOUT: "5"
            TRANSFORM_METADATA_URL: http://transform-stm-staging.4604-search-services.svc:8080
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
          image:
            imagePullPolicy: Always
            repository: 4604-au-search-term-map
            tag: 06dba9b4c728ae321e297fb148d4f5f847ae2d9a
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 5
              memory: 8Gi
            requests:
              cpu: 3
              memory: 6Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-stm-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: au-stm-staging-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: au-stm-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: au-search-term-map-staging
      - name: nameOverride
        value: au-search-term-map-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-cases-au-docmetadata
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-cases-au-docmetadata
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: cases-au-docmetadata
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8303"
        assetAreaName: cases-au-retrieve-docmetadata
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/retrieve-docmetadata
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --cssm.redis.host=$(CSSM_REDIS_HOST)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --transform.matadata.url=$(TRANSFORM_METADATA_URL)
          - --netty.thread.num=8
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONTENT_FETCHER_TYPES: s3,dl
            CSR_ENV: pdc1c
            CSSM_HASH_KEYS: CSSM-pct-170-PROD,CSSM-pct-168-PROD,CSSM-pct-171-PROD,CSSM-pct-169-PROD,CSSM-pct-361-PROD
            CSSM_REDIS_HOST: search-cssm-redis-replicas.4604-search-services.svc
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-Cases-AU-Retrieve
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_S3_TRANSFER_MANAGER: "false"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            METADATA_DATACENTER: us-east-1b
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TRANSFORM_METADATA_URL: http://transform-metadata.4604-search-services.svc:8080
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
          image:
            PullPolicy: Always
            repository: 4604-cases-au-retrieve-docmetadata
            tag: f5ca2bbdb6cc243ee3145644b6ec449f10d3f298
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 4
              memory: 8Gi
            requests:
              cpu: 2
              memory: 4Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-retrieve-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: cases-au-docmetadata-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: cases-au-docmetadata
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: cases-au-docmetadata
      - name: nameOverride
        value: cases-au-docmetadata
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-cases-au-docmetadata-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-cases-au-docmetadata-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: cases-au-docmetadata-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8303"
        assetAreaName: cases-au-retrieve-docmetadata
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/retrieve-docmetadata
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --cssm.redis.host=$(CSSM_REDIS_HOST)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --transform.matadata.url=$(TRANSFORM_METADATA_URL)
          - --netty.thread.num=8
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONTENT_FETCHER_TYPES: s3,dl
            CSR_ENV: cdc1c
            CSSM_HASH_KEYS: CSSM-pct-170-PROD,CSSM-pct-168-PROD,CSSM-pct-171-PROD,CSSM-pct-169-PROD,CSSM-pct-361-PROD
            CSSM_REDIS_HOST: search-cssm-redis-replicas.4604-search-services.svc
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-Cases-AU-Retrieve
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_S3_TRANSFER_MANAGER: "false"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            METADATA_DATACENTER: us-east-1b
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TRANSFORM_METADATA_URL: http://transform-metadata-staging.4604-search-services.svc:8080
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
          image:
            PullPolicy: Always
            repository: 4604-cases-au-retrieve-docmetadata
            tag: 5cbda3f031ed6352fb7f77ae6aa93a1df16f137f
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 4
              memory: 8Gi
            requests:
              cpu: 2
              memory: 4Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-retrieve-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: cases-au-docmetadata-cdc1c-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: cases-au-docmetadata-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: cases-au-docmetadata-staging
      - name: nameOverride
        value: cases-au-docmetadata-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-cases-au-documentinfo
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-cases-au-documentinfo
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: cases-au-documentinfo
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8331"
        assetAreaName: cases-au-documentinfo
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/documentinfo-service
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --solr.server.url=$(SOLR_URL)
          - --solr.jsonResponseEnabled=true
          - --cssm.redis.host=$(CSSM_REDIS_URL)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --datacache.redis.host=$(REDIS_URL)
          - --netty.thread.num=8
          - --config.batch.group.num=500
          - --search.togglz.features.SWITCH_TO_LA_IF_NECESSARY.enabled=true
          env:
            CSR_ENV: pdc1c
            CSSM_CACHE_ENABLED: "true"
            CSSM_CACHE_EXPIRE_AFTER_WRITE: 4h
            CSSM_CACHE_MAXIMUM_SIZE: "200"
            CSSM_HASH_KEYS: CSSM-pct-168-PROD,CSSM-pct-169-PROD,CSSM-pct-170-PROD,CSSM-pct-171-PROD,CSSM-pct-361-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            GRAPH_CACHE_ENABLED: "true"
            GRAPH_CACHE_EXPIRE_AFTER_WRITE: 4h
            GRAPH_CACHE_MAXIMUM_SIZE: "200"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
          image:
            PullPolicy: Always
            repository: 4604-cases-au-documentinfo
            tag: ef34b02f3c4cec8d3d6ef53a3708b4c43cc8a630
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 5
              memory: 8Gi
            requests:
              cpu: 3
              memory: 6Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: cases-au-documentinfo
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: cases-au-documentinfo
      - name: nameOverride
        value: cases-au-documentinfo
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-cases-au-documentinfo-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-cases-au-documentinfo-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: cases-au-documentinfo-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8331"
        assetAreaName: cases-au-documentinfo
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/documentinfo-service
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --solr.server.url=$(SOLR_URL)
          - --solr.jsonResponseEnabled=true
          - --cssm.redis.host=$(CSSM_REDIS_URL)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --datacache.redis.host=$(REDIS_URL)
          - --netty.thread.num=8
          - --config.batch.group.num=500
          - --search.togglz.features.SWITCH_TO_LA_IF_NECESSARY.enabled=true
          env:
            CSR_ENV: cdc1c
            CSSM_CACHE_ENABLED: "true"
            CSSM_CACHE_EXPIRE_AFTER_WRITE: 4h
            CSSM_CACHE_MAXIMUM_SIZE: "200"
            CSSM_HASH_KEYS: CSSM-pct-168-PROD,CSSM-pct-169-PROD,CSSM-pct-170-PROD,CSSM-pct-171-PROD,CSSM-pct-361-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            GRAPH_CACHE_ENABLED: "true"
            GRAPH_CACHE_EXPIRE_AFTER_WRITE: 4h
            GRAPH_CACHE_MAXIMUM_SIZE: "200"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
          image:
            PullPolicy: Always
            repository: 4604-cases-au-documentinfo
            tag: b62cba84037cb7f513c992a878ac74a0472ff12b
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 5
              memory: 8Gi
            requests:
              cpu: 3
              memory: 6Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: cases-au-documentinfo-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: cases-au-documentinfo-staging
      - name: nameOverride
        value: cases-au-documentinfo-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-cases-au-ltr
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-cases-au-ltr
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: cases-au-ltr
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9465"
        assetAreaName: cases-au-ltr
        assetGroup: prod
        assetId: "4604"
        assetName: AU-Search-Platform
        containerSettings:
          command:
          - opentelemetry-instrument
          - uvicorn
          - ltrservice.LtrService:app
          - --host
          - 0.0.0.0
          - --port
          - "8090"
          env:
            OTEL_PYTHON_FASTAPI_EXCLUDED_URLS: health
          image:
            pullPolicy: IfNotPresent
            repository: 4604-cases-au-ltr
            tag: edd5d2d07647975d9aff91b5d6d3f81366a236dc
          livenessProbe:
            initialDelaySeconds: 15
            path: /health
            periodSeconds: 30
            timeoutSeconds: 5
          readinessProbe:
            initialDelaySeconds: 15
            path: /health
            periodSeconds: 30
            timeoutSeconds: 5
          resources:
            limits:
              cpu: 4
              memory: 8Gi
            requests:
              cpu: 2
              memory: 4Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: false
            runAsGroup: 10000
            runAsUser: 10000
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /actuator/prometheus
          scrape: "false"
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        service:
          targetPort: 8090
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-au-ltr-services-s3-role
          create: true
          name: cases-au-ltr-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: cases-au-ltr
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: cases-au-ltr
      - name: nameOverride
        value: cases-au-ltr
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-cases-au-ltr-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-cases-au-ltr-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: cases-au-ltr-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9465"
        assetAreaName: cases-au-ltr
        assetGroup: staging
        assetId: "4604"
        assetName: AU-Search-Platform
        containerSettings:
          command:
          - opentelemetry-instrument
          - uvicorn
          - ltrservice.LtrService:app
          - --host
          - 0.0.0.0
          - --port
          - "8090"
          env:
            OTEL_PYTHON_FASTAPI_EXCLUDED_URLS: health
          image:
            pullPolicy: IfNotPresent
            repository: 4604-cases-au-ltr
            tag: edd5d2d07647975d9aff91b5d6d3f81366a236dc
          livenessProbe:
            initialDelaySeconds: 15
            path: /health
            periodSeconds: 30
            timeoutSeconds: 5
          readinessProbe:
            initialDelaySeconds: 15
            path: /health
            periodSeconds: 30
            timeoutSeconds: 5
          resources:
            limits:
              cpu: 4
              memory: 8Gi
            requests:
              cpu: 2
              memory: 4Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: false
            runAsGroup: 10000
            runAsUser: 10000
        coralogix:
          enabled: true
        datadog:
          nameOverride: cases-au-ltr-prod2-4604
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /actuator/prometheus
          scrape: "false"
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        service:
          targetPort: 8090
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-au-ltr-services-s3-role
          create: true
          name: cases-au-ltr-staging-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: cases-au-ltr-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: cases-au-ltr-staging
      - name: nameOverride
        value: cases-au-ltr-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-cases-au-retrieve
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-cases-au-retrieve
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: cases-au-retrieve
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8209"
        assetAreaName: cases-au-retrieve
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASEBASESIGNAL_SVC_HOST: pdc1c-apac-casebasesignal.route53.lexis.com
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            COURT_REDIS_URL: search-redis-replicas.4604-search-services.svc
            CSR_ENV: pdc1c
            CSSM_HASH_KEYS: CSSM-pct-170-PROD,CSSM-pct-168-PROD,CSSM-pct-171-PROD,CSSM-pct-169-PROD,CSSM-pct-361-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-Cases-AU-Retrieve
            DL_SDK_DEBUG_ENABLED: "false"
            DOC_INFO_SVC_HOST: cases-au-documentinfo.4604-search-services.svc:8080
            DOC_INFO_SVC_TIMEOUT: "5"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            DOSSIER_SVC_HOST: pdc1c-delivery-csr-marklogic-legal.route53.lexis.com
            DOSSIER_SVC_PORT: "25042"
            DOSSIER_TIMEOUT: "20"
            ENABLE_LML_REFERENCES: "false"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENABLE_SP_LINK_META_DATA_DEFAULT_DARKLAUNCH: "false"
            ENABLE_SP_LINK_META_DATA_Migration: "true"
            ENTITY_REDIS_URL: search-redis-replicas.4604-search-services.svc
            IS_CASEBASESIGNAL_APPLICABLE: "true"
            IS_COMPANY_INFO_APPLICABLE: "false"
            IS_SHEPARDS_DOCINFO_APPLICABLE: "true"
            IS_TOC_APPLICABLE: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            LINK_METADATA_SVC_HOST: pdc1c-delivery-csr-marklogic-intl.route53.lexis.com
            LINK_METADATA_SVC_PORT: "25056"
            LINK_METADATA_TIMEOUT: "20"
            LINK_METADATA_USE_ADDITIONAL: "Y"
            LML_REFERENCES_SVC_HOST: pdc1c-delivery-csr-marklogic-legal.route53.lexis.com
            LML_REFERENCES_SVC_PORT: "25097"
            LML_REFERENCES_TIMEOUT: "5"
            LOAD_PCT_RESOURCE_ONSTARTUP: "true"
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            LOAD_SOURCESET_REDIS_ONSTARTUP: "true"
            MAX_PASSAGES: "10"
            METADATA_DATACENTER: us-east-1b
            ML_POD: "11.3"
            NETTY_THREAD_NUM: "8"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RESOLVE_ENTITY_LINKS: "true"
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc.cluster.local
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            SEARCH_GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            SHEPARDS_DOCINFO_SVC_HOST: pdc1c-csr-shepards.route53.lexis.com
            SKIP_ENTITLEMENTS: "false"
            SP_LINK_METADATA_HOST: pdc1c-csr-sp-linkmeta.route53.lexis.com
            SPLIT_DOC_LINKS_AND_TOPICS: "true"
            TOC_SVC_HOST: pdc1c-delivery-csr-marklogic-intl.route53.lexis.com
            TOC_SVC_PORT: "30005"
            TRANSFORM_METADATA: "true"
            TRANSFORM_METADATA_URL: http://transform-metadata.4604-search-services.svc:8080
            TRANSFORM_STM_METADATA_URL: http://transform-stm.4604-search-services.svc:8080
            USE_COMMON_ANALYZERS_USING_SCHEMA: "true"
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
            USE_TERM_UNIT_LOOKUP: "true"
            USE_TRANSFORM_FUTURE: "true"
            ZIP_METADATA: "false"
          image:
            imagePullPolicy: Always
            repository: 4604-cases-au-retrieve
            tag: 44d2777adc9ba4d9bff4b15dd79981a39cdd80a6
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 8
              memory: 16Gi
            requests:
              cpu: 4
              memory: 8Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-retrieve-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: cases-au-retrieve-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: cases-au-retrieve
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: cases-au-retrieve
      - name: nameOverride
        value: cases-au-retrieve
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-cases-au-retrieve-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-cases-au-retrieve-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: cases-au-retrieve-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8209"
        assetAreaName: cases-au-retrieve
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASEBASESIGNAL_SVC_HOST: cdc1c-apac-casebasesignal.route53.lexis.com
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            COURT_REDIS_URL: search-redis-replicas.4604-search-services.svc
            CSR_ENV: cdc1c
            CSSM_HASH_KEYS: CSSM-pct-170-PROD,CSSM-pct-168-PROD,CSSM-pct-171-PROD,CSSM-pct-169-PROD,CSSM-pct-361-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-Cases-AU-Retrieve
            DL_SDK_DEBUG_ENABLED: "false"
            DOC_INFO_SVC_HOST: cases-au-documentinfo-staging.4604-search-services.svc:8080
            DOC_INFO_SVC_TIMEOUT: "5"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            DOSSIER_SVC_HOST: cdc1c-delivery-csr-marklogic-legal.route53.lexis.com
            DOSSIER_SVC_PORT: "25142"
            DOSSIER_TIMEOUT: "20"
            ENABLE_LML_REFERENCES: "false"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENABLE_SP_LINK_META_DATA_DEFAULT_DARKLAUNCH: "false"
            ENABLE_SP_LINK_META_DATA_Migration: "true"
            ENTITY_REDIS_URL: search-redis-replicas.4604-search-services.svc
            IS_CASEBASESIGNAL_APPLICABLE: "true"
            IS_COMPANY_INFO_APPLICABLE: "false"
            IS_SHEPARDS_DOCINFO_APPLICABLE: "true"
            IS_TOC_APPLICABLE: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            LINK_METADATA_SVC_HOST: cdc1c-delivery-csr-marklogic-intl.route53.lexis.com
            LINK_METADATA_SVC_PORT: "25156"
            LINK_METADATA_TIMEOUT: "20"
            LINK_METADATA_USE_ADDITIONAL: "Y"
            LML_REFERENCES_SVC_HOST: cdc1c-delivery-csr-marklogic-legal.route53.lexis.com
            LML_REFERENCES_SVC_PORT: "25197"
            LML_REFERENCES_TIMEOUT: "5"
            LOAD_PCT_RESOURCE_ONSTARTUP: "true"
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            LOAD_SOURCESET_REDIS_ONSTARTUP: "true"
            MAX_PASSAGES: "10"
            METADATA_DATACENTER: us-east-1b
            ML_POD: "11.3"
            NETTY_THREAD_NUM: "8"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RESOLVE_ENTITY_LINKS: "true"
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc.cluster.local
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            SEARCH_GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            SHEPARDS_DOCINFO_SVC_HOST: cdc1c-csr-shepards.route53.lexis.com
            SKIP_ENTITLEMENTS: "false"
            SP_LINK_METADATA_HOST: cdc1c-csr-sp-linkmeta.route53.lexis.com
            SPLIT_DOC_LINKS_AND_TOPICS: "true"
            TOC_SVC_HOST: cdc1c-delivery-csr-marklogic-intl.route53.lexis.com
            TOC_SVC_PORT: "30105"
            TRANSFORM_METADATA: "true"
            TRANSFORM_METADATA_URL: http://transform-metadata-staging.4604-search-services.svc:8080
            TRANSFORM_STM_METADATA_URL: http://transform-stm-staging.4604-search-services.svc:8080
            USE_COMMON_ANALYZERS_USING_SCHEMA: "true"
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
            USE_TERM_UNIT_LOOKUP: "true"
            USE_TRANSFORM_FUTURE: "true"
            ZIP_METADATA: "false"
          image:
            imagePullPolicy: Always
            repository: 4604-cases-au-retrieve
            tag: 44d2777adc9ba4d9bff4b15dd79981a39cdd80a6
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 8
              memory: 16Gi
            requests:
              cpu: 4
              memory: 8Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-retrieve-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: cases-au-retrieve-staging-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: cases-au-retrieve-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: cases-au-retrieve-staging
      - name: nameOverride
        value: cases-au-retrieve-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-cases-au-search
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-cases-au-search
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: cases-au-search
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8235"
        assetAreaName: cases-au-search
        assetGroup: prod
        assetId: "4604"
        assetName: AU-Search-Platform
        containerSettings:
          command:
          - java
          - --add-exports=java.base/sun.nio.ch=ALL-UNNAMED
          - --add-opens=java.base/java.lang=ALL-UNNAMED
          - --add-opens=java.base/java.lang.reflect=ALL-UNNAMED
          - --add-opens=java.base/java.io=ALL-UNNAMED
          - --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED
          - -Xms2g
          - -Xmx2g
          - -javaagent:/opentelemetry-javaagent.jar
          - -Djava.security.egd=file:/dev/./urandom
          - -XX:MaxDirectMemorySize=3g
          - -XX:NativeMemoryTracking=detail
          - -XX:+HeapDumpOnOutOfMemoryError
          - -XX:HeapDumpPath=/tmp
          - -jar
          - /app/lib/4604-cases-au-search.jar
          - --spring.config.location=classpath:application.yaml,classpath:application-toggle.yaml,classpath:application.properties,/secrets/application.properties
          - --server.max-http-header-size=32768
          - --cssmdatacache.host=$(REDIS_CSSM_HOST)
          - --cssmdatacache.port=$(REDIS_CSSM_PORT)
          - --cssmdatacache.localcache.timeToLive=60
          - --cssmdatacache.localcache.initialCapacity=100
          - --cssmdatacache.localcache.maximumSize=500
          - --datacache.host=$(REDIS_MASTER_URL)
          - --datacache.hostLeader=$(REDIS_MASTER_URL)
          - --datacache.poolSize=1000
          - --ltrdatacache.host=$(LTR_REDIS_URL)
          - --ltrdatacache.hostLeader=$(LTR_REDIS_URL_MASTER)
          - --graphdatacache.host=$(REDIS_GRAPH_HOST)
          - --graphdatacache.port=$(REDIS_GRAPH_PORT)
          - --solr.serverUrl=$(SOLR_URL)
          - --solr.solrCloudEnabled=$(SOLR_CLOUD_ENABLED)
          - --solr.socketTimeout=$(SOLR_SOCKET_TIME_OUT)
          - --solr.jsonResponseEnabled=true
          - --solr.shouldCustomSolrClient=true
          - --solr.maxTotal=80
          - --csr_services.environment=$(CSR_ENV)
          - --wam_services.environment=$(WAM_ENV)
          - --jcite.serverUrl=http://$(CSR_ENV)-citationrecognizer-jcite.route53.lexis.com/
          - --linkResolution.serverUrl=http://$(CSR_ENV)-delivery-csr-marklogic-metadata.route53.lexis.com:25099/11.3/services/
          - --linkmetadata.serverUrl=http://$(CSR_ENV)-delivery-csr-marklogic-intl.route53.lexis.com:25056/11.3/services/
          - --linkResolve.serverUrl=http://$(CSR_ENV)-delivery-csr-marklogic-intl.route53.lexis.com:25056/11.3/services/
          - --linkResolution.httpTimeout=5000
          - --entitlements.subscription.host=http://$(CSR_ENV)-la-sp-entitlements.route53.lexis.com
          - --entitlements.authorization.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --pricing.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --toc.host=http://$(CSR_ENV)-delivery-csr-marklogic-intl.route53.lexis.com:30005/11.3/services/
          - --toc-search.enabled=$(TOC_SEARCH_ENABLED)
          - --toc-search.host=http://$(CSR_ENV)-csr-toc.route53.lexis.com
          - --answerCard.enabled=$(ANSWERCARD_ENABLED)
          - --qqa.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --ses.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --workfolders.enabled=$(WORKFOLDERS_ENABLED)
          - --workfolders.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --shepciterefinfo.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --gsc.serverUrl=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --casebasesignals.host=http://$(CSR_ENV)-apac-casebasesignal.route53.lexis.com/
          - --config.search.reRank.ltr.url=http://cases-au-ltr.4604-search-services.svc:8080/predict
          - --casebasesignals.timeout=5
          - --shepciterefinfo.timeout=5
          - --parallelCitation.serverUrl=http://parallel-citation-service.4604-search-services.svc:8080/
          - --config.parser.forceProcessStopwords.enabled=true
          - --config.recognition.token.minStemmingLength=2
          - --togglz.features.WIDOW_CACHE.enabled=true
          - --togglz.features.WIDOW_CACHE_N1.enabled=true
          - --togglz.features.COMBINED_CASES_LNI_SEARCH.enabled=false
          - --ses.timeoutDuration=5
          - --jcite.timeout=5000
          - --config.search.reRank.ltr.solrTimeout=60000
          - --config.search.reRank.ltr.timeoutSeconds=30
          - --config.search.recall.natand.widow.timeoutMillions=10000
          env:
            ALLOW_PARTIAL_RESULTS: "false"
            ANSWERCARD_ENABLED: "false"
            CSR_ENV: pdc1c
            LINK_METADATA_TIMEOUT: "5"
            LTR_REDIS_URL: ""
            LTR_REDIS_URL_MASTER: ""
            ML_POD: "11.3"
            REDIS_CSSM_HOST: search-cssm-redis-replicas
            REDIS_CSSM_PORT: "6379"
            REDIS_GRAPH_HOST: search-redis-graph-slave
            REDIS_GRAPH_PORT: "6379"
            REDIS_MASTER_URL: search-redis-master
            SOLR_CLOUD_ENABLED: "false"
            SOLR_RETRY_TIME_OUT: "100"
            SOLR_SOCKET_TIME_OUT: "300000"
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
            TOC_SEARCH_ENABLED: "true"
            WAM_ENV: prod
            WORKFOLDERS_ENABLED: "true"
          image:
            pullPolicy: IfNotPresent
            repository: 4604-cases-au-search
            tag: 1d307a30a3298c5875df195e4bae0f6fc807addd
          livenessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          readinessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          resources:
            limits:
              cpu: 4
              memory: 8Gi
            requests:
              cpu: 2
              memory: 4Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /secrets/
            name: parallel-citation-service-secrets-vol
            readOnly: true
          volumes:
          - name: parallel-citation-service-secrets-vol
            secret:
              secretName: parallel-citation-service-secrets
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        podAnnotations:
          traffic.sidecar.istio.io/excludeOutboundPorts: "6379"
        priorityClassName: srp-low
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: cases-au-search
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: cases-au-search
      - name: nameOverride
        value: cases-au-search
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-cases-au-search-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-cases-au-search-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: cases-au-search-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8235"
        assetAreaName: cases-au-search
        assetGroup: staging
        assetId: "4604"
        assetName: AU-Search-Platform
        containerSettings:
          command:
          - java
          - --add-exports=java.base/sun.nio.ch=ALL-UNNAMED
          - --add-opens=java.base/java.lang=ALL-UNNAMED
          - --add-opens=java.base/java.lang.reflect=ALL-UNNAMED
          - --add-opens=java.base/java.io=ALL-UNNAMED
          - --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED
          - -Xms2g
          - -Xmx2g
          - -javaagent:/opentelemetry-javaagent.jar
          - -Djava.security.egd=file:/dev/./urandom
          - -XX:MaxDirectMemorySize=3g
          - -XX:NativeMemoryTracking=detail
          - -XX:+HeapDumpOnOutOfMemoryError
          - -XX:HeapDumpPath=/tmp
          - -jar
          - /app/lib/4604-cases-au-search.jar
          - --spring.config.location=classpath:application.yaml,classpath:application-toggle.yaml,classpath:application.properties,/secrets/application.properties
          - --server.max-http-header-size=32768
          - --cssmdatacache.host=$(REDIS_CSSM_HOST)
          - --cssmdatacache.port=$(REDIS_CSSM_PORT)
          - --cssmdatacache.localcache.timeToLive=60
          - --cssmdatacache.localcache.initialCapacity=100
          - --cssmdatacache.localcache.maximumSize=500
          - --datacache.host=$(REDIS_MASTER_URL)
          - --datacache.hostLeader=$(REDIS_MASTER_URL)
          - --datacache.poolSize=1000
          - --ltrdatacache.host=$(LTR_REDIS_URL)
          - --ltrdatacache.hostLeader=$(LTR_REDIS_URL_MASTER)
          - --graphdatacache.host=$(REDIS_GRAPH_HOST)
          - --graphdatacache.port=$(REDIS_GRAPH_PORT)
          - --solr.serverUrl=$(SOLR_URL)
          - --solr.solrCloudEnabled=$(SOLR_CLOUD_ENABLED)
          - --solr.socketTimeout=$(SOLR_SOCKET_TIME_OUT)
          - --solr.jsonResponseEnabled=true
          - --solr.shouldCustomSolrClient=true
          - --solr.maxTotal=80
          - --csr_services.environment=$(CSR_ENV)
          - --wam_services.environment=$(WAM_ENV)
          - --jcite.serverUrl=http://$(CSR_ENV)-citationrecognizer-jcite.route53.lexis.com/
          - --linkResolution.serverUrl=http://$(CSR_ENV)-delivery-csr-marklogic-metadata.route53.lexis.com:25199/11.3/services/
          - --parallelCitation.serverUrl=http://parallel-citation-service-staging.4604-search-services.svc:8080/
          - --linkmetadata.serverUrl=http://$(CSR_ENV)-delivery-csr-marklogic-intl.route53.lexis.com:25156/11.3/services/
          - --linkResolve.serverUrl=http://$(CSR_ENV)-delivery-csr-marklogic-intl.route53.lexis.com:25156/11.3/services/
          - --entitlements.subscription.host=http://$(CSR_ENV)-la-sp-entitlements.route53.lexis.com
          - --toc.host=http://$(CSR_ENV)-delivery-csr-marklogic-intl.route53.lexis.com:30105/11.3/services/
          - --config.search.reRank.ltr.url=http://cases-au-ltr-staging.4604-search-services.svc:8080/predict
          - --facetSearchLookup.enabled=false
          - --config.parser.forceProcessStopwords.enabled=true
          - --config.teasers.modes.terms.provider=unified
          - --config.teasers.modes.extract.provider=unified
          - --togglz.features.WIDOW_CACHE.enabled=true
          - --togglz.features.WIDOW_CACHE_N1.enabled=true
          - --togglz.features.COMBINED_CASES_LNI_SEARCH.enabled=false
          - --ses.timeoutDuration=10
          - --jcite.timeout=10000
          - --config.search.reRank.ltr.solrTimeout=60000
          - --config.search.reRank.ltr.timeoutSeconds=30
          - --config.search.recall.natand.widow.timeoutMillions=80000
          env:
            ALLOW_PARTIAL_RESULTS: "false"
            CSR_ENV: cdc1c
            LTR_REDIS_URL: ""
            LTR_REDIS_URL_MASTER: ""
            REDIS_CSSM_HOST: search-cssm-redis-replicas
            REDIS_CSSM_PORT: "6379"
            REDIS_GRAPH_HOST: search-redis-graph-slave
            REDIS_GRAPH_PORT: "6379"
            REDIS_MASTER_URL: search-redis-master
            SOLR_CLOUD_ENABLED: "false"
            SOLR_RETRY_TIME_OUT: "100"
            SOLR_SOCKET_TIME_OUT: "300000"
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
            WAM_ENV: cdc1c
          image:
            pullPolicy: IfNotPresent
            repository: 4604-cases-au-search
            tag: bae2192fd1c5f6cb5f44dd4c99830577740c47a6
          livenessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          readinessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          resources:
            limits:
              cpu: 4
              memory: 8Gi
            requests:
              cpu: 2
              memory: 4Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /secrets/
            name: parallel-citation-service-secrets-vol
            readOnly: true
          volumes:
          - name: parallel-citation-service-secrets-vol
            secret:
              secretName: parallel-citation-service-secrets
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        podAnnotations:
          traffic.sidecar.istio.io/excludeOutboundPorts: "6379"
        priorityClassName: srp-low
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: cases-au-search-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: cases-au-search-staging
      - name: nameOverride
        value: cases-au-search-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-cases-au-search-term-map
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-cases-au-search-term-map
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: cases-au-search-term-map
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8345"
        assetAreaName: cases-au-stm
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            CSSM_HASH_KEYS: CSSM-pct-170-PROD,CSSM-pct-168-PROD,CSSM-pct-171-PROD,CSSM-pct-169-PROD,CSSM-pct-361-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-Cases-AU-SearchTermMap
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_EXTERNAL_TRANSFORM: "true"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENABLE_SEARCH_FEEDBACK: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            MAX_PASSAGES: "10"
            MAX_SNIPPETS_LIMIT: "15"
            METADATA_DATACENTER: us-east-1b
            PARSE_API_URL: http://cases-au-search.4604-search-services.svc:8080
            PROCESS_SEGMENTS_CONCURRENTLY: "true"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TERM_UNITS_CONNECTOR_MATCH: "true"
            TRANSFORM_METADATA_TIMEOUT: "5"
            TRANSFORM_METADATA_URL: http://transform-stm.4604-search-services.svc:8080
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
          image:
            imagePullPolicy: Always
            repository: 4604-cases-au-search-term-map
            tag: 550311b620d69955dc1ff953aecfb6990c2ac630
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 5
              memory: 8Gi
            requests:
              cpu: 3
              memory: 6Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-stm-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 3
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: cases-au-stm-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: cases-au-stm
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: cases-au-search-term-map
      - name: nameOverride
        value: cases-au-search-term-map
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-cases-au-search-term-map-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-cases-au-search-term-map-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: cases-au-search-term-map-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8345"
        assetAreaName: cases-au-stm
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            CSSM_HASH_KEYS: CSSM-pct-170-PROD,CSSM-pct-168-PROD,CSSM-pct-171-PROD,CSSM-pct-169-PROD,CSSM-pct-361-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-Cases-AU-SearchTermMap
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_EXTERNAL_TRANSFORM: "true"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENABLE_SEARCH_FEEDBACK: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            MAX_PASSAGES: "10"
            MAX_SNIPPETS_LIMIT: "15"
            METADATA_DATACENTER: us-east-1b
            PARSE_API_URL: http://cases-au-search-staging.4604-search-services.svc:8080
            PROCESS_SEGMENTS_CONCURRENTLY: "true"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TERM_UNITS_CONNECTOR_MATCH: "true"
            TRANSFORM_METADATA_TIMEOUT: "5"
            TRANSFORM_METADATA_URL: http://transform-stm-staging.4604-search-services.svc:8080
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
          image:
            imagePullPolicy: Always
            repository: 4604-cases-au-search-term-map
            tag: 06dba9b4c728ae321e297fb148d4f5f847ae2d9a
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 5
              memory: 8Gi
            requests:
              cpu: 3
              memory: 6Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-stm-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: cases-au-stm-staging-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: cases-au-stm-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: cases-au-search-term-map-staging
      - name: nameOverride
        value: cases-au-search-term-map-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-forms-au-docmetadata
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-forms-au-docmetadata
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: forms-au-docmetadata
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9794"
        assetAreaName: forms-au-retrieve-docmetadata
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/retrieve-docmetadata
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --cssm.redis.host=$(CSSM_REDIS_HOST)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --transform.matadata.url=$(TRANSFORM_METADATA_URL)
          - --netty.thread.num=8
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONTENT_FETCHER_TYPES: s3,dl
            CSR_ENV: pdc1c
            CSSM_HASH_KEYS: CSSM-pct-172-PROD,CSSM-pct-173-PROD,CSSM-pct-277-PROD,CSSM-pct-278-PROD
            CSSM_REDIS_HOST: search-cssm-redis-replicas.4604-search-services.svc
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-Forms-AU-Retrieve
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_S3_TRANSFER_MANAGER: "false"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            METADATA_DATACENTER: us-east-1b
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TRANSFORM_METADATA_URL: http://transform-metadata.4604-search-services.svc:8080
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
          image:
            PullPolicy: Always
            repository: 4604-forms-au-retrieve-docmetadata
            tag: f5ca2bbdb6cc243ee3145644b6ec449f10d3f298
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 2
              memory: 2Gi
            requests:
              cpu: 1
              memory: 1Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-retrieve-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: forms-au-docmetadata-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: forms-au-docmetadata
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: forms-au-docmetadata
      - name: nameOverride
        value: forms-au-docmetadata
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-forms-au-docmetadata-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-forms-au-docmetadata-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: forms-au-docmetadata-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9794"
        assetAreaName: forms-au-retrieve-docmetadata
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/retrieve-docmetadata
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --cssm.redis.host=$(CSSM_REDIS_HOST)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --transform.matadata.url=$(TRANSFORM_METADATA_URL)
          - --netty.thread.num=8
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONTENT_FETCHER_TYPES: s3,dl
            CSR_ENV: cdc1c
            CSSM_HASH_KEYS: CSSM-pct-172-PROD,CSSM-pct-173-PROD,CSSM-pct-277-PROD,CSSM-pct-278-PROD
            CSSM_REDIS_HOST: search-cssm-redis-replicas.4604-search-services.svc
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-Forms-AU-Retrieve
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_S3_TRANSFER_MANAGER: "false"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            METADATA_DATACENTER: us-east-1b
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TRANSFORM_METADATA_URL: http://transform-metadata-staging.4604-search-services.svc:8080
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
          image:
            PullPolicy: Always
            repository: 4604-forms-au-retrieve-docmetadata
            tag: 5cbda3f031ed6352fb7f77ae6aa93a1df16f137f
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 2
              memory: 2Gi
            requests:
              cpu: 1
              memory: 1Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-retrieve-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: forms-au-docmetadata-cdc1c-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: forms-au-docmetadata-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: forms-au-docmetadata-staging
      - name: nameOverride
        value: forms-au-docmetadata-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-forms-au-documentinfo
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-forms-au-documentinfo
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: forms-au-documentinfo
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9765"
        assetAreaName: forms-au-documentinfo
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/documentinfo-service
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --solr.server.url=$(SOLR_URL)
          - --solr.jsonResponseEnabled=true
          - --cssm.redis.host=$(CSSM_REDIS_URL)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --datacache.redis.host=$(REDIS_URL)
          - --netty.thread.num=8
          - --config.batch.group.num=500
          - --search.togglz.features.SWITCH_TO_LA_IF_NECESSARY.enabled=true
          env:
            CSR_ENV: pdc1c
            CSSM_CACHE_ENABLED: "true"
            CSSM_CACHE_EXPIRE_AFTER_WRITE: 4h
            CSSM_CACHE_MAXIMUM_SIZE: "200"
            CSSM_HASH_KEYS: CSSM-pct-172-PROD,CSSM-pct-173-PROD,CSSM-pct-277-PROD,CSSM-pct-278-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            GRAPH_CACHE_ENABLED: "true"
            GRAPH_CACHE_EXPIRE_AFTER_WRITE: 4h
            GRAPH_CACHE_MAXIMUM_SIZE: "200"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
          image:
            PullPolicy: Always
            repository: 4604-forms-au-documentinfo
            tag: ef34b02f3c4cec8d3d6ef53a3708b4c43cc8a630
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: forms-au-documentinfo
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: forms-au-documentinfo
      - name: nameOverride
        value: forms-au-documentinfo
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-forms-au-documentinfo-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-forms-au-documentinfo-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: forms-au-documentinfo-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9765"
        assetAreaName: forms-au-documentinfo
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/documentinfo-service
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --solr.server.url=$(SOLR_URL)
          - --solr.jsonResponseEnabled=true
          - --cssm.redis.host=$(CSSM_REDIS_URL)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --datacache.redis.host=$(REDIS_URL)
          - --netty.thread.num=8
          - --config.batch.group.num=500
          - --search.togglz.features.SWITCH_TO_LA_IF_NECESSARY.enabled=true
          env:
            CSR_ENV: cdc1c
            CSSM_CACHE_ENABLED: "true"
            CSSM_CACHE_EXPIRE_AFTER_WRITE: 4h
            CSSM_CACHE_MAXIMUM_SIZE: "200"
            CSSM_HASH_KEYS: CSSM-pct-172-PROD,CSSM-pct-173-PROD,CSSM-pct-277-PROD,CSSM-pct-278-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            GRAPH_CACHE_ENABLED: "true"
            GRAPH_CACHE_EXPIRE_AFTER_WRITE: 4h
            GRAPH_CACHE_MAXIMUM_SIZE: "200"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
          image:
            PullPolicy: Always
            repository: 4604-forms-au-documentinfo
            tag: b62cba84037cb7f513c992a878ac74a0472ff12b
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: forms-au-documentinfo-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: forms-au-documentinfo-staging
      - name: nameOverride
        value: forms-au-documentinfo-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-forms-au-retrieve
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-forms-au-retrieve
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: forms-au-retrieve
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9773"
        assetAreaName: forms-au-retrieve
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASEBASESIGNAL_SVC_HOST: pdc1c-apac-casebasesignal.route53.lexis.com
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            COURT_REDIS_URL: search-redis-replicas.4604-search-services.svc
            CSR_ENV: pdc1c
            CSSM_HASH_KEYS: CSSM-pct-172-PROD,CSSM-pct-173-PROD,CSSM-pct-277-PROD,CSSM-pct-278-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-Forms-AU-Retrieve
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            DOSSIER_SVC_HOST: pdc1c-delivery-csr-marklogic-legal.route53.lexis.com
            DOSSIER_SVC_PORT: "25042"
            DOSSIER_TIMEOUT: "20"
            ENABLE_LML_REFERENCES: "false"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENTITY_REDIS_URL: search-redis-replicas.4604-search-services.svc
            IS_CASEBASESIGNAL_APPLICABLE: "true"
            IS_COMPANY_INFO_APPLICABLE: "false"
            IS_SHEPARDS_DOCINFO_APPLICABLE: "true"
            IS_TOC_APPLICABLE: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            LINK_METADATA_SVC_HOST: pdc1c-delivery-csr-marklogic-intl.route53.lexis.com
            LINK_METADATA_SVC_PORT: "25056"
            LINK_METADATA_TIMEOUT: "20"
            LINK_METADATA_USE_ADDITIONAL: "Y"
            LML_REFERENCES_SVC_HOST: pdc1c-delivery-csr-marklogic-legal.route53.lexis.com
            LML_REFERENCES_SVC_PORT: "25097"
            LML_REFERENCES_TIMEOUT: "5"
            LOAD_PCT_RESOURCE_ONSTARTUP: "true"
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            LOAD_SOURCESET_REDIS_ONSTARTUP: "true"
            MAX_PASSAGES: "10"
            METADATA_DATACENTER: us-east-1b
            ML_POD: "11.3"
            NETTY_THREAD_NUM: "8"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RESOLVE_ENTITY_LINKS: "true"
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc.cluster.local
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            SEARCH_GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            SHEPARDS_DOCINFO_SVC_HOST: pdc1c-csr-shepards.route53.lexis.com
            SKIP_ENTITLEMENTS: "false"
            SP_LINK_METADATA_HOST: pdc1c-csr-sp-linkmeta.route53.lexis.com
            SPLIT_DOC_LINKS_AND_TOPICS: "true"
            TOC_SVC_HOST: pdc1c-delivery-csr-marklogic-intl.route53.lexis.com
            TOC_SVC_PORT: "30005"
            TRANSFORM_METADATA: "true"
            TRANSFORM_METADATA_URL: http://transform-metadata.4604-search-services.svc:8080
            TRANSFORM_STM_METADATA_URL: http://transform-stm.4604-search-services.svc:8080
            USE_COMMON_ANALYZERS_USING_SCHEMA: "true"
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
            USE_TERM_UNIT_LOOKUP: "true"
            USE_TRANSFORM_FUTURE: "true"
            ZIP_METADATA: "false"
          image:
            imagePullPolicy: Always
            repository: 4604-forms-au-retrieve
            tag: 44d2777adc9ba4d9bff4b15dd79981a39cdd80a6
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 2
              memory: 2Gi
            requests:
              cpu: 1
              memory: 1Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-retrieve-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: forms-au-retrieve-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: forms-au-retrieve
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: forms-au-retrieve
      - name: nameOverride
        value: forms-au-retrieve
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-forms-au-retrieve-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-forms-au-retrieve-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: forms-au-retrieve-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9773"
        assetAreaName: forms-au-retrieve
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASEBASESIGNAL_SVC_HOST: cdc1c-apac-casebasesignal.route53.lexis.com
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            COURT_REDIS_URL: search-redis-replicas.4604-search-services.svc
            CSR_ENV: cdc1c
            CSSM_HASH_KEYS: CSSM-pct-172-PROD,CSSM-pct-173-PROD,CSSM-pct-277-PROD,CSSM-pct-278-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-Forms-AU-Retrieve
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            DOSSIER_SVC_HOST: cdc1c-delivery-csr-marklogic-legal.route53.lexis.com
            DOSSIER_SVC_PORT: "25142"
            DOSSIER_TIMEOUT: "20"
            ENABLE_LML_REFERENCES: "false"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENTITY_REDIS_URL: search-redis-replicas.4604-search-services.svc
            IS_CASEBASESIGNAL_APPLICABLE: "true"
            IS_COMPANY_INFO_APPLICABLE: "false"
            IS_SHEPARDS_DOCINFO_APPLICABLE: "true"
            IS_TOC_APPLICABLE: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            LINK_METADATA_SVC_HOST: cdc1c-delivery-csr-marklogic-intl.route53.lexis.com
            LINK_METADATA_SVC_PORT: "25156"
            LINK_METADATA_TIMEOUT: "20"
            LINK_METADATA_USE_ADDITIONAL: "Y"
            LML_REFERENCES_SVC_HOST: cdc1c-delivery-csr-marklogic-legal.route53.lexis.com
            LML_REFERENCES_SVC_PORT: "25197"
            LML_REFERENCES_TIMEOUT: "5"
            LOAD_PCT_RESOURCE_ONSTARTUP: "true"
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            LOAD_SOURCESET_REDIS_ONSTARTUP: "true"
            MAX_PASSAGES: "10"
            METADATA_DATACENTER: us-east-1b
            ML_POD: "11.3"
            NETTY_THREAD_NUM: "8"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RESOLVE_ENTITY_LINKS: "true"
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc.cluster.local
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            SEARCH_GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            SHEPARDS_DOCINFO_SVC_HOST: cdc1c-csr-shepards.route53.lexis.com
            SKIP_ENTITLEMENTS: "false"
            SP_LINK_METADATA_HOST: cdc1c-csr-sp-linkmeta.route53.lexis.com
            SPLIT_DOC_LINKS_AND_TOPICS: "true"
            TOC_SVC_HOST: cdc1c-delivery-csr-marklogic-intl.route53.lexis.com
            TOC_SVC_PORT: "30105"
            TRANSFORM_METADATA: "true"
            TRANSFORM_METADATA_URL: http://transform-metadata-staging.4604-search-services.svc:8080
            TRANSFORM_STM_METADATA_URL: http://transform-stm-staging.4604-search-services.svc:8080
            USE_COMMON_ANALYZERS_USING_SCHEMA: "true"
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
            USE_TERM_UNIT_LOOKUP: "true"
            USE_TRANSFORM_FUTURE: "true"
            ZIP_METADATA: "false"
          image:
            imagePullPolicy: Always
            repository: 4604-forms-au-retrieve
            tag: 44d2777adc9ba4d9bff4b15dd79981a39cdd80a6
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 2
              memory: 2Gi
            requests:
              cpu: 1
              memory: 1Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-retrieve-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: forms-au-retrieve-staging-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: forms-au-retrieve-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: forms-au-retrieve-staging
      - name: nameOverride
        value: forms-au-retrieve-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-forms-au-search
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-forms-au-search
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: forms-au-search
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8733"
        assetAreaName: forms-au-search
        assetGroup: prod
        assetId: "4604"
        assetName: AU-Search-Platform
        containerSettings:
          command:
          - java
          - --add-exports=java.base/sun.nio.ch=ALL-UNNAMED
          - --add-opens=java.base/java.lang=ALL-UNNAMED
          - --add-opens=java.base/java.lang.reflect=ALL-UNNAMED
          - --add-opens=java.base/java.io=ALL-UNNAMED
          - --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED
          - -Xms2g
          - -Xmx2g
          - -javaagent:/opentelemetry-javaagent.jar
          - -Djava.security.egd=file:/dev/./urandom
          - -XX:MaxDirectMemorySize=3g
          - -XX:NativeMemoryTracking=detail
          - -XX:+HeapDumpOnOutOfMemoryError
          - -XX:HeapDumpPath=/tmp
          - -jar
          - /app/lib/4604-forms-au-search.jar
          - --spring.config.location=classpath:application.yaml,classpath:application-toggle.yaml,classpath:application.properties,/secrets/application.properties
          - --server.max-http-header-size=32768
          - --cssmdatacache.host=$(REDIS_CSSM_HOST)
          - --cssmdatacache.port=$(REDIS_CSSM_PORT)
          - --datacache.host=$(REDIS_MASTER_URL)
          - --datacache.hostLeader=$(REDIS_MASTER_URL)
          - --ltrdatacache.host=$(LTR_REDIS_URL)
          - --ltrdatacache.hostLeader=$(LTR_REDIS_URL_MASTER)
          - --graphdatacache.host=$(REDIS_GRAPH_HOST)
          - --graphdatacache.port=$(REDIS_GRAPH_PORT)
          - --solr.serverUrl=$(SOLR_URL)
          - --csr_services.environment=$(CSR_ENV)
          - --wam_services.environment=$(WAM_ENV)
          - --jcite.serverUrl=http://$(CSR_ENV)-citationrecognizer-jcite.route53.lexis.com/
          - --linkResolution.serverUrl=http://$(CSR_ENV)-delivery-csr-marklogic-metadata.route53.lexis.com:25099/11.3/services/
          - --linkmetadata.serverUrl=http://$(CSR_ENV)-delivery-csr-marklogic-intl.route53.lexis.com:25056/11.3/services/
          - --linkResolve.serverUrl=http://$(CSR_ENV)-delivery-csr-marklogic-intl.route53.lexis.com:25056/11.3/services/
          - --linkResolution.httpTimeout=30000
          - --entitlements.subscription.host=http://$(CSR_ENV)-la-sp-entitlements.route53.lexis.com
          - --entitlements.authorization.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --pricing.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --toc.host=http://$(CSR_ENV)-delivery-csr-marklogic-intl.route53.lexis.com:30005/11.3/services/
          - --toc-search.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --answerCard.enabled=false
          - --qqa.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --ses.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --workfolders.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --casebasesignals.host=http://$(CSR_ENV)-apac-casebasesignal.route53.lexis.com/
          - --parallelCitation.serverUrl=http://parallel-citation-service.4604-search-services.svc:8080/
          - --facetSearchLookup.enabled=false
          - --config.parser.forceProcessStopwords.enabled=true
          - --togglz.features.LNI_SET_FILTER.enabled=false
          - --togglz.features.RESTORE_ORIGINAL_SCORE.enabled=false
          - --togglz.features.WIDOW_CACHE.enabled=true
          env:
            ALLOW_PARTIAL_RESULTS: "false"
            CSR_ENV: pdc1c
            LTR_REDIS_URL: ""
            LTR_REDIS_URL_MASTER: ""
            REDIS_CSSM_HOST: search-cssm-redis-replicas
            REDIS_CSSM_PORT: "6379"
            REDIS_GRAPH_HOST: search-redis-graph-slave
            REDIS_GRAPH_PORT: "6379"
            REDIS_MASTER_URL: search-redis-master
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
            WAM_ENV: prod
          image:
            pullPolicy: IfNotPresent
            repository: 4604-forms-au-search
            tag: 105278da0288f9b35a8e6cb85b912145428d6b15
          livenessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          readinessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /secrets/
            name: parallel-citation-service-secrets-vol
            readOnly: true
          volumes:
          - name: parallel-citation-service-secrets-vol
            secret:
              secretName: parallel-citation-service-secrets
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        podAnnotations:
          traffic.sidecar.istio.io/excludeOutboundPorts: "6379"
        priorityClassName: srp-low
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: forms-au-search
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: forms-au-search
      - name: nameOverride
        value: forms-au-search
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.SOLR_URL
        value: http://blue-solr-client.4604-search-clusters.svc/solr
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-forms-au-search-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-forms-au-search-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: forms-au-search-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8733"
        assetAreaName: forms-au-search
        assetGroup: staging
        assetId: "4604"
        assetName: AU-Search-Platform
        containerSettings:
          command:
          - java
          - --add-exports=java.base/sun.nio.ch=ALL-UNNAMED
          - --add-opens=java.base/java.lang=ALL-UNNAMED
          - --add-opens=java.base/java.lang.reflect=ALL-UNNAMED
          - --add-opens=java.base/java.io=ALL-UNNAMED
          - --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED
          - -Xms2g
          - -Xmx2g
          - -javaagent:/opentelemetry-javaagent.jar
          - -Djava.security.egd=file:/dev/./urandom
          - -XX:MaxDirectMemorySize=3g
          - -XX:NativeMemoryTracking=detail
          - -XX:+HeapDumpOnOutOfMemoryError
          - -XX:HeapDumpPath=/tmp
          - -jar
          - /app/lib/4604-forms-au-search.jar
          - --spring.config.location=classpath:application.yaml,classpath:application-toggle.yaml,classpath:application.properties,/secrets/application.properties
          - --server.max-http-header-size=32768
          - --cssmdatacache.host=$(REDIS_CSSM_HOST)
          - --cssmdatacache.port=$(REDIS_CSSM_PORT)
          - --datacache.host=$(REDIS_MASTER_URL)
          - --datacache.hostLeader=$(REDIS_MASTER_URL)
          - --ltrdatacache.host=$(LTR_REDIS_URL)
          - --ltrdatacache.hostLeader=$(LTR_REDIS_URL_MASTER)
          - --graphdatacache.host=$(REDIS_GRAPH_HOST)
          - --graphdatacache.port=$(REDIS_GRAPH_PORT)
          - --solr.serverUrl=$(SOLR_URL)
          - --csr_services.environment=$(CSR_ENV)
          - --wam_services.environment=$(WAM_ENV)
          - --jcite.serverUrl=http://$(CSR_ENV)-citationrecognizer-jcite.route53.lexis.com/
          - --entitlements.subscription.host=http://$(CSR_ENV)-la-sp-entitlements.route53.lexis.com
          - --parallelCitation.serverUrl=http://parallel-citation-service-staging.4604-search-services.svc:8080/
          - --facetSearchLookup.enabled=false
          - --config.parser.forceProcessStopwords.enabled=true
          - --togglz.features.LNI_SET_FILTER.enabled=false
          - --togglz.features.RESTORE_ORIGINAL_SCORE.enabled=false
          - --togglz.features.WIDOW_CACHE.enabled=true
          env:
            ALLOW_PARTIAL_RESULTS: "false"
            CSR_ENV: cdc1c
            LTR_REDIS_URL: ""
            LTR_REDIS_URL_MASTER: ""
            REDIS_CSSM_HOST: search-cssm-redis-replicas
            REDIS_CSSM_PORT: "6379"
            REDIS_GRAPH_HOST: search-redis-graph-slave
            REDIS_GRAPH_PORT: "6379"
            REDIS_MASTER_URL: search-redis-master
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
            WAM_ENV: cdc1c
          image:
            pullPolicy: IfNotPresent
            repository: 4604-forms-au-search
            tag: 5f47a1c6633e99eca8d83b06505058611715b296
          livenessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          readinessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /secrets/
            name: parallel-citation-service-secrets-vol
            readOnly: true
          volumes:
          - name: parallel-citation-service-secrets-vol
            secret:
              secretName: parallel-citation-service-secrets
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        podAnnotations:
          traffic.sidecar.istio.io/excludeOutboundPorts: "6379"
        priorityClassName: srp-low
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: forms-au-search-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: forms-au-search-staging
      - name: nameOverride
        value: forms-au-search-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.SOLR_URL
        value: http://blue-solr-client.4604-search-clusters.svc/solr
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-forms-au-search-term-map
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-forms-au-search-term-map
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: forms-au-search-term-map
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9795"
        assetAreaName: forms-au-stm
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            CSSM_HASH_KEYS: CSSM-pct-172-PROD,CSSM-pct-173-PROD,CSSM-pct-277-PROD,CSSM-pct-278-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-FORMS-SearchTermMap
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_EXTERNAL_TRANSFORM: "true"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENABLE_SEARCH_FEEDBACK: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            MAX_PASSAGES: "10"
            MAX_SNIPPETS_LIMIT: "15"
            METADATA_DATACENTER: us-east-1b
            PARSE_API_URL: http://forms-au-search.4604-search-services.svc:8080
            PROCESS_SEGMENTS_CONCURRENTLY: "true"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TERM_UNITS_CONNECTOR_MATCH: "true"
            TRANSFORM_METADATA_TIMEOUT: "5"
            TRANSFORM_METADATA_URL: http://transform-stm.4604-search-services.svc:8080
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
          image:
            imagePullPolicy: Always
            repository: 4604-forms-au-search-term-map
            tag: 18a9f422f4041c0f8d7e8c802ffb23fdce7eec76
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-stm-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 3
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: forms-au-stm-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: forms-au-stm
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: forms-au-search-term-map
      - name: nameOverride
        value: forms-au-search-term-map
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-forms-au-search-term-map-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-forms-au-search-term-map-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: forms-au-search-term-map-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9795"
        assetAreaName: forms-au-stm
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            CSSM_HASH_KEYS: CSSM-pct-172-PROD,CSSM-pct-173-PROD,CSSM-pct-277-PROD,CSSM-pct-278-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-FORMS-SearchTermMap
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_EXTERNAL_TRANSFORM: "true"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENABLE_SEARCH_FEEDBACK: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            MAX_PASSAGES: "10"
            MAX_SNIPPETS_LIMIT: "15"
            METADATA_DATACENTER: us-east-1b
            PARSE_API_URL: http://forms-au-search-staging.4604-search-services.svc:8080
            PROCESS_SEGMENTS_CONCURRENTLY: "true"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TERM_UNITS_CONNECTOR_MATCH: "true"
            TRANSFORM_METADATA_TIMEOUT: "5"
            TRANSFORM_METADATA_URL: http://transform-stm-staging.4604-search-services.svc:8080
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
          image:
            imagePullPolicy: Always
            repository: 4604-forms-au-search-term-map
            tag: 06dba9b4c728ae321e297fb148d4f5f847ae2d9a
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-stm-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: forms-au-stm-staging-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: forms-au-stm-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: forms-au-search-term-map-staging
      - name: nameOverride
        value: forms-au-search-term-map-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-legislation-au-docmetadata
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-legislation-au-docmetadata
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: legislation-au-docmetadata
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9336"
        assetAreaName: legislation-au-retrieve-docmetadata
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/retrieve-docmetadata
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --cssm.redis.host=$(CSSM_REDIS_HOST)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --transform.matadata.url=$(TRANSFORM_METADATA_URL)
          - --netty.thread.num=8
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONTENT_FETCHER_TYPES: s3,dl
            CSR_ENV: pdc1c
            CSSM_HASH_KEYS: CSSM-pct-175-PROD,CSSM-pct-176-PROD,CSSM-pct-177-PROD,CSSM-pct-179-PROD,CSSM-pct-180-PROD,CSSM-pct-181-PROD,CSSM-pct-182-PROD,CSSM-pct-183-PROD,CSSM-pct-308-PROD
            CSSM_REDIS_HOST: search-cssm-redis-replicas.4604-search-services.svc
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-Legislation-AU-Retrieve
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_S3_TRANSFER_MANAGER: "false"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            METADATA_DATACENTER: us-east-1b
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TRANSFORM_METADATA_URL: http://transform-metadata.4604-search-services.svc:8080
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
          image:
            PullPolicy: Always
            repository: 4604-legislation-au-retrieve-docmetadata
            tag: f5ca2bbdb6cc243ee3145644b6ec449f10d3f298
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 2
              memory: 2Gi
            requests:
              cpu: 1
              memory: 1Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-retrieve-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: legislation-au-docmetadata-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: legislation-au-docmetadata
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: legislation-au-docmetadata
      - name: nameOverride
        value: legislation-au-docmetadata
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-legislation-au-docmetadata-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-legislation-au-docmetadata-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: legislation-au-docmetadata-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9336"
        assetAreaName: legislation-au-retrieve-docmetadata
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/retrieve-docmetadata
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --cssm.redis.host=$(CSSM_REDIS_HOST)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --transform.matadata.url=$(TRANSFORM_METADATA_URL)
          - --netty.thread.num=8
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONTENT_FETCHER_TYPES: s3,dl
            CSR_ENV: cdc1c
            CSSM_HASH_KEYS: CSSM-pct-175-PROD,CSSM-pct-176-PROD,CSSM-pct-177-PROD,CSSM-pct-179-PROD,CSSM-pct-180-PROD,CSSM-pct-181-PROD,CSSM-pct-182-PROD,CSSM-pct-183-PROD,CSSM-pct-308-PROD
            CSSM_REDIS_HOST: search-cssm-redis-replicas.4604-search-services.svc
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-Legislation-AU-Retrieve
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_S3_TRANSFER_MANAGER: "false"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            METADATA_DATACENTER: us-east-1b
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TRANSFORM_METADATA_URL: http://transform-metadata-staging.4604-search-services.svc:8080
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
          image:
            PullPolicy: Always
            repository: 4604-legislation-au-retrieve-docmetadata
            tag: 5cbda3f031ed6352fb7f77ae6aa93a1df16f137f
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 2
              memory: 2Gi
            requests:
              cpu: 1
              memory: 1Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-retrieve-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: legislation-au-docmetadata-cdc1c-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: legislation-au-docmetadata-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: legislation-au-docmetadata-staging
      - name: nameOverride
        value: legislation-au-docmetadata-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-legislation-au-documentinfo
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-legislation-au-documentinfo
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: legislation-au-documentinfo
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9341"
        assetAreaName: legislation-au-documentinfo
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/documentinfo-service
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --solr.server.url=$(SOLR_URL)
          - --solr.jsonResponseEnabled=true
          - --cssm.redis.host=$(CSSM_REDIS_URL)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --datacache.redis.host=$(REDIS_URL)
          - --netty.thread.num=8
          - --config.batch.group.num=500
          - --search.togglz.features.SWITCH_TO_LA_IF_NECESSARY.enabled=true
          env:
            CSR_ENV: pdc1c
            CSSM_CACHE_ENABLED: "true"
            CSSM_CACHE_EXPIRE_AFTER_WRITE: 4h
            CSSM_CACHE_MAXIMUM_SIZE: "200"
            CSSM_HASH_KEYS: CSSM-pct-175-PROD,CSSM-pct-176-PROD,CSSM-pct-177-PROD,CSSM-pct-179-PROD,CSSM-pct-180-PROD,CSSM-pct-181-PROD,CSSM-pct-182-PROD,CSSM-pct-183-PROD,CSSM-pct-308-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            GRAPH_CACHE_ENABLED: "true"
            GRAPH_CACHE_EXPIRE_AFTER_WRITE: 4h
            GRAPH_CACHE_MAXIMUM_SIZE: "200"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
          image:
            PullPolicy: Always
            repository: 4604-legislation-au-documentinfo
            tag: ef34b02f3c4cec8d3d6ef53a3708b4c43cc8a630
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: legislation-au-documentinfo
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: legislation-au-documentinfo
      - name: nameOverride
        value: legislation-au-documentinfo
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-legislation-au-documentinfo-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-legislation-au-documentinfo-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: legislation-au-documentinfo-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9341"
        assetAreaName: legislation-au-documentinfo
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/documentinfo-service
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --solr.server.url=$(SOLR_URL)
          - --solr.jsonResponseEnabled=true
          - --cssm.redis.host=$(CSSM_REDIS_URL)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --datacache.redis.host=$(REDIS_URL)
          - --netty.thread.num=8
          - --config.batch.group.num=500
          - --search.togglz.features.SWITCH_TO_LA_IF_NECESSARY.enabled=true
          env:
            CSR_ENV: cdc1c
            CSSM_CACHE_ENABLED: "true"
            CSSM_CACHE_EXPIRE_AFTER_WRITE: 4h
            CSSM_CACHE_MAXIMUM_SIZE: "200"
            CSSM_HASH_KEYS: CSSM-pct-175-PROD,CSSM-pct-176-PROD,CSSM-pct-177-PROD,CSSM-pct-179-PROD,CSSM-pct-180-PROD,CSSM-pct-181-PROD,CSSM-pct-182-PROD,CSSM-pct-183-PROD,CSSM-pct-308-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            GRAPH_CACHE_ENABLED: "true"
            GRAPH_CACHE_EXPIRE_AFTER_WRITE: 4h
            GRAPH_CACHE_MAXIMUM_SIZE: "200"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
          image:
            PullPolicy: Always
            repository: 4604-legislation-au-documentinfo
            tag: b62cba84037cb7f513c992a878ac74a0472ff12b
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: legislation-au-documentinfo-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: legislation-au-documentinfo-staging
      - name: nameOverride
        value: legislation-au-documentinfo-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-legislation-au-retrieve
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-legislation-au-retrieve
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: legislation-au-retrieve
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9425"
        assetAreaName: legislation-au-retrieve
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASEBASESIGNAL_SVC_HOST: pdc1c-apac-casebasesignal.route53.lexis.com
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            COURT_REDIS_URL: search-redis-replicas.4604-search-services.svc
            CSR_ENV: pdc1c
            CSSM_HASH_KEYS: CSSM-pct-175-PROD,CSSM-pct-176-PROD,CSSM-pct-177-PROD,CSSM-pct-179-PROD,CSSM-pct-180-PROD,CSSM-pct-181-PROD,CSSM-pct-182-PROD,CSSM-pct-183-PROD,CSSM-pct-308-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-Legislation-AU-Retrieve
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            DOSSIER_SVC_HOST: pdc1c-delivery-csr-marklogic-legal.route53.lexis.com
            DOSSIER_SVC_PORT: "25042"
            DOSSIER_TIMEOUT: "20"
            ENABLE_LML_REFERENCES: "false"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENTITY_REDIS_URL: search-redis-replicas.4604-search-services.svc
            IS_CASEBASESIGNAL_APPLICABLE: "true"
            IS_COMPANY_INFO_APPLICABLE: "false"
            IS_SHEPARDS_DOCINFO_APPLICABLE: "true"
            IS_TOC_APPLICABLE: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            LINK_METADATA_SVC_HOST: pdc1c-delivery-csr-marklogic-intl.route53.lexis.com
            LINK_METADATA_SVC_PORT: "25056"
            LINK_METADATA_TIMEOUT: "20"
            LINK_METADATA_USE_ADDITIONAL: "Y"
            LML_REFERENCES_SVC_HOST: pdc1c-delivery-csr-marklogic-legal.route53.lexis.com
            LML_REFERENCES_SVC_PORT: "25097"
            LML_REFERENCES_TIMEOUT: "5"
            LOAD_PCT_RESOURCE_ONSTARTUP: "true"
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            LOAD_SOURCESET_REDIS_ONSTARTUP: "true"
            MARKLOGIC_API_SVC_HOST: pdc1c-i-services.route53.lexis.com
            MAX_PASSAGES: "10"
            METADATA_DATACENTER: us-east-1b
            ML_POD: "11.3"
            NETTY_THREAD_NUM: "8"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RESOLVE_ENTITY_LINKS: "true"
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc.cluster.local
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            SEARCH_GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            SHEPARDS_DOCINFO_SVC_HOST: pdc1c-csr-shepards.route53.lexis.com
            SKIP_ENTITLEMENTS: "false"
            SP_LINK_METADATA_HOST: pdc1c-csr-sp-linkmeta.route53.lexis.com
            SPLIT_DOC_LINKS_AND_TOPICS: "true"
            SRP_SEARCH_API_SVC_HOST: legislation-au-search.4604-search-services.svc:8080
            SRP_SEARCH_API_SVC_TIMEOUT: "5"
            TOC_SVC_HOST: pdc1c-delivery-csr-marklogic-intl.route53.lexis.com
            TOC_SVC_PORT: "30005"
            TRANSFORM_METADATA: "true"
            TRANSFORM_METADATA_URL: http://transform-metadata.4604-search-services.svc:8080
            TRANSFORM_STM_METADATA_URL: http://transform-stm.4604-search-services.svc:8080
            USE_COMMON_ANALYZERS_USING_SCHEMA: "true"
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
            USE_TERM_UNIT_LOOKUP: "true"
            USE_TRANSFORM_FUTURE: "true"
            ZIP_METADATA: "false"
          image:
            imagePullPolicy: Always
            repository: 4604-legislation-au-retrieve
            tag: 44d2777adc9ba4d9bff4b15dd79981a39cdd80a6
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 2
              memory: 2Gi
            requests:
              cpu: 1
              memory: 1Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-retrieve-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: legislation-au-retrieve-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: legislation-au-retrieve
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: legislation-au-retrieve
      - name: nameOverride
        value: legislation-au-retrieve
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-legislation-au-retrieve-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-legislation-au-retrieve-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: legislation-au-retrieve-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9425"
        assetAreaName: legislation-au-retrieve
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASEBASESIGNAL_SVC_HOST: cdc1c-apac-casebasesignal.route53.lexis.com
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            COURT_REDIS_URL: search-redis-replicas.4604-search-services.svc
            CSR_ENV: cdc1c
            CSSM_HASH_KEYS: CSSM-pct-175-PROD,CSSM-pct-176-PROD,CSSM-pct-177-PROD,CSSM-pct-179-PROD,CSSM-pct-180-PROD,CSSM-pct-181-PROD,CSSM-pct-182-PROD,CSSM-pct-183-PROD,CSSM-pct-308-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-Legislation-AU-Retrieve
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            DOSSIER_SVC_HOST: cdc1c-delivery-csr-marklogic-legal.route53.lexis.com
            DOSSIER_SVC_PORT: "25142"
            DOSSIER_TIMEOUT: "20"
            ENABLE_LML_REFERENCES: "false"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENTITY_REDIS_URL: search-redis-replicas.4604-search-services.svc
            IS_CASEBASESIGNAL_APPLICABLE: "true"
            IS_COMPANY_INFO_APPLICABLE: "false"
            IS_SHEPARDS_DOCINFO_APPLICABLE: "true"
            IS_TOC_APPLICABLE: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            LINK_METADATA_SVC_HOST: cdc1c-delivery-csr-marklogic-intl.route53.lexis.com
            LINK_METADATA_SVC_PORT: "25156"
            LINK_METADATA_TIMEOUT: "20"
            LINK_METADATA_USE_ADDITIONAL: "Y"
            LML_REFERENCES_SVC_HOST: cdc1c-delivery-csr-marklogic-legal.route53.lexis.com
            LML_REFERENCES_SVC_PORT: "25197"
            LML_REFERENCES_TIMEOUT: "5"
            LOAD_PCT_RESOURCE_ONSTARTUP: "true"
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            LOAD_SOURCESET_REDIS_ONSTARTUP: "true"
            MARKLOGIC_API_SVC_HOST: cdc1c-i-services.route53.lexis.com
            MAX_PASSAGES: "10"
            METADATA_DATACENTER: us-east-1b
            ML_POD: "11.3"
            NETTY_THREAD_NUM: "8"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RESOLVE_ENTITY_LINKS: "true"
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc.cluster.local
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            SEARCH_GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            SHEPARDS_DOCINFO_SVC_HOST: cdc1c-csr-shepards.route53.lexis.com
            SKIP_ENTITLEMENTS: "false"
            SP_LINK_METADATA_HOST: cdc1c-csr-sp-linkmeta.route53.lexis.com
            SPLIT_DOC_LINKS_AND_TOPICS: "true"
            SRP_SEARCH_API_SVC_HOST: legislation-au-search-staging.4604-search-services.svc:8080
            SRP_SEARCH_API_SVC_TIMEOUT: "5"
            TOC_SVC_HOST: cdc1c-delivery-csr-marklogic-intl.route53.lexis.com
            TOC_SVC_PORT: "30105"
            TRANSFORM_METADATA: "true"
            TRANSFORM_METADATA_URL: http://transform-metadata-staging.4604-search-services.svc:8080
            TRANSFORM_STM_METADATA_URL: http://transform-stm-staging.4604-search-services.svc:8080
            USE_COMMON_ANALYZERS_USING_SCHEMA: "true"
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
            USE_TERM_UNIT_LOOKUP: "true"
            USE_TRANSFORM_FUTURE: "true"
            ZIP_METADATA: "false"
          image:
            imagePullPolicy: Always
            repository: 4604-legislation-au-retrieve
            tag: 44d2777adc9ba4d9bff4b15dd79981a39cdd80a6
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 2
              memory: 2Gi
            requests:
              cpu: 1
              memory: 1Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-retrieve-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: legislation-au-retrieve-staging-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: legislation-au-retrieve-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: legislation-au-retrieve-staging
      - name: nameOverride
        value: legislation-au-retrieve-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-legislation-au-search
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-legislation-au-search
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: legislation-au-search
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8732"
        assetAreaName: legislation-au-search
        assetGroup: prod
        assetId: "4604"
        assetName: AU-Search-Platform
        containerSettings:
          command:
          - java
          - --add-exports=java.base/sun.nio.ch=ALL-UNNAMED
          - --add-opens=java.base/java.lang=ALL-UNNAMED
          - --add-opens=java.base/java.lang.reflect=ALL-UNNAMED
          - --add-opens=java.base/java.io=ALL-UNNAMED
          - --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED
          - -Xms2g
          - -Xmx2g
          - -javaagent:/opentelemetry-javaagent.jar
          - -Djava.security.egd=file:/dev/./urandom
          - -XX:MaxDirectMemorySize=3g
          - -XX:NativeMemoryTracking=detail
          - -XX:+HeapDumpOnOutOfMemoryError
          - -XX:HeapDumpPath=/tmp
          - -jar
          - /app/lib/4604-legislation-au-search.jar
          - --spring.config.location=classpath:application.yaml,classpath:application-toggle.yaml,classpath:application.properties,/secrets/application.properties
          - --server.max-http-header-size=32768
          - --cssmdatacache.host=$(REDIS_CSSM_HOST)
          - --cssmdatacache.port=$(REDIS_CSSM_PORT)
          - --datacache.host=$(REDIS_MASTER_URL)
          - --datacache.hostLeader=$(REDIS_MASTER_URL)
          - --ltrdatacache.host=$(LTR_REDIS_URL)
          - --ltrdatacache.hostLeader=$(LTR_REDIS_URL_MASTER)
          - --graphdatacache.host=$(REDIS_GRAPH_HOST)
          - --graphdatacache.port=$(REDIS_GRAPH_PORT)
          - --solr.serverUrl=$(SOLR_URL)
          - --csr_services.environment=$(CSR_ENV)
          - --wam_services.environment=$(WAM_ENV)
          - --jcite.serverUrl=http://$(CSR_ENV)-citationrecognizer-jcite.route53.lexis.com/
          - --linkResolution.serverUrl=http://$(CSR_ENV)-delivery-csr-marklogic-metadata.route53.lexis.com:25099/11.3/services/
          - --linkmetadata.serverUrl=http://$(CSR_ENV)-delivery-csr-marklogic-intl.route53.lexis.com:25056/11.3/services/
          - --linkResolve.serverUrl=http://$(CSR_ENV)-delivery-csr-marklogic-intl.route53.lexis.com:25056/11.3/services/
          - --linkResolution.httpTimeout=30000
          - --entitlements.subscription.host=http://$(CSR_ENV)-la-sp-entitlements.route53.lexis.com
          - --entitlements.authorization.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --pricing.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --toc.host=http://$(CSR_ENV)-delivery-csr-marklogic-intl.route53.lexis.com:30005/11.3/services/
          - --toc-search.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --answerCard.enabled=false
          - --qqa.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --ses.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --workfolders.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --casebasesignals.host=http://$(CSR_ENV)-apac-casebasesignal.route53.lexis.com/
          - --parallelCitation.serverUrl=http://parallel-citation-service.4604-search-services.svc:8080/
          - --facetSearchLookup.enabled=false
          - --config.parser.forceProcessStopwords.enabled=true
          - --togglz.features.EQUIVALENTS_KEEP_SAME_TYPE.enabled=true
          - --togglz.features.RESTORE_ORIGINAL_SCORE.enabled=false
          - --togglz.features.WIDOW_CACHE.enabled=true
          env:
            ALLOW_PARTIAL_RESULTS: "false"
            CSR_ENV: pdc1c
            LTR_REDIS_URL: ""
            LTR_REDIS_URL_MASTER: ""
            REDIS_CSSM_HOST: search-cssm-redis-replicas
            REDIS_CSSM_PORT: "6379"
            REDIS_GRAPH_HOST: search-redis-graph-slave
            REDIS_GRAPH_PORT: "6379"
            REDIS_MASTER_URL: search-redis-master
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
            WAM_ENV: prod
          image:
            pullPolicy: IfNotPresent
            repository: 4604-legislation-au-search
            tag: 105278da0288f9b35a8e6cb85b912145428d6b15
          livenessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          readinessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /secrets/
            name: parallel-citation-service-secrets-vol
            readOnly: true
          volumes:
          - name: parallel-citation-service-secrets-vol
            secret:
              secretName: parallel-citation-service-secrets
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        podAnnotations:
          traffic.sidecar.istio.io/excludeOutboundPorts: "6379"
        priorityClassName: srp-low
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: legislation-au-search
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: legislation-au-search
      - name: nameOverride
        value: legislation-au-search
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-legislation-au-search-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-legislation-au-search-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: legislation-au-search-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8732"
        assetAreaName: legislation-au-search
        assetGroup: staging
        assetId: "4604"
        assetName: AU-Search-Platform
        containerSettings:
          command:
          - java
          - --add-exports=java.base/sun.nio.ch=ALL-UNNAMED
          - --add-opens=java.base/java.lang=ALL-UNNAMED
          - --add-opens=java.base/java.lang.reflect=ALL-UNNAMED
          - --add-opens=java.base/java.io=ALL-UNNAMED
          - --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED
          - -Xms2g
          - -Xmx2g
          - -javaagent:/opentelemetry-javaagent.jar
          - -Djava.security.egd=file:/dev/./urandom
          - -XX:MaxDirectMemorySize=3g
          - -XX:NativeMemoryTracking=detail
          - -XX:+HeapDumpOnOutOfMemoryError
          - -XX:HeapDumpPath=/tmp
          - -jar
          - /app/lib/4604-legislation-au-search.jar
          - --spring.config.location=classpath:application.yaml,classpath:application-toggle.yaml,classpath:application.properties,/secrets/application.properties
          - --server.max-http-header-size=32768
          - --cssmdatacache.host=$(REDIS_CSSM_HOST)
          - --cssmdatacache.port=$(REDIS_CSSM_PORT)
          - --datacache.host=$(REDIS_MASTER_URL)
          - --datacache.hostLeader=$(REDIS_MASTER_URL)
          - --ltrdatacache.host=$(LTR_REDIS_URL)
          - --ltrdatacache.hostLeader=$(LTR_REDIS_URL_MASTER)
          - --graphdatacache.host=$(REDIS_GRAPH_HOST)
          - --graphdatacache.port=$(REDIS_GRAPH_PORT)
          - --solr.serverUrl=$(SOLR_URL)
          - --csr_services.environment=$(CSR_ENV)
          - --wam_services.environment=$(WAM_ENV)
          - --jcite.serverUrl=http://$(CSR_ENV)-citationrecognizer-jcite.route53.lexis.com/
          - --entitlements.subscription.host=http://$(CSR_ENV)-la-sp-entitlements.route53.lexis.com
          - --parallelCitation.serverUrl=http://parallel-citation-service-staging.4604-search-services.svc:8080/
          - --facetSearchLookup.enabled=false
          - --config.parser.forceProcessStopwords.enabled=true
          - --togglz.features.EQUIVALENTS_KEEP_SAME_TYPE.enabled=true
          - --togglz.features.RESTORE_ORIGINAL_SCORE.enabled=false
          - --togglz.features.WIDOW_CACHE.enabled=true
          env:
            ALLOW_PARTIAL_RESULTS: "false"
            CSR_ENV: cdc1c
            LTR_REDIS_URL: ""
            LTR_REDIS_URL_MASTER: ""
            REDIS_CSSM_HOST: search-cssm-redis-replicas
            REDIS_CSSM_PORT: "6379"
            REDIS_GRAPH_HOST: search-redis-graph-slave
            REDIS_GRAPH_PORT: "6379"
            REDIS_MASTER_URL: search-redis-master
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
            WAM_ENV: cdc1c
          image:
            pullPolicy: IfNotPresent
            repository: 4604-legislation-au-search
            tag: 5f47a1c6633e99eca8d83b06505058611715b296
          livenessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          readinessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /secrets/
            name: parallel-citation-service-secrets-vol
            readOnly: true
          volumes:
          - name: parallel-citation-service-secrets-vol
            secret:
              secretName: parallel-citation-service-secrets
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        podAnnotations:
          traffic.sidecar.istio.io/excludeOutboundPorts: "6379"
        priorityClassName: srp-low
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: legislation-au-search-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: legislation-au-search-staging
      - name: nameOverride
        value: legislation-au-search-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-legislation-au-search-term-map
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-legislation-au-search-term-map
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: legislation-au-search-term-map
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9338"
        assetAreaName: legislation-au-stm
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            CSSM_HASH_KEYS: CSSM-pct-175-PROD,CSSM-pct-176-PROD,CSSM-pct-177-PROD,CSSM-pct-179-PROD,CSSM-pct-180-PROD,CSSM-pct-181-PROD,CSSM-pct-182-PROD,CSSM-pct-183-PROD,CSSM-pct-308-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-LEGISLATION-SearchTermMap
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_EXTERNAL_TRANSFORM: "true"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENABLE_SEARCH_FEEDBACK: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            MAX_PASSAGES: "10"
            MAX_SNIPPETS_LIMIT: "15"
            METADATA_DATACENTER: us-east-1b
            PARSE_API_URL: http://legislation-au-search.4604-search-services.svc:8080
            PROCESS_SEGMENTS_CONCURRENTLY: "true"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TERM_UNITS_CONNECTOR_MATCH: "true"
            TRANSFORM_METADATA_TIMEOUT: "5"
            TRANSFORM_METADATA_URL: http://transform-stm.4604-search-services.svc:8080
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
          image:
            imagePullPolicy: Always
            repository: 4604-legislation-au-search-term-map
            tag: 18a9f422f4041c0f8d7e8c802ffb23fdce7eec76
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 3
              memory: 6Gi
            requests:
              cpu: 2
              memory: 4Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-stm-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 3
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: legislation-au-stm-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: legislation-au-stm
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: legislation-au-search-term-map
      - name: nameOverride
        value: legislation-au-search-term-map
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-legislation-au-search-term-map-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-legislation-au-search-term-map-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: legislation-au-search-term-map-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9338"
        assetAreaName: legislation-au-stm
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            CSSM_HASH_KEYS: CSSM-pct-175-PROD,CSSM-pct-176-PROD,CSSM-pct-177-PROD,CSSM-pct-179-PROD,CSSM-pct-180-PROD,CSSM-pct-181-PROD,CSSM-pct-182-PROD,CSSM-pct-183-PROD,CSSM-pct-308-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-LEGISLATION-SearchTermMap
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_EXTERNAL_TRANSFORM: "true"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENABLE_SEARCH_FEEDBACK: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            MAX_PASSAGES: "10"
            MAX_SNIPPETS_LIMIT: "15"
            METADATA_DATACENTER: us-east-1b
            PARSE_API_URL: http://legislation-au-search-staging.4604-search-services.svc:8080
            PROCESS_SEGMENTS_CONCURRENTLY: "true"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TERM_UNITS_CONNECTOR_MATCH: "true"
            TRANSFORM_METADATA_TIMEOUT: "5"
            TRANSFORM_METADATA_URL: http://transform-stm-staging.4604-search-services.svc:8080
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
          image:
            imagePullPolicy: Always
            repository: 4604-legislation-au-search-term-map
            tag: 06dba9b4c728ae321e297fb148d4f5f847ae2d9a
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 3
              memory: 6Gi
            requests:
              cpu: 2
              memory: 4Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-stm-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: legislation-au-stm-staging-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: legislation-au-stm-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: legislation-au-search-term-map-staging
      - name: nameOverride
        value: legislation-au-search-term-map-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-parallel-citation-service
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-parallel-citation-service
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: parallel-citation-service
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8994"
        assetAreaName: parallel-citation-service
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/parallel-citation-service
          - -Djava.security.egd=file:/dev/./urandom
          - --solr.jsonResponseEnabled=true
          - --netty.thread.num=8
          - --srp.parse.enabled=true
          - --solr.serverUrl=$(SOLR_URL)
          env:
            ALLOW_PARTIAL_RESULTS: "false"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr/au
          image:
            pullPolicy: IfNotPresent
            repository: 4604-parallel-citation-au-service
            tag: 0f31a18c87ed814280bdfa4b1076cc0e9ab08023
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /secrets/
            name: parallel-citation-service-secrets-vol
            readOnly: true
          volumes:
          - name: parallel-citation-service-secrets-vol
            secret:
              secretName: parallel-citation-service-secrets
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: parallel-citation-service
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: parallel-citation-service
      - name: nameOverride
        value: parallel-citation-service
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-parallel-citation-service-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-parallel-citation-service-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: parallel-citation-service-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8994"
        assetAreaName: parallel-citation-service
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/parallel-citation-service
          - -Djava.security.egd=file:/dev/./urandom
          - --solr.jsonResponseEnabled=true
          - --netty.thread.num=8
          - --srp.parse.enabled=true
          - --solr.serverUrl=$(SOLR_URL)
          env:
            ALLOW_PARTIAL_RESULTS: "false"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr/au
          image:
            pullPolicy: IfNotPresent
            repository: 4604-parallel-citation-au-service
            tag: 0f31a18c87ed814280bdfa4b1076cc0e9ab08023
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /secrets/
            name: parallel-citation-service-secrets-vol
            readOnly: true
          volumes:
          - name: parallel-citation-service-secrets-vol
            secret:
              secretName: parallel-citation-service-secrets
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: parallel-citation-service-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: parallel-citation-service-staging
      - name: nameOverride
        value: parallel-citation-service-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-practical-guidance-au-docmetadata
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-practical-guidance-au-docmetadata
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: practical-guidance-au-docmetadata
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9756"
        assetAreaName: practical-guidance-au-retrieve-docmetadata
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/retrieve-docmetadata
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --cssm.redis.host=$(CSSM_REDIS_HOST)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --transform.matadata.url=$(TRANSFORM_METADATA_URL)
          - --netty.thread.num=8
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONTENT_FETCHER_TYPES: s3,dl
            CSR_ENV: pdc1c
            CSSM_HASH_KEYS: CSSM-pct-335-PROD,CSSM-pct-534-PROD,CSSM-pct-535-PROD,CSSM-pct-536-PROD
            CSSM_REDIS_HOST: search-cssm-redis-replicas.4604-search-services.svc
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-Practical-Guidance-AU-Retrieve
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_S3_TRANSFER_MANAGER: "false"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            METADATA_DATACENTER: us-east-1b
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TRANSFORM_METADATA_URL: http://transform-metadata.4604-search-services.svc:8080
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
          image:
            PullPolicy: Always
            repository: 4604-practical-guidance-au-retrieve-docmetadata
            tag: f5ca2bbdb6cc243ee3145644b6ec449f10d3f298
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 2
              memory: 2Gi
            requests:
              cpu: 1
              memory: 1Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-retrieve-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: practical-guidance-au-docmetadata-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: practical-guidance-au-docmetadata
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: practical-guidance-au-docmetadata
      - name: nameOverride
        value: practical-guidance-au-docmetadata
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-practical-guidance-au-docmetadata-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-practical-guidance-au-docmetadata-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: practical-guidance-au-docmetadata-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9756"
        assetAreaName: practical-guidance-au-retrieve-docmetadata
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/retrieve-docmetadata
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --cssm.redis.host=$(CSSM_REDIS_HOST)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --transform.matadata.url=$(TRANSFORM_METADATA_URL)
          - --netty.thread.num=8
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONTENT_FETCHER_TYPES: s3,dl
            CSR_ENV: cdc1c
            CSSM_HASH_KEYS: CSSM-pct-335-PROD,CSSM-pct-534-PROD,CSSM-pct-535-PROD,CSSM-pct-536-PROD
            CSSM_REDIS_HOST: search-cssm-redis-replicas.4604-search-services.svc
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-Practical-Guidance-AU-Retrieve
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_S3_TRANSFER_MANAGER: "false"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            METADATA_DATACENTER: us-east-1b
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TRANSFORM_METADATA_URL: http://transform-metadata-staging.4604-search-services.svc:8080
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
          image:
            PullPolicy: Always
            repository: 4604-practical-guidance-au-retrieve-docmetadata
            tag: 5cbda3f031ed6352fb7f77ae6aa93a1df16f137f
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 2
              memory: 2Gi
            requests:
              cpu: 1
              memory: 1Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-retrieve-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: practical-guidance-au-docmetadata-cdc1c-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: practical-guidance-au-docmetadata-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: practical-guidance-au-docmetadata-staging
      - name: nameOverride
        value: practical-guidance-au-docmetadata-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-practical-guidance-au-documentinfo
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-practical-guidance-au-documentinfo
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: practical-guidance-au-documentinfo
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9746"
        assetAreaName: practical-guidance-au-documentinfo
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/documentinfo-service
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --solr.server.url=$(SOLR_URL)
          - --solr.jsonResponseEnabled=true
          - --cssm.redis.host=$(CSSM_REDIS_URL)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --datacache.redis.host=$(REDIS_URL)
          - --netty.thread.num=8
          - --config.batch.group.num=500
          - --search.togglz.features.SWITCH_TO_LA_IF_NECESSARY.enabled=true
          env:
            CSR_ENV: pdc1c
            CSSM_CACHE_ENABLED: "true"
            CSSM_CACHE_EXPIRE_AFTER_WRITE: 4h
            CSSM_CACHE_MAXIMUM_SIZE: "200"
            CSSM_HASH_KEYS: CSSM-pct-164-PROD,CSSM-pct-335-PROD,CSSM-pct-534-PROD,CSSM-pct-535-PROD,CSSM-pct-536-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            GRAPH_CACHE_ENABLED: "true"
            GRAPH_CACHE_EXPIRE_AFTER_WRITE: 4h
            GRAPH_CACHE_MAXIMUM_SIZE: "200"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
          image:
            PullPolicy: Always
            repository: 4604-practical-guidance-au-documentinfo
            tag: ef34b02f3c4cec8d3d6ef53a3708b4c43cc8a630
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: practical-guidance-au-documentinfo
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: practical-guidance-au-documentinfo
      - name: nameOverride
        value: practical-guidance-au-documentinfo
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-practical-guidance-au-documentinfo-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-practical-guidance-au-documentinfo-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: practical-guidance-au-documentinfo-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9746"
        assetAreaName: practical-guidance-au-documentinfo
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          command:
          - ./bin/documentinfo-service
          - -Djava.security.egd=file:/dev/./urandom
          - --csr.services.environment=$(CSR_ENV)
          - --solr.server.url=$(SOLR_URL)
          - --solr.jsonResponseEnabled=true
          - --cssm.redis.host=$(CSSM_REDIS_URL)
          - --cssm.redis.hashkeys=$(CSSM_HASH_KEYS)
          - --graph.redis.host=$(GRAPH_REDIS_URL)
          - --datacache.redis.host=$(REDIS_URL)
          - --netty.thread.num=8
          - --config.batch.group.num=500
          - --search.togglz.features.SWITCH_TO_LA_IF_NECESSARY.enabled=true
          env:
            CSR_ENV: cdc1c
            CSSM_CACHE_ENABLED: "true"
            CSSM_CACHE_EXPIRE_AFTER_WRITE: 4h
            CSSM_CACHE_MAXIMUM_SIZE: "200"
            CSSM_HASH_KEYS: CSSM-pct-164-PROD,CSSM-pct-335-PROD,CSSM-pct-534-PROD,CSSM-pct-535-PROD,CSSM-pct-536-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            GRAPH_CACHE_ENABLED: "true"
            GRAPH_CACHE_EXPIRE_AFTER_WRITE: 4h
            GRAPH_CACHE_MAXIMUM_SIZE: "200"
            GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
          image:
            PullPolicy: Always
            repository: 4604-practical-guidance-au-documentinfo
            tag: b62cba84037cb7f513c992a878ac74a0472ff12b
          livenessProbe:
            path: /health
            periodSeconds: 30
          readinessProbe:
            path: /health
            periodSeconds: 30
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: practical-guidance-au-documentinfo-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: practical-guidance-au-documentinfo-staging
      - name: nameOverride
        value: practical-guidance-au-documentinfo-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-practical-guidance-au-retrieve
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-practical-guidance-au-retrieve
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: practical-guidance-au-retrieve
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9819"
        assetAreaName: practical-guidance-au-retrieve
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASEBASESIGNAL_SVC_HOST: pdc1c-apac-casebasesignal.route53.lexis.com
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            COURT_REDIS_URL: search-redis-replicas.4604-search-services.svc
            CSR_ENV: pdc1c
            CSSM_HASH_KEYS: CSSM-pct-335-PROD,CSSM-pct-534-PROD,CSSM-pct-535-PROD,CSSM-pct-536-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-practical-guidance-AU-Retrieve
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            DOSSIER_SVC_HOST: pdc1c-delivery-csr-marklogic-legal.route53.lexis.com
            DOSSIER_SVC_PORT: "25042"
            DOSSIER_TIMEOUT: "20"
            ENABLE_LML_REFERENCES: "false"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENTITY_REDIS_URL: search-redis-replicas.4604-search-services.svc
            IS_CASEBASESIGNAL_APPLICABLE: "true"
            IS_COMPANY_INFO_APPLICABLE: "false"
            IS_SHEPARDS_DOCINFO_APPLICABLE: "true"
            IS_TOC_APPLICABLE: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            LINK_METADATA_SVC_HOST: pdc1c-delivery-csr-marklogic-intl.route53.lexis.com
            LINK_METADATA_SVC_PORT: "25056"
            LINK_METADATA_TIMEOUT: "20"
            LINK_METADATA_USE_ADDITIONAL: "Y"
            LML_REFERENCES_SVC_HOST: pdc1c-delivery-csr-marklogic-legal.route53.lexis.com
            LML_REFERENCES_SVC_PORT: "25097"
            LML_REFERENCES_TIMEOUT: "5"
            LOAD_PCT_RESOURCE_ONSTARTUP: "true"
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            LOAD_SOURCESET_REDIS_ONSTARTUP: "true"
            MAX_PASSAGES: "10"
            METADATA_DATACENTER: us-east-1b
            ML_POD: "11.3"
            NETTY_THREAD_NUM: "8"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RESOLVE_ENTITY_LINKS: "true"
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc.cluster.local
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            SEARCH_GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            SHEPARDS_DOCINFO_SVC_HOST: pdc1c-csr-shepards.route53.lexis.com
            SKIP_ENTITLEMENTS: "false"
            SP_LINK_METADATA_HOST: pdc1c-csr-sp-linkmeta.route53.lexis.com
            SPLIT_DOC_LINKS_AND_TOPICS: "true"
            TOC_SVC_HOST: pdc1c-delivery-csr-marklogic-intl.route53.lexis.com
            TOC_SVC_PORT: "30005"
            TRANSFORM_METADATA: "true"
            TRANSFORM_METADATA_URL: http://transform-metadata.4604-search-services.svc:8080
            TRANSFORM_STM_METADATA_URL: http://transform-stm.4604-search-services.svc:8080
            USE_COMMON_ANALYZERS_USING_SCHEMA: "true"
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
            USE_TERM_UNIT_LOOKUP: "true"
            USE_TRANSFORM_FUTURE: "true"
            ZIP_METADATA: "false"
          image:
            imagePullPolicy: Always
            repository: 4604-practical-guidance-au-retrieve
            tag: 44d2777adc9ba4d9bff4b15dd79981a39cdd80a6
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 2
              memory: 2Gi
            requests:
              cpu: 1
              memory: 1Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-retrieve-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: practical-guidance-au-retrieve-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: practical-guidance-au-retrieve
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: practical-guidance-au-retrieve
      - name: nameOverride
        value: practical-guidance-au-retrieve
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-practical-guidance-au-retrieve-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-practical-guidance-au-retrieve-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: practical-guidance-au-retrieve-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9819"
        assetAreaName: practical-guidance-au-retrieve
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASEBASESIGNAL_SVC_HOST: cdc1c-apac-casebasesignal.route53.lexis.com
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            COURT_REDIS_URL: search-redis-replicas.4604-search-services.svc
            CSR_ENV: cdc1c
            CSSM_HASH_KEYS: CSSM-pct-335-PROD,CSSM-pct-534-PROD,CSSM-pct-535-PROD,CSSM-pct-536-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-practical-guidance-AU-Retrieve
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            DOSSIER_SVC_HOST: cdc1c-delivery-csr-marklogic-legal.route53.lexis.com
            DOSSIER_SVC_PORT: "25142"
            DOSSIER_TIMEOUT: "20"
            ENABLE_LML_REFERENCES: "false"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENTITY_REDIS_URL: search-redis-replicas.4604-search-services.svc
            IS_CASEBASESIGNAL_APPLICABLE: "true"
            IS_COMPANY_INFO_APPLICABLE: "false"
            IS_SHEPARDS_DOCINFO_APPLICABLE: "true"
            IS_TOC_APPLICABLE: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
            LINK_METADATA_SVC_HOST: cdc1c-delivery-csr-marklogic-intl.route53.lexis.com
            LINK_METADATA_SVC_PORT: "25156"
            LINK_METADATA_TIMEOUT: "20"
            LINK_METADATA_USE_ADDITIONAL: "Y"
            LML_REFERENCES_SVC_HOST: cdc1c-delivery-csr-marklogic-legal.route53.lexis.com
            LML_REFERENCES_SVC_PORT: "25197"
            LML_REFERENCES_TIMEOUT: "5"
            LOAD_PCT_RESOURCE_ONSTARTUP: "true"
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            LOAD_SOURCESET_REDIS_ONSTARTUP: "true"
            MAX_PASSAGES: "10"
            METADATA_DATACENTER: us-east-1b
            ML_POD: "11.3"
            NETTY_THREAD_NUM: "8"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RESOLVE_ENTITY_LINKS: "true"
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc.cluster.local
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            SEARCH_GRAPH_REDIS_URL: search-redis-graph-slave.4604-search-services.svc
            SHEPARDS_DOCINFO_SVC_HOST: cdc1c-csr-shepards.route53.lexis.com
            SKIP_ENTITLEMENTS: "false"
            SP_LINK_METADATA_HOST: cdc1c-csr-sp-linkmeta.route53.lexis.com
            SPLIT_DOC_LINKS_AND_TOPICS: "true"
            TOC_SVC_HOST: cdc1c-delivery-csr-marklogic-intl.route53.lexis.com
            TOC_SVC_PORT: "30105"
            TRANSFORM_METADATA: "true"
            TRANSFORM_METADATA_URL: http://transform-metadata-staging.4604-search-services.svc:8080
            TRANSFORM_STM_METADATA_URL: http://transform-stm-staging.4604-search-services.svc:8080
            USE_COMMON_ANALYZERS_USING_SCHEMA: "true"
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
            USE_TERM_UNIT_LOOKUP: "true"
            USE_TRANSFORM_FUTURE: "true"
            ZIP_METADATA: "false"
          image:
            imagePullPolicy: Always
            repository: 4604-practical-guidance-au-retrieve
            tag: 44d2777adc9ba4d9bff4b15dd79981a39cdd80a6
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 2
              memory: 2Gi
            requests:
              cpu: 1
              memory: 1Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-retrieve-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: practical-guidance-au-retrieve-staging-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: practical-guidance-au-retrieve-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: practical-guidance-au-retrieve-staging
      - name: nameOverride
        value: practical-guidance-au-retrieve-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-practical-guidance-au-search
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-practical-guidance-au-search
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: practical-guidance-au-search
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8734"
        assetAreaName: practical-guidance-au-search
        assetGroup: prod
        assetId: "4604"
        assetName: AU-Search-Platform
        containerSettings:
          command:
          - java
          - --add-exports=java.base/sun.nio.ch=ALL-UNNAMED
          - --add-opens=java.base/java.lang=ALL-UNNAMED
          - --add-opens=java.base/java.lang.reflect=ALL-UNNAMED
          - --add-opens=java.base/java.io=ALL-UNNAMED
          - --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED
          - -Xms2g
          - -Xmx2g
          - -javaagent:/opentelemetry-javaagent.jar
          - -Djava.security.egd=file:/dev/./urandom
          - -XX:MaxDirectMemorySize=3g
          - -XX:NativeMemoryTracking=detail
          - -XX:+HeapDumpOnOutOfMemoryError
          - -XX:HeapDumpPath=/tmp
          - -jar
          - /app/lib/4604-practical-guidance-au-search.jar
          - --spring.config.location=classpath:application.yaml,classpath:application-toggle.yaml,classpath:application.properties,/secrets/application.properties
          - --server.max-http-header-size=32768
          - --cssmdatacache.host=$(REDIS_CSSM_HOST)
          - --cssmdatacache.port=$(REDIS_CSSM_PORT)
          - --datacache.host=$(REDIS_MASTER_URL)
          - --datacache.hostLeader=$(REDIS_MASTER_URL)
          - --ltrdatacache.host=$(LTR_REDIS_URL)
          - --ltrdatacache.hostLeader=$(LTR_REDIS_URL_MASTER)
          - --graphdatacache.host=$(REDIS_GRAPH_HOST)
          - --graphdatacache.port=$(REDIS_GRAPH_PORT)
          - --solr.serverUrl=$(SOLR_URL)
          - --csr_services.environment=$(CSR_ENV)
          - --wam_services.environment=$(WAM_ENV)
          - --jcite.serverUrl=http://$(CSR_ENV)-citationrecognizer-jcite.route53.lexis.com/
          - --linkResolution.serverUrl=http://$(CSR_ENV)-delivery-csr-marklogic-metadata.route53.lexis.com:25099/11.3/services/
          - --linkmetadata.serverUrl=http://$(CSR_ENV)-delivery-csr-marklogic-intl.route53.lexis.com:25056/11.3/services/
          - --linkResolve.serverUrl=http://$(CSR_ENV)-delivery-csr-marklogic-intl.route53.lexis.com:25056/11.3/services/
          - --linkResolution.httpTimeout=30000
          - --entitlements.subscription.host=http://$(CSR_ENV)-la-sp-entitlements.route53.lexis.com
          - --entitlements.authorization.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --pricing.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --toc.host=http://$(CSR_ENV)-delivery-csr-marklogic-intl.route53.lexis.com:30005/11.3/services/
          - --toc-search.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --answerCard.enabled=false
          - --qqa.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --ses.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --workfolders.host=http://$(CSR_ENV)-i-services.route53.lexis.com
          - --casebasesignals.host=http://$(CSR_ENV)-apac-casebasesignal.route53.lexis.com/
          - --parallelCitation.serverUrl=http://parallel-citation-service.4604-search-services.svc:8080/
          - --facetSearchLookup.enabled=false
          - --config.parser.forceProcessStopwords.enabled=true
          - --togglz.features.LNI_SET_FILTER.enabled=false
          - --togglz.features.RESTORE_ORIGINAL_SCORE.enabled=false
          - --togglz.features.WIDOW_CACHE.enabled=true
          env:
            ALLOW_PARTIAL_RESULTS: "false"
            CSR_ENV: pdc1c
            LTR_REDIS_URL: ""
            LTR_REDIS_URL_MASTER: ""
            REDIS_CSSM_HOST: search-cssm-redis-replicas
            REDIS_CSSM_PORT: "6379"
            REDIS_GRAPH_HOST: search-redis-graph-slave
            REDIS_GRAPH_PORT: "6379"
            REDIS_MASTER_URL: search-redis-master
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
            WAM_ENV: prod
          image:
            pullPolicy: IfNotPresent
            repository: 4604-practical-guidance-au-search
            tag: 105278da0288f9b35a8e6cb85b912145428d6b15
          livenessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          readinessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /secrets/
            name: parallel-citation-service-secrets-vol
            readOnly: true
          volumes:
          - name: parallel-citation-service-secrets-vol
            secret:
              secretName: parallel-citation-service-secrets
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        podAnnotations:
          traffic.sidecar.istio.io/excludeOutboundPorts: "6379"
        priorityClassName: srp-low
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: practical-guidance-au-search
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: practical-guidance-au-search
      - name: nameOverride
        value: practical-guidance-au-search
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-practical-guidance-au-search-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-practical-guidance-au-search-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: practical-guidance-au-search-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "8734"
        assetAreaName: practical-guidance-au-search
        assetGroup: staging
        assetId: "4604"
        assetName: AU-Search-Platform
        containerSettings:
          command:
          - java
          - --add-exports=java.base/sun.nio.ch=ALL-UNNAMED
          - --add-opens=java.base/java.lang=ALL-UNNAMED
          - --add-opens=java.base/java.lang.reflect=ALL-UNNAMED
          - --add-opens=java.base/java.io=ALL-UNNAMED
          - --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED
          - -Xms2g
          - -Xmx2g
          - -javaagent:/opentelemetry-javaagent.jar
          - -Djava.security.egd=file:/dev/./urandom
          - -XX:MaxDirectMemorySize=3g
          - -XX:NativeMemoryTracking=detail
          - -XX:+HeapDumpOnOutOfMemoryError
          - -XX:HeapDumpPath=/tmp
          - -jar
          - /app/lib/4604-practical-guidance-au-search.jar
          - --spring.config.location=classpath:application.yaml,classpath:application-toggle.yaml,classpath:application.properties,/secrets/application.properties
          - --server.max-http-header-size=32768
          - --cssmdatacache.host=$(REDIS_CSSM_HOST)
          - --cssmdatacache.port=$(REDIS_CSSM_PORT)
          - --datacache.host=$(REDIS_MASTER_URL)
          - --datacache.hostLeader=$(REDIS_MASTER_URL)
          - --ltrdatacache.host=$(LTR_REDIS_URL)
          - --ltrdatacache.hostLeader=$(LTR_REDIS_URL_MASTER)
          - --graphdatacache.host=$(REDIS_GRAPH_HOST)
          - --graphdatacache.port=$(REDIS_GRAPH_PORT)
          - --solr.serverUrl=$(SOLR_URL)
          - --csr_services.environment=$(CSR_ENV)
          - --wam_services.environment=$(WAM_ENV)
          - --jcite.serverUrl=http://$(CSR_ENV)-citationrecognizer-jcite.route53.lexis.com/
          - --entitlements.subscription.host=http://$(CSR_ENV)-la-sp-entitlements.route53.lexis.com
          - --parallelCitation.serverUrl=http://parallel-citation-service-staging.4604-search-services.svc:8080/
          - --facetSearchLookup.enabled=false
          - --config.parser.forceProcessStopwords.enabled=true
          - --togglz.features.LNI_SET_FILTER.enabled=false
          - --togglz.features.RESTORE_ORIGINAL_SCORE.enabled=false
          - --togglz.features.WIDOW_CACHE.enabled=true
          env:
            ALLOW_PARTIAL_RESULTS: "false"
            CSR_ENV: cdc1c
            LTR_REDIS_URL: ""
            LTR_REDIS_URL_MASTER: ""
            REDIS_CSSM_HOST: search-cssm-redis-replicas
            REDIS_CSSM_PORT: "6379"
            REDIS_GRAPH_HOST: search-redis-graph-slave
            REDIS_GRAPH_PORT: "6379"
            REDIS_MASTER_URL: search-redis-master
            SOLR_URL: http://blue-solr-client.4604-search-clusters.svc/solr
            WAM_ENV: cdc1c
          image:
            pullPolicy: IfNotPresent
            repository: 4604-practical-guidance-au-search
            tag: 5f47a1c6633e99eca8d83b06505058611715b296
          livenessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          readinessProbe:
            initialDelaySeconds: 30
            path: /actuator/info
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /secrets/
            name: parallel-citation-service-secrets-vol
            readOnly: true
          volumes:
          - name: parallel-citation-service-secrets-vol
            secret:
              secretName: parallel-citation-service-secrets
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        podAnnotations:
          traffic.sidecar.istio.io/excludeOutboundPorts: "6379"
        priorityClassName: srp-low
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: practical-guidance-au-search-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: practical-guidance-au-search-staging
      - name: nameOverride
        value: practical-guidance-au-search-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
      - name: containerSettings.env.REDIS_URL
        value: search-redis-replicas.4604-search-services.svc
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-practical-guidance-au-stm
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-practical-guidance-au-stm
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: practical-guidance-au-stm
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9739"
        assetAreaName: practical-guidance-au-stm
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            CSSM_HASH_KEYS: CSSM-pct-164-PROD,CSSM-pct-335-PROD,CSSM-pct-534-PROD,CSSM-pct-535-PROD,CSSM-pct-536-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-PRACTICAL-GUIDANCE-SearchTermMap
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_EXTERNAL_TRANSFORM: "true"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENABLE_SEARCH_FEEDBACK: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            MAX_PASSAGES: "10"
            MAX_SNIPPETS_LIMIT: "15"
            METADATA_DATACENTER: us-east-1b
            PARSE_API_URL: http://practical-guidance-au-search.4604-search-services.svc:8080
            PROCESS_SEGMENTS_CONCURRENTLY: "true"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TERM_UNITS_CONNECTOR_MATCH: "true"
            TRANSFORM_METADATA_TIMEOUT: "5"
            TRANSFORM_METADATA_URL: http://transform-stm.4604-search-services.svc:8080
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
          image:
            imagePullPolicy: Always
            repository: 4604-practical-guidance-au-search-term-map
            tag: 18a9f422f4041c0f8d7e8c802ffb23fdce7eec76
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-stm-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 3
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: practical-guidance-au-stm-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: practical-guidance-au-stm
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: practical-guidance-au-stm
      - name: nameOverride
        value: practical-guidance-au-stm
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-practical-guidance-au-stm-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-practical-guidance-au-stm-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: practical-guidance-au-stm-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "9739"
        assetAreaName: practical-guidance-au-stm
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          env:
            CASSANDRA_CONNECTION_POOLING_ENABLED: "true"
            CONCATENATE_TERMUNITS: "false"
            CONTENT_FETCHER_TYPES: s3,dl
            CSSM_HASH_KEYS: CSSM-pct-164-PROD,CSSM-pct-335-PROD,CSSM-pct-534-PROD,CSSM-pct-535-PROD,CSSM-pct-536-PROD
            CSSM_REDIS_URL: search-cssm-redis-replicas.4604-search-services.svc
            DATALAKE_APIKEY_FILE_PATH: /etc/secrets/apikey
            DL_SDK_API_ENV: RELEASE
            DL_SDK_APP_ENV: use1-prod2-staging
            DL_SDK_APP_NAME: SRP-PRACTICAL-GUIDANCE-SearchTermMap
            DL_SDK_DEBUG_ENABLED: "false"
            DOCUMENT_METADATA_REPOSITORY_TYPE: cassandra
            ENABLE_EXTERNAL_TRANSFORM: "true"
            ENABLE_S3_TRANSFER_MANAGER: "false"
            ENABLE_SEARCH_FEEDBACK: "true"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -XX:InitialRAMPercentage=75
              -XX:MaxRAMPercentage=75 -XX:MinRAMPercentage=75 -Dmicronaut.server.netty.maxHeaderSize=3MB
            LOAD_PPLAN_FILE_ONSTARTUP: "false"
            LOAD_PPLAN_REDIS_ONSTARTUP: "true"
            MAX_PASSAGES: "10"
            MAX_SNIPPETS_LIMIT: "15"
            METADATA_DATACENTER: us-east-1b
            PARSE_API_URL: http://practical-guidance-au-search-staging.4604-search-services.svc:8080
            PROCESS_SEGMENTS_CONCURRENTLY: "true"
            QUERY_CONSISTENCY_LEVEL: LOCAL_ONE
            RETRIEVE_METADATA_PORT: "9042"
            RETRIEVE_METADATA_URL: retrieve-ausp-k8ssandra-us-east-1b-service.4604-databases.svc
            S3_CONTENT_FETCHER_BUCKET_NAME: 4604-au-documents-prod2-main
            TERM_UNITS_CONNECTOR_MATCH: "true"
            TRANSFORM_METADATA_TIMEOUT: "5"
            TRANSFORM_METADATA_URL: http://transform-stm-staging.4604-search-services.svc:8080
            USE_DL_FALLBACK: "true"
            USE_DL_SDK: "true"
          image:
            imagePullPolicy: Always
            repository: 4604-practical-guidance-au-search-term-map
            tag: 06dba9b4c728ae321e297fb148d4f5f847ae2d9a
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 1
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            runAsGroup: 2291
            runAsUser: 7973
          volumeMounts:
          - mountPath: /etc/secrets
            name: secret-volume
            readOnly: true
          volumes:
          - name: secret-volume
            secret:
              secretName: 4604-stm-datalake
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          path: /prometheus
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
        service:
          port: 8082
          targetPort: 8082
          type: ClusterIP
        serviceAccount:
          annotations:
            eks.amazonaws.com/role-arn: arn:aws:iam::169239262060:role/4604-retrieve-service-role
          create: true
          name: practical-guidance-au-stm-staging-sa
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: practical-guidance-au-stm-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: practical-guidance-au-stm-staging
      - name: nameOverride
        value: practical-guidance-au-stm-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-redis-connect-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-redis-connect-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: redis-connect-staging
      valueFiles:
      - values.yaml
      values: |-
        containerSettings:
          blockConfig:
            config:
              enableDBSet:
              - search-redis-master:0
              - search-redis-master:1
              - search-redis-master:2
              - search-redis-master:14
              - search-redis-master:15
              pageSizeLimit: 10000
            enabled: true
          image:
            pullPolicy: IfNotPresent
            repository: 2269-redis-connect-java-vert-rx2
            tag: 87c9a0055098d995506e0fae3dfb77c71d0b1423
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
          resources:
            limits:
              cpu: "2"
              memory: 4Gi
            requests:
              cpu: "0.5"
              memory: 0.5Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        replicaCount: 1
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: redis-connect-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: redis-connect-staging
      - name: nameOverride
        value: redis-connect-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-transform-doc-split-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-transform-doc-split-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: transform-doc-split-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "10081"
        assetAreaName: au-transform-doc-split
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          blockConfig:
            config:
              bigDocSize: 5242880
              compressionLevel: 9
              enforceMinPartSize: true
              internalVersion: 1
              repeatableTags:
              - /cttr:citator/doc:metadata
              - /cttr:citator/cttr:head
              - /casedigest:casedigest/doc:metadata
              - /casedigest:casedigest/casedigest:head
              - /courtcase:courtcase/doc:metadata
              - /courtcase:courtcase/courtcase:head
              - compcase:compositecourtcase/doc:metadata
              - /compcase:compositecourtcase/compcase:head
              - combinedcttr:document/doc:metadata
              - /combinedcttr:document/combinedcttr:head
              - /seclaw:seclaw/doc:metadata
              - /seclaw:seclaw/seclaw:head
              - /cttr:citator/doc:metadata
              - /cttr:citator/cttr:head
              - /navaid:landingpage/doc:metadata
              - /legis:legis/doc:metadata
              - legis:legis/legis:head
              - /admindoc:admindoc/doc:metadata
              - /admindoc:admindoc/admindoc:head
              - /regulation:regulation/doc:metadata
              - /regulation:regulation/regulation:head
              splitChunkSize: 1000000
              splitChunkThreshold: 1000000
              splitXmlPartsGzipCompressed: true
              stage: tr-doc-split
              threadTimeoutInMilliSeconds: 300000
              useGzip: true
              useProto3: true
              useTextSizeSplit: true
            enabled: true
            logging:
              Configuration:
                Appenders:
                  Console:
                    PatternLayout:
                      pattern: '%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n'
                    direct: true
                    name: Console
                    target: SYSTEM_OUT
                Loggers:
                  Root:
                    AppenderRef:
                      ref: Console
                    includeLocation: false
                    level: info
                monitorInterval: 30
                name: Default
                status: info
          env:
            BLOCKED_THREAD_CHECK_INTERVAL_IN_SECS: "300"
            CONCURRENCY_LIMIT: "10"
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar -Xms4000m -Xmx6000m
            MAX_WORKER_EXECUTE_TIME_IN_SECS: "310"
          image:
            pullPolicy: IfNotPresent
            repository: 2269-transform-doc-split-java-vert-rx2
            tag: 162f3d6d4bec7761490b5d10dd8177354bc872bc
          livenessProbe:
            initialDelaySeconds: 30
            path: /health
            periodSeconds: 30
            timeoutSeconds: 1
          readinessProbe:
            initialDelaySeconds: 30
            path: /health
            periodSeconds: 30
            timeoutSeconds: 1
          resources:
            limits:
              cpu: 4
              memory: 8Gi
            requests:
              cpu: 2
              memory: 6Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          scrape: "false"
        replicaCount: 1
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: transform-doc-split-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: transform-doc-split-staging
      - name: nameOverride
        value: transform-doc-split-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-transform-metadata
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-transform-metadata
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: transform-metadata
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "10081"
        assetAreaName: au-transform-retrieve
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          blockConfig:
            config:
              compressionLevel: -1
              excludeFilteredFromBatch: true
              jslt:
                pluginsFolderPath: /app/plugins
                yamlMappingPath: /etc/transform/config/mapping.yaml
              useBatch: true
              useGzip: true
              useProto3: true
              xml:
                pluginsFolderPath: /app/plugins
                yamlMappingPath: /etc/transform/config/mapping.yaml
            enabled: true
            logging:
              Configuration:
                Appenders:
                  Console:
                    PatternLayout:
                      pattern: '%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n'
                    direct: true
                    name: Console
                    target: SYSTEM_OUT
                Loggers:
                  Root:
                    AppenderRef:
                      ref: Console
                    includeLocation: false
                    level: info
                monitorInterval: 30
                name: Default
                status: info
            mapping:
              mappings:
                _areaOfCoverage_guid:
                  defaultValueIfMissing: string("Missing")
                  indexAs: List
                  xpath: //*:head//jurisinfo:courtinfo/globalentity:entityReference/@guid:guid
                _consideredCase_guid_list:
                  defaultValueIfMissing: string("Missing")
                  indexAs: List
                  omitOutput: true
                  xpath: //cttr:citator/cttr:body/cttr:refs/cttr:refsection/cttr:refitem/cttr:consideredcase/cttr:caseinfo/jurisinfo:courtinfo/globalentity:entityReference/@guid:guid
                _referringCase_guid_list:
                  defaultValueIfMissing: string("Missing")
                  indexAs: List
                  omitOutput: true
                  xpath: //cttr:citator/cttr:body/cttr:refs/cttr:refsection/cttr:refitem/cttr:citingcase/cttr:caseinfo/jurisinfo:courtinfo/globalentity:entityReference/@guid:guid
                attorneyEntityGuids:
                  format: '{"attorneyIdentifier": "attorney_guid"}'
                  indexAs: List
                  mappings:
                    attorney_guid:
                      xpath:
                      - fn:distinct-values((//globalentity:entityReference[@role='urn:contentType:attorney']/@guid:guid
                        , //globalentity:entity[@role='urn:contentType:attorney']/globalentity:entityReference[fn:not(@role)]/@guid:guid))
                changemanagementcode:
                  xpath:
                  - //doc:changemanagementcode/@*
                citation:
                  xpath: fn:string-join(fn:data(//courtcase:courtcase/courtcase:head/caseinfo:caseinfo/ref:citations/ref:cite4thisresource/lnci:cite/lnci:content/lnci:span/@cfi:normcite),"||")
                citeDefKeywords:
                  format: '{"citeDefKeyword": "cite_def_keyword"}'
                  indexAs: List
                  mappings:
                    cite_def_keyword:
                      xpath:
                      - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/ref:citations/ref:cite4thisresource[fn:not(@citetype='court')]/lnci:cite/lnci:content/lnci:span/@CITE-DEF
                      - /courtorder:courtorder/courtorder:head/ref:citations/ref:cite4thisresource/lnci:cite/lnci:content/lnci:span/@CITE-DEF
                      - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/ref:citations/ref:cite4thisresource/lnci:cite/lnci:content/lnci:span/@CITE-DEF
                      - /casedigest:casedigest/casedigest:head/ref:citations/ref:parallelcite/lnci:cite/lnci:content/lnci:span[@CITE-REF][1]/@CITE-REF
                      - /cttr:citator/cttr:head/cttr:citeddecision/cttr:caseinfo/ref:citations/ref:cite4thisresource/lnci:cite//@CITE-DEF
                      - /compcase:compositecourtcase/compcase:head/compcase:caseinfo/ref:citations/ref:cite4thisresource/lnci:cite/lnci:content/lnci:span/@CITE-DEF
                citeRefKeywords:
                  format: '{"citeRefKeyword": "cite_ref_keyword", "citeRefNormCite": "norm_cite",
                    "isLexisCite": "is_lexis_cite", "contentClassCode" : "content_classcode",
                    "redirectCode": "redirect_code", "kwFallbackSubstring":"kw_fallback_substring",
                    "normProtocol": "norm_protocol"}'
                  indexAs: List
                  mappings:
                    cite_ref_keyword:
                      xpath: //lnci:span[@CITE-REF]/@CITE-REF
                    content_classcode:
                      xpath: fn:for-each(//lnci:span[@CITE-REF], function($a) { ($a/@cfi:contentclasscode,
                        string(""))[1] })
                    is_lexis_cite:
                      xpath: fn:for-each(//lnci:span[@CITE-REF], function($a) { if(fn:exists($a/@cfi:normcite))
                        then (fn:contains($a/@cfi:normcite, "LEXIS")) else string("false")})
                    kw_fallback_substring:
                      xpath: fn:for-each(//lnci:span[@CITE-REF], function($a) { ($a/@cfi:kw-fallback-substring,
                        string(""))[1] })
                    norm_cite:
                      xpath: fn:for-each(//lnci:span[@CITE-REF], function($a) { ($a/@cfi:normcite,
                        string(""))[1] })
                    norm_protocol:
                      xpath: fn:for-each(//lnci:span[@CITE-REF], function($a) { ($a/ancestor::lnci:cite[@normprotocol]/@normprotocol,
                        string(""))[1] })
                    redirect_code:
                      xpath: fn:for-each(//lnci:span[@CITE-REF], function($a) { ($a/@cfi:redirectcode,
                        string(""))[1] })
                classSchemes:
                  indexAs: List
                  xpath:
                  - //classify:classitem/@classscheme
                collection_id:
                  format: params[collection_id]
                combinedDocumentGroupIds:
                  indexAs: List
                  xpath:
                  - if(fn:exists(//ref:groupid[@group-type = "sameCase" or @group-type = "sameLegis"][./ref:resourceid/@ref:resourcekey
                    and ./ref:resourceGroupMemberRanking/@isPrimaryDocument])) then //ref:groupid/ref:resourceid/@ref:resourcekey
                    else ()
                consideredCaseCourtSortKeyList:
                  function: getCourtSortKeyListWithMultiLookup(_consideredCase_guid_list)
                  indexAs: List
                  plugin: lookup_plugin
                countryCode:
                  indexAs: List
                  xpath:
                  - //dc:coverage/location:country/@countrycode
                courtRollUpValue:
                  indexAs: String
                  xpath:
                  - //classify:classitem[@classscheme='lncr:courtfederalrollup']/classify:classitem-identifier/classify:classcode/@normval
                courtSortKey:
                  function: getCourtSortKey(_areaOfCoverage_guid)
                  indexAs: String
                  plugin: lookup_plugin
                courtTypeNormName:
                  indexAs: String
                  xpath:
                  - //jurisinfo:courttype/@normname
                datalake_cdn_url:
                  format: params[object_uri]
                docIds:
                  format: '{"locatorKeyValue": "locator_key_value"}'
                  indexAs: List
                  mappings:
                    locator_key_value:
                      xpath:
                      - //ref:crossreference/ref:locator/ref:locator-key/ref:key-value/@value
                      - //ref:returnreference/ref:locator/ref:locator-key/ref:key-value/@value
                      - //defaultns:footnote-ref/ref:locator/ref:locator-key/ref:key-value/@value
                document_version_external:
                  format: params[document_version_external]
                  required: true
                document_version_internal:
                  format: params[document_version_internal]
                  required: true
                document_version_timestamp:
                  format: params[document_version_timestamp]
                has_footnote:
                  indexAs: String
                  xpath:
                  - (((//base:footnote, //person:bio[@footnote='true']/@footnote)[1]),fn:parse-xml-fragment("true"),fn:parse-xml-fragment("false"))[2]
                hasAnnotation:
                  indexAs: String
                  xpath:
                  - fn:exists(//annot:annotations[1])
                id:
                  format: params[object_id]
                  required: true
                judgeEntityGuids:
                  format: '{"judgeIdentifier": "judge_guid"}'
                  indexAs: List
                  mappings:
                    judge_guid:
                      xpath:
                      - fn:distinct-values((//globalentity:entityReference[@role='urn:contentType:judge']/@guid:guid
                        , //globalentity:entity[@role='urn:contentType:judge']/globalentity:entityReference[fn:not(@role)]/@guid:guid))
                lawFirmEntityGuids:
                  format: '{"lawFirmIdentifier": "lawFirm_guid"}'
                  indexAs: List
                  mappings:
                    lawFirm_guid:
                      xpath:
                      - fn:distinct-values((//globalentity:entityReference[@role='urn:contentType:lawFirm']/@guid:guid
                        , //globalentity:entity[@role='urn:contentType:lawFirm']/globalentity:entityReference[fn:not(@role)]/@guid:guid))
                legislationStatusCode:
                  indexAs: String
                  xpath:
                  - //primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:statusgroup/legisinfo:status/@statuscode
                moduleId:
                  indexAs: List
                  xpath:
                  - //doc:legacy-metadata[fn:normalize-space(@metadatasource)='lbu-meta']/base:meta/base:metaitem[fn:normalize-space(@name)='MODULE-PGUID']/@value
                normShortName:
                  indexAs: String
                  xpath:
                  - //jurisinfo:courtname/@normshortname
                numCitingCases:
                  xpath:
                  - if(fn:exists(//cttr:citator/cttr:body/cttr:refs/cttr:refsection[@reftype='citing-cases']/cttr:refitem))
                    then fn:count(//cttr:citator/cttr:body/cttr:refs/cttr:refsection[@reftype='citing-cases']/cttr:refitem)
                    else ()
                numConsideredCases:
                  xpath:
                  - if(fn:exists(//cttr:citator/cttr:body/cttr:refs/cttr:refsection[@reftype='considered-cases']/cttr:refitem))
                    then fn:count(//cttr:citator/cttr:body/cttr:refs/cttr:refsection[@reftype='considered-cases']/cttr:refitem)
                    else ()
                origin:
                  format: params[origin]
                pcsi:
                  format: params[collection_id_suffix]
                published_status:
                  indexAs: String
                  xpath:
                  - if(fn:exists(//courtcase:courtcase/doc:metadata/doc:docinfo/classify:classification-grp[@classscheme='ln.indexing-terms']/classify:classification[@classscheme='courtcase:reportedstatus']/classify:classitem/classify:classitem-identifier/classify:classname[@normval='Reported']))
                    then 'Published' else if(fn:exists(//courtcase:courtcase/doc:metadata/doc:docinfo/classify:classification-grp[@classscheme='ln.indexing-terms']/classify:classification[@classscheme='courtcase:reportedstatus']/classify:classitem/classify:classitem-identifier/classify:classname[@normval='Unreported']))
                    then 'Unpublished' else 'Unpublished'
                refLnLinks:
                  format: '{"service": "reflnlink_service", "locatorKeyName": "locator_key_name",
                    "locatorKeyValue": "locator_key_value"}'
                  indexAs: List
                  mappings:
                    locator_key_name:
                      xpath: fn:for-each(//ref:lnlink, function($a) { ($a/ref:locator/ref:locator-key/ref:key-name/@name,
                        string(""))[1] })
                    locator_key_value:
                      xpath: fn:for-each(//ref:lnlink, function($a) { ($a/ref:locator/ref:locator-key/ref:key-value/@value,
                        string(""))[1] })
                    reflnlink_service:
                      xpath: fn:for-each(//ref:lnlink, function($a) { ($a/@service, string(""))[1]
                        })
                referringCaseCourtSortKeyList:
                  function: getCourtSortKeyListWithMultiLookup(_referringCase_guid_list)
                  indexAs: List
                  plugin: lookup_plugin
                searchableResources:
                  format: '{"resourceKey_relatedDoc": "resource_key_relatedDoc","docid": "doc_id"}'
                  mappings:
                    doc_id:
                      xpath:
                      - fn:string-join((//cttr:citator/doc:metadata/doc:docinfo/doc:related-content/doc:related-content-item[@content-type='legislation']/doc:related-content-link/ref:lnlink/ref:locator/ref:locator-key/ref:key-value/@value),",")
                    resource_key_relatedDoc:
                      xpath:
                      - fn:string-join((//legis:legis/doc:metadata/doc:docinfo/doc:membership/ref:groupid[@group-type='legislationkey']/ref:resourceid/@ref:resourcekey),",")
                stateCode:
                  indexAs: List
                  xpath:
                  - //dc:coverage/location:state/@statecode
                systemNormsShortName:
                  indexAs: String
                  xpath:
                  - //jurisinfo:system/@normshortname
                tocLinks:
                  format: '{"locatorKey": "locator_key", "locatorKeyProtocol": "locator_key_protocol"}'
                  indexAs: List
                  mappings:
                    locator_key:
                      xpath:
                      - //defaultns:toc-entry/@ref:locatorkey
                    locator_key_protocol:
                      xpath:
                      - //defaultns:toc-entry/@ref:locatorkeyprotocol
                topicGuids:
                  format: '{"topicGuid": "topic_guid"}'
                  indexAs: List
                  mappings:
                    topic_guid:
                      xpath:
                      - fn:distinct-values(( /*/doc:metadata/doc:docinfo/classify:classification-grp/classify:classification[@classscheme="ln.legal"]/classify:classitem/topic:topicReference[starts-with(@guid:guid,"urn:topic")]/@guid:guid
                        , //casesum:headnote/classify:classification[@classscheme='ln.legal']/classify:classitem/topic:topicReference[starts-with(@guid:guid,"urn:topic")]/@guid:guid
                        ))
                topicGuidsHeadnotes:
                  format: '{"topicGuidHeadnote": "topic_guid_headnote"}'
                  indexAs: List
                  mappings:
                    topic_guid_headnote:
                      xpath:
                      - fn:distinct-values(//casesum:headnote/classify:classification[@classscheme='ln.legal']/classify:classitem/topic:topicReference[starts-with(@guid:guid,"urn:topic")]/@guid:guid)
                year:
                  xpath:
                  - if(fn:exists(//courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:decisiondate))
                    then //courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:decisiondate[last()]/@year
                    else if (fn:exists(//courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:fileddate))
                    then //courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:fileddate[last()]/@year
                    else if (fn:exists(//courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:argueddate))
                    then //courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:argueddate[last()]/@year
                    else if(fn:exists(//courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:releaseddate))
                    then //courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:releaseddate[last()]/@year
                    else if (fn:exists(//newsitem:newsitem/doc:metadata/pubinfo:pubinfo/pubinfo:dates/pubinfo:pubdate/@year))
                    then //newsitem:newsitem/doc:metadata/pubinfo:pubinfo/pubinfo:dates/pubinfo:pubdate/@year
                    else if (fn:exists(//cttr:citator/cttr:head/cttr:citedarticle/ref:citations/ref:cite4thisresource/lnci:cite/lnci:lawrev/lnci:lawrevref/lnci:lawrevlocator))
                    then  //cttr:citator/cttr:head/cttr:citedarticle/ref:citations/ref:cite4thisresource/lnci:cite/lnci:lawrev/lnci:lawrevref[1]/lnci:lawrevlocator/lnci:date[fn:last()]/@year
                    | //cttr:citator/cttr:head/cttr:citedarticle/ref:citations/ref:cite4thisresource/lnci:cite/lnci:lawrev/lnci:lawrevref[1]/lnci:lawrevlocator/lnci:issue/lnci:date[fn:last()]/@year
                    else ()
              name: metadata
              namespaces:
                abstract: urn:x-lexisnexis:content:abstract:sharedservices:1
                annot: http://www.lexisnexis.com/xmlschemas/content/shared/annotations/1/
                article: urn:x-lexisnexis:content:article:sharedservices:1
                attorney: http://www.lexisnexis.com/xmlschemas/content/shared/attorney/1/
                base: http://www.lexisnexis.com/xmlschemas/content/shared/base/1/
                casedigest: http://www.lexisnexis.com/xmlschemas/content/legal/case-digest/1/
                casehist: http://www.lexisnexis.com/xmlschemas/content/legal/case-history/1/
                caseinfo: http://www.lexisnexis.com/xmlschemas/content/legal/case-information/1/
                casenum: http://www.lexisnexis.com/xmlschemas/content/legal/case-summary/1/
                casesum: http://www.lexisnexis.com/xmlschemas/content/legal/case-summary/1/
                cfi: http://www.lexisnexis.com/xmlschemas/content/shared/cite-finding-information/1/
                classify: http://www.lexisnexis.com/xmlschemas/content/shared/classification/1/
                combinedcttr: urn:x-lexisnexis:content:combinedcitator:sharedservices:1
                compcase: urn:x-lexisnexis:content:compositecourtcase:sharedservices:1
                contact: http://www.lexisnexis.com/xmlschemas/content/shared/contact/1/
                courtcase: http://www.lexisnexis.com/xmlschemas/content/legal/courtcase/1/
                courtfiling: http://www.lexisnexis.com/xmlschemas/content/legal/courtfiling/1/
                courtorder: urn:x-lexisnexis:content:courtorder:sharedservices:1
                cttr: urn:x-lexisnexis:content:citator:sharedservices:1
                dc: http://purl.org/dc/elements/1.1/
                dcterms: http://purl.org/dc/terms/
                decision: http://www.lexisnexis.com/xmlschemas/content/legal/decision/1/
                defaultns: http://www.lexisnexis.com/xmlschemas/content/shared/base/1/
                dict: urn:x-lexisnexis:content:dict:sharedservices:1
                directory: urn:x-lexisnexis:content:directory:sharedservices:1
                doc: http://www.lexisnexis.com/xmlschemas/content/shared/document-level-metadata/1/
                entity: http://www.lexisnexis.com/xmlschemas/content/shared/identified-entities/1/
                fn: http://www.w3.org/2005/xpath-functions
                form: http://www.lexisnexis.com/xmlschemas/content/shared/form/1/
                globalentity: urn:x-lexisnexis:content:identified-entities:global:1
                guid: urn:x-lexisnexis:content:guid:global:1
                jurisinfo: http://www.lexisnexis.com/xmlschemas/content/legal/jurisdiction-info/1/
                lawfirm: http://www.lexisnexis.com/xmlschemas/content/shared/lawfirm/1/
                legacy: urn:x-lexisnexis:content:legacy:global:1
                legis: http://www.lexisnexis.com/xmlschemas/content/legal/legislation/1/
                legisinfo: http://www.lexisnexis.com/xmlschemas/content/legal/legislation-info/1/
                lglarticle: http://www.lexisnexis.com/xmlschemas/content/legal/legal-article/1/
                linktemplate: services.lexisnexis.com/xmlschemas/linktemplate/1/s
                lnci: http://www.lexisnexis.com/xmlschemas/content/shared/citations/1/
                lndocmeta: http://www.lexisnexis.com/xmlschemas/content/shared/lndocmeta/1/
                lnlit: http://www.lexis-nexis.com/lnlit
                lnmeta: http://www.lexisnexis.com/xmlschemas/content/shared/lexisnexis-metadata/1/
                lnsys: http://www.lexisnexis.com/xmlschemas/content/shared/lnsys/1/
                lntbl: http://www.lexisnexis.com/xmlschemas/content/shared/lexisnexis-table-extensions/1/
                location: http://www.lexisnexis.com/xmlschemas/content/shared/location/1/
                newsitem: http://www.lexisnexis.com/xmlschemas/content/news/newsitem/1/
                nitf: http://iptc.org/std/NITF/2006-10-18/
                person: http://www.lexisnexis.com/xmlschemas/content/shared/person/1/
                primlaw: http://www.lexisnexis.com/xmlschemas/content/legal/primarylaw/1/
                primlawhist: http://www.lexisnexis.com/xmlschemas/content/legal/primarylaw-history/1/
                primlawinfo: http://www.lexisnexis.com/xmlschemas/content/legal/primarylaw-info/1/
                proc: http://www.lexisnexis.com/xmlschemas/content/shared/process-elements/1/
                pubinfo: http://www.lexisnexis.com/xmlschemas/content/shared/publication-info/1/
                pvs: http://www.lexisnexis.com/xmlschemas/content/shared/pvs/1/
                qa: urn:x-lexisnexis:content:questionanswer:sharedservices:1
                rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
                ref: http://www.lexisnexis.com/xmlschemas/content/shared/reference/1/
                retriever: retriever
                rfc: http://www.lexisnexis.com/xmlschemas/content/legal/reason-for-citing/1/
                topic: urn:x-lexisnexis:content:topic:global:1
                xsi: http://www.w3.org/2001/XMLSchema-instance
              parameters:
                collection_id:
                  source: ContentMetadata
                collection_id_suffix:
                  source: ContentMetadata
                document_version_external:
                  source: ContentMetadata
                document_version_internal:
                  constant: "6"
                document_version_timestamp:
                  source: ContentMetadata
                object_id:
                  source: ContentMetadata
                object_uri:
                  source: ContentMetadata
                origin:
                  source: ContentMetadata
              plugins:
                java_plugin:
                  kind: Java
                  plugin: functions.BuiltInJava
                lookup_plugin:
                  config: |-
                    host: search-redis-master.4604-search-services.svc
                    port: 6379
                    database: 4
                    poolSize: 64
                  kind: Java
                  plugin: com.lexisnexis.plugins.plugin.AuRedisLookupPlugin
              tombstone:
                collection_id:
                  format: params[collection_id]
                document_version_external:
                  format: params[document_version_external]
                document_version_internal:
                  format: params[document_version_internal]
                document_version_timestamp:
                  format: params[document_version_timestamp]
                id:
                  format: params[object_id]
              version: v1.0
          env:
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
          image:
            pullPolicy: IfNotPresent
            repository: 2269-redis-lookup-plugin
            tag: d69877263af9b34919c02812993a260e8a7fb811
          livenessProbe:
            initialDelaySeconds: 30
            path: /healthcheck
            periodSeconds: 30
          readinessProbe:
            initialDelaySeconds: 30
            path: /healthcheck
            periodSeconds: 30
          resources:
            limits:
              cpu: 4
              memory: 4Gi
            requests:
              cpu: 2
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          scrape: "false"
        replicaCount: 1
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: transform-metadata
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: transform-metadata
      - name: nameOverride
        value: transform-metadata
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-transform-metadata-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-transform-metadata-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: transform-metadata-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "10081"
        assetAreaName: au-transform-retrieve
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          blockConfig:
            config:
              compressionLevel: -1
              excludeFilteredFromBatch: true
              jslt:
                pluginsFolderPath: /app/plugins
                yamlMappingPath: /etc/transform/config/mapping.yaml
              useBatch: true
              useGzip: true
              useProto3: true
              xml:
                pluginsFolderPath: /app/plugins
                yamlMappingPath: /etc/transform/config/mapping.yaml
            enabled: true
            logging:
              Configuration:
                Appenders:
                  Console:
                    PatternLayout:
                      pattern: '%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n'
                    direct: true
                    name: Console
                    target: SYSTEM_OUT
                Loggers:
                  Root:
                    AppenderRef:
                      ref: Console
                    includeLocation: false
                    level: info
                monitorInterval: 30
                name: Default
                status: info
            mapping:
              mappings:
                _areaOfCoverage_guid:
                  defaultValueIfMissing: string("Missing")
                  indexAs: List
                  xpath: //*:head//jurisinfo:courtinfo/globalentity:entityReference/@guid:guid
                _consideredCase_guid_list:
                  defaultValueIfMissing: string("Missing")
                  indexAs: List
                  omitOutput: true
                  xpath: //cttr:citator/cttr:body/cttr:refs/cttr:refsection/cttr:refitem/cttr:consideredcase/cttr:caseinfo/jurisinfo:courtinfo/globalentity:entityReference/@guid:guid
                _referringCase_guid_list:
                  defaultValueIfMissing: string("Missing")
                  indexAs: List
                  omitOutput: true
                  xpath: //cttr:citator/cttr:body/cttr:refs/cttr:refsection/cttr:refitem/cttr:citingcase/cttr:caseinfo/jurisinfo:courtinfo/globalentity:entityReference/@guid:guid
                attorneyEntityGuids:
                  format: '{"attorneyIdentifier": "attorney_guid"}'
                  indexAs: List
                  mappings:
                    attorney_guid:
                      xpath:
                      - fn:distinct-values((//globalentity:entityReference[@role='urn:contentType:attorney']/@guid:guid
                        , //globalentity:entity[@role='urn:contentType:attorney']/globalentity:entityReference[fn:not(@role)]/@guid:guid))
                changemanagementcode:
                  xpath:
                  - //doc:changemanagementcode/@*
                citation:
                  xpath: fn:string-join(fn:data(//courtcase:courtcase/courtcase:head/caseinfo:caseinfo/ref:citations/ref:cite4thisresource/lnci:cite/lnci:content/lnci:span/@cfi:normcite),"||")
                citeDefKeywords:
                  format: '{"citeDefKeyword": "cite_def_keyword"}'
                  indexAs: List
                  mappings:
                    cite_def_keyword:
                      xpath:
                      - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/ref:citations/ref:cite4thisresource[fn:not(@citetype='court')]/lnci:cite/lnci:content/lnci:span/@CITE-DEF
                      - /courtorder:courtorder/courtorder:head/ref:citations/ref:cite4thisresource/lnci:cite/lnci:content/lnci:span/@CITE-DEF
                      - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/ref:citations/ref:cite4thisresource/lnci:cite/lnci:content/lnci:span/@CITE-DEF
                      - /casedigest:casedigest/casedigest:head/ref:citations/ref:parallelcite/lnci:cite/lnci:content/lnci:span[@CITE-REF][1]/@CITE-REF
                      - /cttr:citator/cttr:head/cttr:citeddecision/cttr:caseinfo/ref:citations/ref:cite4thisresource/lnci:cite//@CITE-DEF
                      - /compcase:compositecourtcase/compcase:head/compcase:caseinfo/ref:citations/ref:cite4thisresource/lnci:cite/lnci:content/lnci:span/@CITE-DEF
                citeRefKeywords:
                  format: '{"citeRefKeyword": "cite_ref_keyword", "citeRefNormCite": "norm_cite",
                    "isLexisCite": "is_lexis_cite", "contentClassCode" : "content_classcode",
                    "redirectCode": "redirect_code", "kwFallbackSubstring":"kw_fallback_substring",
                    "normProtocol": "norm_protocol"}'
                  indexAs: List
                  mappings:
                    cite_ref_keyword:
                      xpath: //lnci:span[@CITE-REF]/@CITE-REF
                    content_classcode:
                      xpath: fn:for-each(//lnci:span[@CITE-REF], function($a) { ($a/@cfi:contentclasscode,
                        string(""))[1] })
                    is_lexis_cite:
                      xpath: fn:for-each(//lnci:span[@CITE-REF], function($a) { if(fn:exists($a/@cfi:normcite))
                        then (fn:contains($a/@cfi:normcite, "LEXIS")) else string("false")})
                    kw_fallback_substring:
                      xpath: fn:for-each(//lnci:span[@CITE-REF], function($a) { ($a/@cfi:kw-fallback-substring,
                        string(""))[1] })
                    norm_cite:
                      xpath: fn:for-each(//lnci:span[@CITE-REF], function($a) { ($a/@cfi:normcite,
                        string(""))[1] })
                    norm_protocol:
                      xpath: fn:for-each(//lnci:span[@CITE-REF], function($a) { ($a/ancestor::lnci:cite[@normprotocol]/@normprotocol,
                        string(""))[1] })
                    redirect_code:
                      xpath: fn:for-each(//lnci:span[@CITE-REF], function($a) { ($a/@cfi:redirectcode,
                        string(""))[1] })
                classSchemes:
                  indexAs: List
                  xpath:
                  - //classify:classitem/@classscheme
                collection_id:
                  format: params[collection_id]
                combinedDocumentGroupIds:
                  indexAs: List
                  xpath:
                  - if(fn:exists(//ref:groupid[@group-type = "sameCase" or @group-type = "sameLegis"][./ref:resourceid/@ref:resourcekey
                    and ./ref:resourceGroupMemberRanking/@isPrimaryDocument])) then //ref:groupid/ref:resourceid/@ref:resourcekey
                    else ()
                consideredCaseCourtSortKeyList:
                  function: getCourtSortKeyListWithMultiLookup(_consideredCase_guid_list)
                  indexAs: List
                  plugin: lookup_plugin
                countryCode:
                  indexAs: List
                  xpath:
                  - //dc:coverage/location:country/@countrycode
                courtRollUpValue:
                  indexAs: String
                  xpath:
                  - //classify:classitem[@classscheme='lncr:courtfederalrollup']/classify:classitem-identifier/classify:classcode/@normval
                courtSortKey:
                  function: getCourtSortKey(_areaOfCoverage_guid)
                  indexAs: String
                  plugin: lookup_plugin
                courtTypeNormName:
                  indexAs: String
                  xpath:
                  - //jurisinfo:courttype/@normname
                datalake_cdn_url:
                  format: params[object_uri]
                docIds:
                  format: '{"locatorKeyValue": "locator_key_value"}'
                  indexAs: List
                  mappings:
                    locator_key_value:
                      xpath:
                      - //ref:crossreference/ref:locator/ref:locator-key/ref:key-value/@value
                      - //ref:returnreference/ref:locator/ref:locator-key/ref:key-value/@value
                      - //defaultns:footnote-ref/ref:locator/ref:locator-key/ref:key-value/@value
                document_version_external:
                  format: params[document_version_external]
                  required: true
                document_version_internal:
                  format: params[document_version_internal]
                  required: true
                document_version_timestamp:
                  format: params[document_version_timestamp]
                has_footnote:
                  indexAs: String
                  xpath:
                  - (((//base:footnote, //person:bio[@footnote='true']/@footnote)[1]),fn:parse-xml-fragment("true"),fn:parse-xml-fragment("false"))[2]
                hasAnnotation:
                  indexAs: String
                  xpath:
                  - fn:exists(//annot:annotations[1])
                id:
                  format: params[object_id]
                  required: true
                judgeEntityGuids:
                  format: '{"judgeIdentifier": "judge_guid"}'
                  indexAs: List
                  mappings:
                    judge_guid:
                      xpath:
                      - fn:distinct-values((//globalentity:entityReference[@role='urn:contentType:judge']/@guid:guid
                        , //globalentity:entity[@role='urn:contentType:judge']/globalentity:entityReference[fn:not(@role)]/@guid:guid))
                lawFirmEntityGuids:
                  format: '{"lawFirmIdentifier": "lawFirm_guid"}'
                  indexAs: List
                  mappings:
                    lawFirm_guid:
                      xpath:
                      - fn:distinct-values((//globalentity:entityReference[@role='urn:contentType:lawFirm']/@guid:guid
                        , //globalentity:entity[@role='urn:contentType:lawFirm']/globalentity:entityReference[fn:not(@role)]/@guid:guid))
                legislationStatusCode:
                  indexAs: String
                  xpath:
                  - //primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:statusgroup/legisinfo:status/@statuscode
                moduleId:
                  indexAs: List
                  xpath:
                  - //doc:legacy-metadata[fn:normalize-space(@metadatasource)='lbu-meta']/base:meta/base:metaitem[fn:normalize-space(@name)='MODULE-PGUID']/@value
                normShortName:
                  indexAs: String
                  xpath:
                  - //jurisinfo:courtname/@normshortname
                numCitingCases:
                  xpath:
                  - if(fn:exists(//cttr:citator/cttr:body/cttr:refs/cttr:refsection[@reftype='citing-cases']/cttr:refitem))
                    then fn:count(//cttr:citator/cttr:body/cttr:refs/cttr:refsection[@reftype='citing-cases']/cttr:refitem)
                    else ()
                numConsideredCases:
                  xpath:
                  - if(fn:exists(//cttr:citator/cttr:body/cttr:refs/cttr:refsection[@reftype='considered-cases']/cttr:refitem))
                    then fn:count(//cttr:citator/cttr:body/cttr:refs/cttr:refsection[@reftype='considered-cases']/cttr:refitem)
                    else ()
                origin:
                  format: params[origin]
                pcsi:
                  format: params[collection_id_suffix]
                published_status:
                  indexAs: String
                  xpath:
                  - if(fn:exists(//courtcase:courtcase/doc:metadata/doc:docinfo/classify:classification-grp[@classscheme='ln.indexing-terms']/classify:classification[@classscheme='courtcase:reportedstatus']/classify:classitem/classify:classitem-identifier/classify:classname[@normval='Reported']))
                    then 'Published' else if(fn:exists(//courtcase:courtcase/doc:metadata/doc:docinfo/classify:classification-grp[@classscheme='ln.indexing-terms']/classify:classification[@classscheme='courtcase:reportedstatus']/classify:classitem/classify:classitem-identifier/classify:classname[@normval='Unreported']))
                    then 'Unpublished' else 'Unpublished'
                refLnLinks:
                  format: '{"service": "reflnlink_service", "locatorKeyName": "locator_key_name",
                    "locatorKeyValue": "locator_key_value"}'
                  indexAs: List
                  mappings:
                    locator_key_name:
                      xpath: fn:for-each(//ref:lnlink, function($a) { ($a/ref:locator/ref:locator-key/ref:key-name/@name,
                        string(""))[1] })
                    locator_key_value:
                      xpath: fn:for-each(//ref:lnlink, function($a) { ($a/ref:locator/ref:locator-key/ref:key-value/@value,
                        string(""))[1] })
                    reflnlink_service:
                      xpath: fn:for-each(//ref:lnlink, function($a) { ($a/@service, string(""))[1]
                        })
                referringCaseCourtSortKeyList:
                  function: getCourtSortKeyListWithMultiLookup(_referringCase_guid_list)
                  indexAs: List
                  plugin: lookup_plugin
                searchableResources:
                  format: '{"resourceKey_relatedDoc": "resource_key_relatedDoc","docid": "doc_id"}'
                  mappings:
                    doc_id:
                      xpath:
                      - fn:string-join((//cttr:citator/doc:metadata/doc:docinfo/doc:related-content/doc:related-content-item[@content-type='legislation']/doc:related-content-link/ref:lnlink/ref:locator/ref:locator-key/ref:key-value/@value),",")
                    resource_key_relatedDoc:
                      xpath:
                      - fn:string-join((//legis:legis/doc:metadata/doc:docinfo/doc:membership/ref:groupid[@group-type='legislationkey']/ref:resourceid/@ref:resourcekey),",")
                stateCode:
                  indexAs: List
                  xpath:
                  - //dc:coverage/location:state/@statecode
                systemNormsShortName:
                  indexAs: String
                  xpath:
                  - //jurisinfo:system/@normshortname
                tocLinks:
                  format: '{"locatorKey": "locator_key", "locatorKeyProtocol": "locator_key_protocol"}'
                  indexAs: List
                  mappings:
                    locator_key:
                      xpath:
                      - //defaultns:toc-entry/@ref:locatorkey
                    locator_key_protocol:
                      xpath:
                      - //defaultns:toc-entry/@ref:locatorkeyprotocol
                topicGuids:
                  format: '{"topicGuid": "topic_guid"}'
                  indexAs: List
                  mappings:
                    topic_guid:
                      xpath:
                      - fn:distinct-values(( /*/doc:metadata/doc:docinfo/classify:classification-grp/classify:classification[@classscheme="ln.legal"]/classify:classitem/topic:topicReference[starts-with(@guid:guid,"urn:topic")]/@guid:guid
                        , //casesum:headnote/classify:classification[@classscheme='ln.legal']/classify:classitem/topic:topicReference[starts-with(@guid:guid,"urn:topic")]/@guid:guid
                        ))
                topicGuidsHeadnotes:
                  format: '{"topicGuidHeadnote": "topic_guid_headnote"}'
                  indexAs: List
                  mappings:
                    topic_guid_headnote:
                      xpath:
                      - fn:distinct-values(//casesum:headnote/classify:classification[@classscheme='ln.legal']/classify:classitem/topic:topicReference[starts-with(@guid:guid,"urn:topic")]/@guid:guid)
                year:
                  xpath:
                  - if(fn:exists(//courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:decisiondate))
                    then //courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:decisiondate[last()]/@year
                    else if (fn:exists(//courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:fileddate))
                    then //courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:fileddate[last()]/@year
                    else if (fn:exists(//courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:argueddate))
                    then //courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:argueddate[last()]/@year
                    else if(fn:exists(//courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:releaseddate))
                    then //courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:releaseddate[last()]/@year
                    else if (fn:exists(//newsitem:newsitem/doc:metadata/pubinfo:pubinfo/pubinfo:dates/pubinfo:pubdate/@year))
                    then //newsitem:newsitem/doc:metadata/pubinfo:pubinfo/pubinfo:dates/pubinfo:pubdate/@year
                    else if (fn:exists(//cttr:citator/cttr:head/cttr:citedarticle/ref:citations/ref:cite4thisresource/lnci:cite/lnci:lawrev/lnci:lawrevref/lnci:lawrevlocator))
                    then  //cttr:citator/cttr:head/cttr:citedarticle/ref:citations/ref:cite4thisresource/lnci:cite/lnci:lawrev/lnci:lawrevref[1]/lnci:lawrevlocator/lnci:date[fn:last()]/@year
                    | //cttr:citator/cttr:head/cttr:citedarticle/ref:citations/ref:cite4thisresource/lnci:cite/lnci:lawrev/lnci:lawrevref[1]/lnci:lawrevlocator/lnci:issue/lnci:date[fn:last()]/@year
                    else ()
              name: metadata
              namespaces:
                abstract: urn:x-lexisnexis:content:abstract:sharedservices:1
                annot: http://www.lexisnexis.com/xmlschemas/content/shared/annotations/1/
                article: urn:x-lexisnexis:content:article:sharedservices:1
                attorney: http://www.lexisnexis.com/xmlschemas/content/shared/attorney/1/
                base: http://www.lexisnexis.com/xmlschemas/content/shared/base/1/
                casedigest: http://www.lexisnexis.com/xmlschemas/content/legal/case-digest/1/
                casehist: http://www.lexisnexis.com/xmlschemas/content/legal/case-history/1/
                caseinfo: http://www.lexisnexis.com/xmlschemas/content/legal/case-information/1/
                casenum: http://www.lexisnexis.com/xmlschemas/content/legal/case-summary/1/
                casesum: http://www.lexisnexis.com/xmlschemas/content/legal/case-summary/1/
                cfi: http://www.lexisnexis.com/xmlschemas/content/shared/cite-finding-information/1/
                classify: http://www.lexisnexis.com/xmlschemas/content/shared/classification/1/
                combinedcttr: urn:x-lexisnexis:content:combinedcitator:sharedservices:1
                compcase: urn:x-lexisnexis:content:compositecourtcase:sharedservices:1
                contact: http://www.lexisnexis.com/xmlschemas/content/shared/contact/1/
                courtcase: http://www.lexisnexis.com/xmlschemas/content/legal/courtcase/1/
                courtfiling: http://www.lexisnexis.com/xmlschemas/content/legal/courtfiling/1/
                courtorder: urn:x-lexisnexis:content:courtorder:sharedservices:1
                cttr: urn:x-lexisnexis:content:citator:sharedservices:1
                dc: http://purl.org/dc/elements/1.1/
                dcterms: http://purl.org/dc/terms/
                decision: http://www.lexisnexis.com/xmlschemas/content/legal/decision/1/
                defaultns: http://www.lexisnexis.com/xmlschemas/content/shared/base/1/
                dict: urn:x-lexisnexis:content:dict:sharedservices:1
                directory: urn:x-lexisnexis:content:directory:sharedservices:1
                doc: http://www.lexisnexis.com/xmlschemas/content/shared/document-level-metadata/1/
                entity: http://www.lexisnexis.com/xmlschemas/content/shared/identified-entities/1/
                fn: http://www.w3.org/2005/xpath-functions
                form: http://www.lexisnexis.com/xmlschemas/content/shared/form/1/
                globalentity: urn:x-lexisnexis:content:identified-entities:global:1
                guid: urn:x-lexisnexis:content:guid:global:1
                jurisinfo: http://www.lexisnexis.com/xmlschemas/content/legal/jurisdiction-info/1/
                lawfirm: http://www.lexisnexis.com/xmlschemas/content/shared/lawfirm/1/
                legacy: urn:x-lexisnexis:content:legacy:global:1
                legis: http://www.lexisnexis.com/xmlschemas/content/legal/legislation/1/
                legisinfo: http://www.lexisnexis.com/xmlschemas/content/legal/legislation-info/1/
                lglarticle: http://www.lexisnexis.com/xmlschemas/content/legal/legal-article/1/
                linktemplate: services.lexisnexis.com/xmlschemas/linktemplate/1/s
                lnci: http://www.lexisnexis.com/xmlschemas/content/shared/citations/1/
                lndocmeta: http://www.lexisnexis.com/xmlschemas/content/shared/lndocmeta/1/
                lnlit: http://www.lexis-nexis.com/lnlit
                lnmeta: http://www.lexisnexis.com/xmlschemas/content/shared/lexisnexis-metadata/1/
                lnsys: http://www.lexisnexis.com/xmlschemas/content/shared/lnsys/1/
                lntbl: http://www.lexisnexis.com/xmlschemas/content/shared/lexisnexis-table-extensions/1/
                location: http://www.lexisnexis.com/xmlschemas/content/shared/location/1/
                newsitem: http://www.lexisnexis.com/xmlschemas/content/news/newsitem/1/
                nitf: http://iptc.org/std/NITF/2006-10-18/
                person: http://www.lexisnexis.com/xmlschemas/content/shared/person/1/
                primlaw: http://www.lexisnexis.com/xmlschemas/content/legal/primarylaw/1/
                primlawhist: http://www.lexisnexis.com/xmlschemas/content/legal/primarylaw-history/1/
                primlawinfo: http://www.lexisnexis.com/xmlschemas/content/legal/primarylaw-info/1/
                proc: http://www.lexisnexis.com/xmlschemas/content/shared/process-elements/1/
                pubinfo: http://www.lexisnexis.com/xmlschemas/content/shared/publication-info/1/
                pvs: http://www.lexisnexis.com/xmlschemas/content/shared/pvs/1/
                qa: urn:x-lexisnexis:content:questionanswer:sharedservices:1
                rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
                ref: http://www.lexisnexis.com/xmlschemas/content/shared/reference/1/
                retriever: retriever
                rfc: http://www.lexisnexis.com/xmlschemas/content/legal/reason-for-citing/1/
                topic: urn:x-lexisnexis:content:topic:global:1
                xsi: http://www.w3.org/2001/XMLSchema-instance
              parameters:
                collection_id:
                  source: ContentMetadata
                collection_id_suffix:
                  source: ContentMetadata
                document_version_external:
                  source: ContentMetadata
                document_version_internal:
                  constant: "6"
                document_version_timestamp:
                  source: ContentMetadata
                object_id:
                  source: ContentMetadata
                object_uri:
                  source: ContentMetadata
                origin:
                  source: ContentMetadata
              plugins:
                java_plugin:
                  kind: Java
                  plugin: functions.BuiltInJava
                lookup_plugin:
                  config: |-
                    host: search-redis-master.4604-search-services.svc
                    port: 6379
                    database: 4
                    poolSize: 64
                  kind: Java
                  plugin: com.lexisnexis.plugins.plugin.AuRedisLookupPlugin
              tombstone:
                collection_id:
                  format: params[collection_id]
                document_version_external:
                  format: params[document_version_external]
                document_version_internal:
                  format: params[document_version_internal]
                document_version_timestamp:
                  format: params[document_version_timestamp]
                id:
                  format: params[object_id]
              version: v1.0
          env:
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
          image:
            pullPolicy: IfNotPresent
            repository: 2269-redis-lookup-plugin
            tag: d69877263af9b34919c02812993a260e8a7fb811
          livenessProbe:
            initialDelaySeconds: 30
            path: /healthcheck
            periodSeconds: 30
          readinessProbe:
            initialDelaySeconds: 30
            path: /healthcheck
            periodSeconds: 30
          resources:
            limits:
              cpu: 4
              memory: 4Gi
            requests:
              cpu: 2
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          scrape: "false"
        replicaCount: 1
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: transform-metadata-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: transform-metadata-staging
      - name: nameOverride
        value: transform-metadata-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-transform-stm
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-transform-stm
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: transform-stm
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "10081"
        assetAreaName: au-transform-stm
        assetGroup: prod
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          blockConfig:
            config:
              compressionLevel: -1
              excludeFilteredFromBatch: true
              jslt:
                pluginsFolderPath: /app/plugins
                yamlMappingPath: /etc/transform/config/mapping.yaml
              useBatch: true
              useGzip: true
              useProto3: true
              xml:
                pluginsFolderPath: /app/plugins
                yamlMappingPath: /etc/transform/config/mapping.yaml
            enabled: true
            logging:
              Configuration:
                Appenders:
                  Console:
                    PatternLayout:
                      pattern: '%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n'
                    direct: true
                    name: Console
                    target: SYSTEM_OUT
                Loggers:
                  Root:
                    AppenderRef:
                      ref: Console
                    includeLocation: false
                    level: info
                monitorInterval: 30
                name: Default
                status: info
            mapping:
              mappings:
                casesummary:
                  xpath:
                  - /casedigest:casedigest/casedigest:body/casedigest:facts
                decision-summary:
                  xpath:
                  - /casedigest:casedigest/casedigest:body/casedigest:decision
                headnotes:
                  xpath:
                  - /courtcase:courtcase/courtcase:head
                judgement:
                  xpath:
                  - /courtorder:courtorder/courtorder:body
                  - /courtcase:courtcase/courtcase:body/courtcase:opinions/courtcase:opinion
                other:
                  xpath:
                  - /*/*:head
                  - /*/*:body
                segment_article_title:
                  xpath:
                  - //newsitem:newsitem/nitf:body/nitf:body.head/nitf:hedline
                  - //cttr:citator/cttr:head/cttr:citedarticle/base:title
                segment_author:
                  xpath:
                  - //seclaw:seclaw/doc:metadata/doc:docinfo/dc:metadata/dc:contributor
                  - //cttr:citator/cttr:head/cttr:citedarticle/person:contributor[@contributor-type="author"]/person:person/person:name.text
                  - //cttr:citator/cttr:head/cttr:citeddecision/cttr:caseinfo/courtcase:judges
                  - //legis:legis/doc:metadata/doc:docinfo/dc:metadata/dc:contributor/person:contributor[@contributor-type="author"]/person:person/person:name.text
                  - //seclaw:seclaw/doc:metadata/doc:docinfo/dc:metadata/dc:contributor/person:contributor[@contributor-type="author"]/person:person/person:name.text
                  - //regulation:regulation/doc:metadata/doc:docinfo/dc:metadata/dc:contributor/person:contributor[@contributor-type="author"]/person:person/person:name.text
                  - //courtrule:courtrule/doc:metadata/doc:docinfo/dc:metadata/dc:contributor/person:contributor[@contributor-type="author"]/person:person/person:name.text
                  - //newsitem:newsitem/doc:metadata/doc:docinfo/dc:metadata/dc:contributor/person:contributor[@contributor-type="author"]/person:person/person:name.text
                  - //newsitem:newsitem//person:contributor
                  - //dict:dictionary/doc:metadata/doc:docinfo/dc:metadata/dc:contributor/person:contributor[@contributor-type="author"]/person:person/person:name.text
                  - //seclaw:seclaw/seclaw:body//form:form/form:document/form:bodytext//person:person/person:name.text
                segment_case_citation:
                  xpath:
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/ref:citations/ref:cite4thisresource
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/ref:citations/ref:cite4thisresource[@citetype="reporter"]
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/ref:citations/ref:cite4thisresource[@citetype="court"]
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/ref:citations/ref:cite4thisresource[@citetype="parallel"]
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/caseinfo:docketnum
                  - /casedigest:casedigest/casedigest:head/ref:citations/ref:cite4thisresource
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/ref:citations/ref:parallelcite[@citetype="court"]
                  - /cttr:citator/cttr:head/cttr:citeddecision/cttr:caseinfo/cttr:citations/lnci:cite
                  - /compcase:compositecourtcase/compcase:head/compcase:caseinstanceinfo/ref:citations/ref:cite4thisresource[@citetype="court"]/lnci:cite
                  - /compcase:compositecourtcase/compcase:head/compcase:caseinfo/ref:citations/ref:cite4thisresource[@citetype="reporter"]
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/caseinfo:docketnum
                segment_case_name:
                  xpath:
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/caseinfo:casename/caseinfo:fullcasename
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/caseinfo:alternatecasename
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/ref:citations/ref:cite4thisresource[@citetype="court"]
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/caseinfo:casename/caseinfo:fullcasename
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/caseinfo:alternatecasename
                  - /casedigest:head/casedigest:caseinfo/ref:citations/ref:parallelcite[@citetype="court"]/lnci:cite
                  - /cttr:citator/cttr:head/cttr:citeddecision/cttr:caseinfo/caseinfo:casename/caseinfo:fullcasename
                  - /compcase:compositecourtcase/compcase:head/compcase:caseinfo/caseinfo:casename/caseinfo:fullcasename
                  - /compcase:compositecourtcase/compcase:head/compcase:caseinfo/caseinfo:alternatecasename
                  - /compcase:compositecourtcase/compcase:head/compcase:caseinstanceinfo/ref:citations/ref:cite4thisresource[@citetype="court"]/lnci:cite
                  - /courtorder:courtorder/courtorder:head/caseinfo:caseinfo/caseinfo:casename/caseinfo:fullcasename
                  - /cttr:citator/cttr:head/cttr:citeddecision/cttr:caseinfo/base:popname
                  - /courtorder:courtorder/courtorder:head/base:heading/base:title
                segment_case_summary:
                  xpath:
                  - /courtcase:courtcase/courtcase:head/casesum:summaries/casesum:editorialsummary
                  - /courtcase:courtcase/courtcase:head/casesum:summaries/casesum:disposition
                  - /courtcase:courtcase/courtcase:body/courtcase:opinions/casesum:disposition
                  - /casedigest:casedigest/casedigest:body/casedigest:facts/casedigest:factsummary
                  - /casedigest:casedigest/casedigest:body/casedigest:decision/casedigest:decisionsummary
                  - /casedigest:casedigest/casedigest:body/casesum:disposition
                  - /cttr:citator/cttr:body/cttr:descriptors/cttr:descriptorsection[@descriptortype="catchwords-and-digest"]/casesum:editorialsummary[@summarysource="lexis-casebase-editorial"]
                  - /cttr:citator/cttr:body/cttr:descriptors/cttr:descriptorsection[@descriptortype="abstract"]/casesum:editorialsummary[@summarysource="lexis-casebase-editorial"]/casesum:overview
                  - /compcase:compositecourtcase/compcase:head/casesum:summaries/casesum:editorialsummary
                  - /compcase:compositecourtcase/compcase:head/casesum:summaries/casesum:decisionsummary
                  - /compcase:compositecourtcase/compcase:head/casesum:summaries/casesum:disposition
                  - /compcase:compositecourtcase/compcase:body/compcase:caseinstance/compcase:caseinstancebody/casesum:disposition
                  - /courtcase:courtcase/courtcase:head/casesum:summaries/casesum:decisionsummary
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                  - /compcase:compositecourtcase/compcase:head/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                  - /courtorder:courtorder/courtorder:head/courtorder:descriptor/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                  - /casedigest:casedigest/casedigest:body/casedigest:otherinfo[@infotype="abstract"]/base:bodytext
                  - /cttr:citator/cttr:body/cttr:descriptors/cttr:descriptorsection[@descriptortype="catchwords-and-digest"]/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                segment_catchwords:
                  xpath:
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                  - /compcase:compositecourtcase/compcase:head/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                  - /courtorder:courtorder/courtorder:head/courtorder:descriptor/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                  - /casedigest:casedigest/casedigest:body/casedigest:otherinfo[@infotype="abstract"]/base:bodytext
                  - /cttr:citator/cttr:body/cttr:descriptors/cttr:descriptorsection[@descriptortype="catchwords-and-digest"]/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                segment_citation:
                  xpath:
                  - //newsitem:newsitem/newsitem:head/ref:citations/ref:cite4thisresource/lnci:cite[@type="cite4thisdoc"]
                  - //cttr:citator/cttr:head/cttr:citedarticle/cttr:citations
                  - //cttr:citator/cttr:head/cttr:citedarticle/ref:citations/ref:cite4thisresource
                segment_court:
                  xpath:
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/jurisinfo:courtinfo/jurisinfo:alternatecourtcode/@alternatecourtcode
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/jurisinfo:courtinfo/jurisinfo:alternatecourtcode/@alternatecourtcode
                  - /cttr:citator/cttr:head/cttr:citeddecision/cttr:caseinfo/jurisinfo:courtinfo/jurisinfo:alternatecourtcode/@alternatecourtcode
                  - /compcase:compositecourtcase/compcase:head/compcase:caseinstanceinfo/jurisinfo:courtinfo/jurisinfo:alternatecourtcode/@alternatecourtcode
                  - /courtorder:courtorder/courtorder:head/jurisinfo:courtinfo/jurisinfo:alternatecourtcode/@alternatecourtcode
                segment_court_name:
                  xpath:
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/jurisinfo:courtinfo/jurisinfo:courtname
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/jurisinfo:courtinfo/jurisinfo:courtname
                  - /cttr:citator/cttr:head/cttr:citeddecision/cttr:caseinfo/jurisinfo:courtinfo/jurisinfo:courtname
                  - /compcase:compositecourtcase/compcase:head/compcase:caseinstanceinfo/jurisinfo:courtinfo/jurisinfo:courtname
                  - /courtorder:courtorder/courtorder:head/jurisinfo:courtinfo/jurisinfo:courtname
                segment_date:
                  xpath:
                  - /cttr:citingcase/cttr:caseinfo/decision:dates/decision:decisiondate
                segment_dict_defterm:
                  xpath:
                  - /dict:dictionary/dict:body/dict:defitem/tei:entry/tei:form/tei:orth
                  - /dict:dictionary/dict:body/dict:defitem/tei:superEntry/tei:entry/tei:form/tei:orth
                segment_doc_title:
                  xpath:
                  - //seclaw:seclaw/doc:metadata/doc:docinfo/dc:metadata/dc:title
                  - //cttr:citator/doc:metadata/doc:docinfo/dc:metadata/dc:title
                  - //newsitem:newsitem/doc:metadata/doc:docinfo/dc:metadata/dc:title
                  - //dict:dictionary/doc:metadata/doc:docinfo/dc:metadata/dc:title
                segment_end_date:
                  xpath:
                  - let $date := if(fn:exists(//admindoc:admindoc/doc:metadata/doc:docinfo/doc:versioninfo/doc:enddate))
                    then //admindoc:admindoc/doc:metadata/doc:docinfo/doc:versioninfo/doc:enddate
                    else if(fn:exists(//courtrule:courtrule/doc:metadata/doc:docinfo/doc:versioninfo/doc:enddate))
                    then //courtrule:courtrule/doc:metadata/doc:docinfo/doc:versioninfo/doc:enddate
                    else if(fn:exists(//regulation:regulation/doc:metadata/doc:docinfo/doc:versioninfo/doc:enddate))
                    then //regulation:regulation/doc:metadata/doc:docinfo/doc:versioninfo/doc:enddate  else
                    if(fn:exists(//legis:legis/doc:metadata/doc:docinfo/doc:versioninfo/doc:enddate))
                    then //legis:legis/doc:metadata/doc:docinfo/doc:versioninfo/doc:enddate
                    else () return if(not(fn:exists($date))) then () else if(fn:string-length($date/@day)=1)
                    then fn:concat($date/@year,'-',$date/@month,'-0',$date/@day) else fn:concat($date/@year,'-',$date/@month,'-',$date/@day)
                segment_form_number:
                  xpath:
                  - //seclaw:seclaw[@seclawtype="form"]/seclaw:body/form:form/form:document/base:heading/base:desig
                  - //seclaw:seclaw[@seclawtype="precedent"]/seclaw:body//form:form/form:document/base:heading/base:desig
                segment_form_title:
                  xpath:
                  - //seclaw:seclaw[@seclawtype="form"]/seclaw:body/form:form/form:document/base:heading/base:title
                  - //seclaw:seclaw[@seclawtype="precedent"]/seclaw:body//form:form[form:info/base:meta/base:metaitem/@value='form']/form:document/base:heading/base:title
                  - //seclaw:seclaw[@seclawtype="precedent"]/seclaw:body//form:form[form:info/base:meta/base:metaitem/@value="form"]/form:document/form:bodytext/form:form/form:document/form:bodytext/form:form/form:document/base:heading/base:title
                  - //seclaw:seclaw[@seclawtype="precedent"]/seclaw:body//form:form[form:info/base:meta/base:metaitem/@value="form"]/form:document/form:bodytext/form:form/form:document/base:heading/base:title
                segment_fp_note:
                  xpath:
                  - //seclaw:seclaw/seclaw:body//form:form/form:document/form:bodytext//base:note[@notetype="summary"]
                  - //seclaw:seclaw/seclaw:body//form:form/form:document/form:bodytext//base:note[@notetype="instruction"]
                segment_heading:
                  xpath:
                  - //seclaw:seclaw/seclaw:body/seclaw:level/base:heading/base:title
                  - //legis:legis/legis:body//primlaw:level/annot:annotations/annot:annotation-grp[@grptype="COMMENTARY"]/base:heading
                  - //seclaw:seclaw/seclaw:body//seclaw:level/base:heading
                  - //regulation:regulation/regulation:body//primlaw:level/annot:annotations/annot:annotation-grp[@grptype="COMMENTARY"]/base:heading
                  - //courtrule:courtrule/courtrule:body//primlaw:level/annot:annotations/annot:annotation-grp[@grptype="COMMENTARY"]/base:heading
                  - //newsitem:newsitem/nitf:body/nitf:body.content/base:bodytext//base:section/base:heading
                  - //newsitem:newsitem/nitf:body/nitf:body.content/base:bodytext//base:section/base:h
                  - //newsitem:newsitem/nitf:body/nitf:body.content/base:bodytext//base:section/base:bodytext/base:heading
                  - //newsitem:newsitem/nitf:body/nitf:body.content/base:bodytext//base:section/base:bodytext/base:h
                  - //newsitem:newsitem/nitf:body/nitf:body.content/bodytext//section/heading
                  - //newsitem:newsitem/nitf:body/nitf:body.content/bodytext//section/bodytext/heading
                  - //newsitem:newsitem/nitf:body/nitf:body.content/bodytext//section/bodytext/h
                  - //seclaw:seclaw/seclaw:body//seclaw:level/base:heading/base:title
                  - //legis:legis/legis:body//primlaw:level/annot:annotations//annot:annotation/base:heading/base:title
                  - //regulation:regulation/regulation:body//primlaw:level/annot:annotations//annot:annotation/base:heading/base:title
                  - //courtrule:courtrule/courtrule:body//primlaw:level/annot:annotations//annot:annotation/base:heading/base:title
                  - //legis:legis/legis:body//primlaw:level/base:heading/base:title
                  - //regulation:regulation/regulation:body//primlaw:level/base:heading/base:title
                  - //courtrule:courtrule/courtrule:body//primlaw:level/base:heading/base:title
                segment_judge:
                  xpath:
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/casedigest:appearances/courtcase:panel/courtcase:judges/person:judge
                  - /casedigest:casedigest/casedigest:body/casedigest:decision/casedigest:decisionsummary/courtcase:caseexcerpt/courtcase:body/courtcase:opinions/courtcase:opinion/courtcase:opinionby/person:judge
                  - /cttr:citator/cttr:head/cttr:citeddecision/cttr:caseinfo/courtcase:judges
                  - /compcase:compositecourtcase/compcase:body/compcase:caseinstance/compcase:caseinstancebody/courtcase:opinions/courtcase:opinion/courtcase:opinionby/person:judge
                  - /courtorder:courtorder/courtorder:head/courtorder:authors/person:judge
                  - /courtorder:courtorder/courtorder:head/caseinfo:caseinfo/courtcase:panel/courtcase:judges/person:judge/person:person/person:name.text
                  - /compcase:compositecourtcase/compcase:head/compcase:caseinstanceinfo/courtcase:panel/courtcase:judges/person:judge
                  - /courtcase:courtcase/courtcase:body/courtcase:opinions/courtcase:opinion/courtcase:opinionby/person:judge
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/courtcase:panel/courtcase:judges/person:judge
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/courtcase:panel/courtcase:judges/person:judge
                segment_judgment_date:
                  xpath:
                  - if(fn:exists(//courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:decisiondate[fn:last()]/@year))
                    then //courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:decisiondate
                    else if(fn:exists(//compcase:compositecourtcase/compcase:head/compcase:caseinstanceinfo/decision:dates/decision:decisiondate))
                    then //compcase:compositecourtcase/compcase:head/compcase:caseinstanceinfo/decision:dates/decision:decisiondate
                    else ()
                segment_jurisdiction:
                  xpath:
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/jurisinfo:courtinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/jurisinfo:courtinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /cttr:citator/cttr:head/cttr:citeddecision/cttr:caseinfo/jurisinfo:courtinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /compcase:compositecourtcase/compcase:head/compcase:caseinstanceinfo/jurisinfo:courtinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /courtorder:courtorder/courtorder:head/jurisinfo:courtinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /legis:legis/legis:head/jurisinfo:legisbodyinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /regulation:regulation/regulation:head/jurisinfo:legisbodyinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /courtrule:courtrule/courtrule:head/jurisinfo:legisbodyinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /billtrack:billtrack/billtrack:head/jurisinfo:legisbodyinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /admindoc:admindoc/admindoc:head/jurisinfo:execbodyinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /cttr:citator/cttr:head/cttr:citedstatlaw/cttr:legisinfo/jurisinfo:legisbodyinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /cttr:citator/cttr:head/cttr:consideredlegis/cttr:legisinfo/jurisinfo:legisbodyinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /billtrack:billtrack/doc:metadata/doc:docinfo/classify:classification[@classscheme="selector"]/classify:classitem/classify:classitem-identifier/classify:classname[.
                    !='bill']
                segment_leg_defterm:
                  xpath:
                  - //base:defitem/base:defterm
                segment_leg_title:
                  xpath:
                  - //legis:legis/legis:body/primlaw:level[@leveltype='unclassified']/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names/legisinfo:officialtitle
                  - //regulation:regulation/regulation:body/primlaw:level[@leveltype='unclassified']/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names/legisinfo:officialtitle
                  - //courtrule:courtrule/courtrule:body/primlaw:level[@leveltype='unclassified']/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names/legisinfo:officialtitle
                  - //legis:legis/legis:body/primlaw:level[@leveltype="unclassified"]/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names/legisinfo:officialtitle
                  - //regulation:regulation/regulation:body/primlaw:level[@leveltype="unclassified"]/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names/legisinfo:officialtitle
                  - //courtrule:courtrule/courtrule:body/primlaw:level[@leveltype="unclassified"]/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names/legisinfo:officialtitle
                  - //legis:legis/legis:body/primlaw:level[@leveltype="chapter"]/base:heading/base:title
                segment_leg_top_title:
                  xpath:
                  - //legis:legis/legis:body/primlaw:level[@leveltype="unclassified"]/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names
                  - //regulation:regulation/regulation:body/primlaw:level[@leveltype="unclassified"]/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names
                  - //courtrule:courtrule/courtrule:body/primlaw:level[@leveltype="unclassified"]/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names
                  - //billtrack:billtrack/billtrack:body//primlaw:level[@leveltype="unclassified"]/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names
                  - //admindoc:body/admindoc:info/admindoc:officialtitle
                  - //admindoc:admindoc/admindoc:body/admindoc:info/admindoc:officialtitle
                  - //cttr:citator/cttr:head/cttr:citedseclaw/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names
                  - //legis:legis/legis:body/primlaw:level[@leveltype="chapter"]/base:heading/base:title
                  - //funddoc:fundamentallegaldocument/funddoc:body/primlaw:level[@leveltype="unclassified"]/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names
                segment_prec_clausetitle:
                  xpath:
                  - //seclaw:seclaw/seclaw:body//form:form/form:document/form:bodytext//form:clause[@clausetype="clause"]/base:heading/base:title
                  - //seclaw:seclaw/seclaw:body//form:form/form:document/form:bodytext//form:clause[@clausetype="subclause"]/base:heading/base:title
                segment_prec_defterm:
                  xpath:
                  - //seclaw:seclaw/seclaw:body//form:form/form:document/form:bodytext//base:defterm
                segment_precedent_title:
                  xpath:
                  - //seclaw:seclaw[@seclawtype="precedent"]/seclaw:body/form:form/form:document/base:heading/base:title
                  - //seclaw:seclaw[@seclawtype="precedent"]/seclaw:body//form:form[form:info/base:meta/base:metaitem/@value="prec"]/form:document/base:heading/base:title
                segment_prov_num:
                  xpath:
                  - //legis:legis/legis:body//primlaw:level[@leveltype='regulation' or @leveltype='rule'
                    or @leveltype='section' or @leveltype='clause' or @leveltype='article']/base:heading/base:desig
                  - //regulation:regulation/regulation:body//primlaw:level[@leveltype='regulation'
                    or @leveltype='rule' or @leveltype='section' or @leveltype='clause' or
                    @leveltype='article']/base:heading/base:desig
                  - //courtrule:courtrule/courtrule:body//primlaw:level[@leveltype='regulation'
                    or @leveltype='rule' or @leveltype='section' or @leveltype='clause' or
                    @leveltype='article']/base:heading/base:desig
                  - //courtrule:courtrule/courtrule:body//primlaw:level[@leveltype="regulation"
                    or @leveltype="rule" or @leveltype="section" or @leveltype="clause" or
                    @leveltype="article"]/base:heading/base:desig
                  - //funddoc:fundamentallegaldocument/funddoc:body//primlaw:level[@leveltype="regulation"
                    or @leveltype="rule" or @leveltype="section" or @leveltype="clause" or
                    @leveltype="article"]/base:heading/base:desig
                  - //admindoc:admindoc/admindoc:body//primlaw:level[@leveltype="regulation"
                    or @leveltype="rule" or @leveltype="section" or @leveltype="clause" or
                    @leveltype="article"]/base:desig
                  - //admindoc:admindoc/admindoc:body//admindoc:level[@leveltype="regulation"
                    or @leveltype="rule" or @leveltype="section" or @leveltype="clause" or
                    @leveltype="article"]/base:heading/base:desig
                  - //legis:legis/legis:body//primlaw:level[@leveltype="regulation" or @leveltype="rule"
                    or @leveltype="section" or @leveltype="clause" or @leveltype="article"]/base:heading/base:desig
                  - //regulation:regulation/regulation:body//primlaw:level[@leveltype="regulation"
                    or @leveltype="rule" or @leveltype="section" or @leveltype="clause" or
                    @leveltype="article"]/base:heading/base:desig
                segment_prov_title:
                  xpath:
                  - //legis:legis/legis:body//primlaw:level[@leveltype='regulation' or @leveltype='rule'
                    or @leveltype='section' or @leveltype='clause' or @leveltype='article']/base:heading/base:title
                  - //regulation:regulation/regulation:body//primlaw:level[@leveltype='regulation'
                    or @leveltype='rule' or @leveltype='section' or @leveltype='clause' or
                    @leveltype='article']/base:heading/base:title
                  - //courtrule:courtrule/courtrule:body//primlaw:level[@leveltype='regulation'
                    or @leveltype='rule' or @leveltype='section' or @leveltype='clause' or
                    @leveltype='article']/base:heading /base:title
                  - //admindoc:admindoc/admindoc:body//primlaw:level[@leveltype="regulation"
                    or @leveltype="rule" or @leveltype="section" or @leveltype="clause" or
                    @leveltype="article"]/base:title
                  - //courtrule:courtrule/courtrule:body//primlaw:level[@leveltype="regulation"
                    or @leveltype="rule" or @leveltype="section" or @leveltype="clause" or
                    @leveltype="article"]/base:title
                  - //funddoc:fundamentallegaldocument/funddoc:body//primlaw:level[@leveltype="regulation"
                    or @leveltype="rule" or @leveltype="section" or @leveltype="clause" or
                    @leveltype="article"]/base:heading/base:title
                  - //admindoc:admindoc/admindoc:body//admindoc:level[@leveltype="regulation"
                    or @leveltype="rule" or @leveltype="section" or @leveltype="clause" or
                    @leveltype="article"]/base:heading/base:title
                  - //legis:legis/legis:body//primlaw:level[@leveltype="regulation" or @leveltype="rule"
                    or @leveltype="section" or @leveltype="clause" or @leveltype="article"]/base:heading/base:title
                  - //regulation:regulation/regulation:body//primlaw:level[@leveltype="regulation"
                    or @leveltype="rule" or @leveltype="section" or @leveltype="clause" or
                    @leveltype="article"]/base:heading/base:title
                  - //cttr:citator/cttr:head/cttr:citedstatlaw/cttr:legisinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/cttr:legiscomponent[@componenttype="provision"]/base:title
                segment_ref_cases:
                  xpath:
                  - //lnci:cite[@type='case']
                  - //lnci:cite[child::lnci:case]
                  - //caseinfo:fullcasename
                segment_representation:
                  xpath:
                  - /courtcase:courtcase/courtcase:body/courtcase:opinions/courtcase:representation/courtcase:counsel
                  - /casedigest:head/casedigest:caseinfo/casedigest:appearances/courtcase:representation
                  - /casedigest:casedigest/casedigest:body/casedigest:decision/courtcase:caseexcerpt/courtcase:body/courtcase:opinions/courtcase:representation/courtcase:counsel
                  - /compcase:compositecourtcase/compcase:body/compcase:caseinstance/compcase:caseinstancebody/courtcase:opinions/courtcase:representation/courtcase:counsel
                segment_start_date:
                  xpath:
                  - let $date := if(fn:exists(//admindoc:admindoc/doc:metadata/doc:docinfo/doc:versioninfo/doc:startdate))
                    then //admindoc:admindoc/doc:metadata/doc:docinfo/doc:versioninfo/doc:startdate
                    else if(fn:exists(//courtrule:courtrule/doc:metadata/doc:docinfo/doc:versioninfo/doc:startdate))
                    then //courtrule:courtrule/doc:metadata/doc:docinfo/doc:versioninfo/doc:startdate
                    else if(fn:exists(//regulation:regulation/doc:metadata/doc:docinfo/doc:versioninfo/doc:startdate))
                    then //regulation:regulation/doc:metadata/doc:docinfo/doc:versioninfo/doc:startdate  else
                    if(fn:exists(//legis:legis/doc:metadata/doc:docinfo/doc:versioninfo/doc:startdate))
                    then //legis:legis/doc:metadata/doc:docinfo/doc:versioninfo/doc:startdate
                    else () return if(not(fn:exists($date))) then () else if(fn:string-length($date/@day)=1)
                    then fn:concat($date/@year,'-',$date/@month,'-0',$date/@day) else fn:concat($date/@year,'-',$date/@month,'-',$date/@day)
                segment_words_phrases:
                  xpath:
                  - /casedigest:casedigest/casedigest:body/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                  - /cttr:citator/cttr:body/cttr:descriptors/cttr:descriptorsection[@descriptortype="words-and-phrases"]/classify:classification[@classscheme="words-and-phrases"]/classify:classitem/classify:classitem-identifier/classify:classname
                viz-catchwords:
                  xpath:
                  - /courtorder:courtorder/courtorder:head
                  - /casedigest:casedigest/casedigest:head
                  - /cttr:citator/cttr:body/cttr:descriptors/cttr:descriptorsectioin[@discriptortype="catchwords-and-digest"]
              name: metadata
              namespaces:
                "": http://www.lexisnexis.com/xmlschemas/content/shared/base/1/
                admindoc: urn:x-lexisnexis:content:administrative-document:sharedservices:1
                annot: http://www.lexisnexis.com/xmlschemas/content/shared/annotations/1/
                base: http://www.lexisnexis.com/xmlschemas/content/shared/base/1/
                billtrack: urn:x-lexisnexis:content:billtracking:1
                casedigest: http://www.lexisnexis.com/xmlschemas/content/legal/case-digest/1/
                caseinfo: http://www.lexisnexis.com/xmlschemas/content/legal/case-information/1/
                casesum: http://www.lexisnexis.com/xmlschemas/content/legal/case-summary/1/
                classify: http://www.lexisnexis.com/xmlschemas/content/shared/classification/1/
                compcase: urn:x-lexisnexis:content:compositecourtcase:sharedservices:1
                courtcase: http://www.lexisnexis.com/xmlschemas/content/legal/courtcase/1/
                courtorder: urn:x-lexisnexis:content:courtorder:sharedservices:1
                courtrule: http://www.lexisnexis.com/xmlschemas/content/legal/courtrule/1/
                cttr: urn:x-lexisnexis:content:citator:sharedservices:1
                dc: http://purl.org/dc/elements/1.1/
                decision: http://www.lexisnexis.com/xmlschemas/content/legal/decision/1/
                dict: urn:x-lexisnexis:content:dict:sharedservices:1
                doc: http://www.lexisnexis.com/xmlschemas/content/shared/document-level-metadata/1/
                fn: http://www.w3.org/2005/xpath-functions
                form: http://www.lexisnexis.com/xmlschemas/content/shared/form/1/
                funddoc: urn:x-lexisnexis:content:fundamentallegaldocument:sharedservices:1
                jurisinfo: http://www.lexisnexis.com/xmlschemas/content/legal/jurisdiction-info/1/
                legis: http://www.lexisnexis.com/xmlschemas/content/legal/legislation/1/
                legisinfo: http://www.lexisnexis.com/xmlschemas/content/legal/legislation-info/1/
                lnci: http://www.lexisnexis.com/xmlschemas/content/shared/citations/1/
                lnmeta: http://www.lexisnexis.com/xmlschemas/content/shared/lexisnexis-metadata/1/
                location: http://www.lexisnexis.com/xmlschemas/content/shared/location/1/
                newsitem: http://www.lexisnexis.com/xmlschemas/content/news/newsitem/1/
                nitf: http://iptc.org/std/NITF/2006-10-18/
                person: http://www.lexisnexis.com/xmlschemas/content/shared/person/1/
                primlaw: http://www.lexisnexis.com/xmlschemas/content/legal/primarylaw/1/
                primlawinfo: http://www.lexisnexis.com/xmlschemas/content/legal/primarylaw-info/1/
                ref: http://www.lexisnexis.com/xmlschemas/content/shared/reference/1/
                regulation: urn:x-lexisnexis:content:regulation:sharedservices:1
                seclaw: http://www.lexisnexis.com/xmlschemas/content/legal/secondary-law/1/
                tei: http://www.tei-c.org/ns/1.0/
              parameters:
                collection_id:
                  source: ContentMetadata
                object_id:
                  source: ContentMetadata
              version: v1.0
          env:
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
          image:
            pullPolicy: IfNotPresent
            repository: 2269-transform-yaml-scala-vertx-web
            tag: c282d42c485ef3ff2a1ab3d323e04a84201f4389
          livenessProbe:
            initialDelaySeconds: 30
            path: /healthcheck
            periodSeconds: 30
          readinessProbe:
            initialDelaySeconds: 30
            path: /healthcheck
            periodSeconds: 30
          resources:
            limits:
              cpu: 4
              memory: 8Gi
            requests:
              cpu: 2
              memory: 6Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        nodeSelector:
          deployment.group: ausp-prod-dr
        priorityClassName: srp-low
        prometheus:
          scrape: "false"
        replicaCount: 2
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod-dr
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: transform-stm
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: transform-stm
      - name: nameOverride
        value: transform-stm
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
# If that specific service is enabled and is a Kind "Stateless"
---
# Source: au-search-platform-use1-prod2/charts/platform/charts/services/templates/stateless-services.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: sp-apac-prod2-ausp-transform-stm-staging
  namespace: argo-cd
  labels:
    argocd.argoproj.io/name: sp-apac-prod2-ausp-transform-stm-staging
    argocd.argoproj.io/version: 0.1.317
    argocd.argoproj.io/component: services
    argocd.argoproj.io/part-of: services
    argocd.argoproj.io/managed-by: services
  annotations:
    argocd.argoproj.io/sync-wave: "500"
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: sp-apac-prod2-ausp
  source:
    repoURL: https://lnlpuseast.jfrog.io/artifactory/api/helm/helm-virtual/
    chart: stateless-service
    targetRevision: 0.1.132
    helm:
      releaseName: transform-stm-staging
      valueFiles:
      - values.yaml
      values: |-
        assetAreaId: "10081"
        assetAreaName: au-transform-stm
        assetGroup: staging
        assetId: "4604"
        assetName: au-search-platform
        containerSettings:
          affinity:
            topology: kubernetes.io/hostname
            weight: 1
          blockConfig:
            config:
              compressionLevel: -1
              excludeFilteredFromBatch: true
              jslt:
                pluginsFolderPath: /app/plugins
                yamlMappingPath: /etc/transform/config/mapping.yaml
              useBatch: true
              useGzip: true
              useProto3: true
              xml:
                pluginsFolderPath: /app/plugins
                yamlMappingPath: /etc/transform/config/mapping.yaml
            enabled: true
            logging:
              Configuration:
                Appenders:
                  Console:
                    PatternLayout:
                      pattern: '%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n'
                    direct: true
                    name: Console
                    target: SYSTEM_OUT
                Loggers:
                  Root:
                    AppenderRef:
                      ref: Console
                    includeLocation: false
                    level: info
                monitorInterval: 30
                name: Default
                status: info
            mapping:
              mappings:
                casesummary:
                  xpath:
                  - /casedigest:casedigest/casedigest:body/casedigest:facts
                decision-summary:
                  xpath:
                  - /casedigest:casedigest/casedigest:body/casedigest:decision
                headnotes:
                  xpath:
                  - /courtcase:courtcase/courtcase:head
                judgement:
                  xpath:
                  - /courtorder:courtorder/courtorder:body
                  - /courtcase:courtcase/courtcase:body/courtcase:opinions/courtcase:opinion
                other:
                  xpath:
                  - /*/*:head
                  - /*/*:body
                segment_article_title:
                  xpath:
                  - //newsitem:newsitem/nitf:body/nitf:body.head/nitf:hedline
                  - //cttr:citator/cttr:head/cttr:citedarticle/base:title
                segment_author:
                  xpath:
                  - //seclaw:seclaw/doc:metadata/doc:docinfo/dc:metadata/dc:contributor
                  - //cttr:citator/cttr:head/cttr:citedarticle/person:contributor[@contributor-type="author"]/person:person/person:name.text
                  - //cttr:citator/cttr:head/cttr:citeddecision/cttr:caseinfo/courtcase:judges
                  - //legis:legis/doc:metadata/doc:docinfo/dc:metadata/dc:contributor/person:contributor[@contributor-type="author"]/person:person/person:name.text
                  - //seclaw:seclaw/doc:metadata/doc:docinfo/dc:metadata/dc:contributor/person:contributor[@contributor-type="author"]/person:person/person:name.text
                  - //regulation:regulation/doc:metadata/doc:docinfo/dc:metadata/dc:contributor/person:contributor[@contributor-type="author"]/person:person/person:name.text
                  - //courtrule:courtrule/doc:metadata/doc:docinfo/dc:metadata/dc:contributor/person:contributor[@contributor-type="author"]/person:person/person:name.text
                  - //newsitem:newsitem/doc:metadata/doc:docinfo/dc:metadata/dc:contributor/person:contributor[@contributor-type="author"]/person:person/person:name.text
                  - //newsitem:newsitem//person:contributor
                  - //dict:dictionary/doc:metadata/doc:docinfo/dc:metadata/dc:contributor/person:contributor[@contributor-type="author"]/person:person/person:name.text
                  - //seclaw:seclaw/seclaw:body//form:form/form:document/form:bodytext//person:person/person:name.text
                segment_case_citation:
                  xpath:
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/ref:citations/ref:cite4thisresource
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/ref:citations/ref:cite4thisresource[@citetype="reporter"]
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/ref:citations/ref:cite4thisresource[@citetype="court"]
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/ref:citations/ref:cite4thisresource[@citetype="parallel"]
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/caseinfo:docketnum
                  - /casedigest:casedigest/casedigest:head/ref:citations/ref:cite4thisresource
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/ref:citations/ref:parallelcite[@citetype="court"]
                  - /cttr:citator/cttr:head/cttr:citeddecision/cttr:caseinfo/cttr:citations/lnci:cite
                  - /compcase:compositecourtcase/compcase:head/compcase:caseinstanceinfo/ref:citations/ref:cite4thisresource[@citetype="court"]/lnci:cite
                  - /compcase:compositecourtcase/compcase:head/compcase:caseinfo/ref:citations/ref:cite4thisresource[@citetype="reporter"]
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/caseinfo:docketnum
                segment_case_name:
                  xpath:
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/caseinfo:casename/caseinfo:fullcasename
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/caseinfo:alternatecasename
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/ref:citations/ref:cite4thisresource[@citetype="court"]
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/caseinfo:casename/caseinfo:fullcasename
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/caseinfo:alternatecasename
                  - /casedigest:head/casedigest:caseinfo/ref:citations/ref:parallelcite[@citetype="court"]/lnci:cite
                  - /cttr:citator/cttr:head/cttr:citeddecision/cttr:caseinfo/caseinfo:casename/caseinfo:fullcasename
                  - /compcase:compositecourtcase/compcase:head/compcase:caseinfo/caseinfo:casename/caseinfo:fullcasename
                  - /compcase:compositecourtcase/compcase:head/compcase:caseinfo/caseinfo:alternatecasename
                  - /compcase:compositecourtcase/compcase:head/compcase:caseinstanceinfo/ref:citations/ref:cite4thisresource[@citetype="court"]/lnci:cite
                  - /courtorder:courtorder/courtorder:head/caseinfo:caseinfo/caseinfo:casename/caseinfo:fullcasename
                  - /cttr:citator/cttr:head/cttr:citeddecision/cttr:caseinfo/base:popname
                  - /courtorder:courtorder/courtorder:head/base:heading/base:title
                segment_case_summary:
                  xpath:
                  - /courtcase:courtcase/courtcase:head/casesum:summaries/casesum:editorialsummary
                  - /courtcase:courtcase/courtcase:head/casesum:summaries/casesum:disposition
                  - /courtcase:courtcase/courtcase:body/courtcase:opinions/casesum:disposition
                  - /casedigest:casedigest/casedigest:body/casedigest:facts/casedigest:factsummary
                  - /casedigest:casedigest/casedigest:body/casedigest:decision/casedigest:decisionsummary
                  - /casedigest:casedigest/casedigest:body/casesum:disposition
                  - /cttr:citator/cttr:body/cttr:descriptors/cttr:descriptorsection[@descriptortype="catchwords-and-digest"]/casesum:editorialsummary[@summarysource="lexis-casebase-editorial"]
                  - /cttr:citator/cttr:body/cttr:descriptors/cttr:descriptorsection[@descriptortype="abstract"]/casesum:editorialsummary[@summarysource="lexis-casebase-editorial"]/casesum:overview
                  - /compcase:compositecourtcase/compcase:head/casesum:summaries/casesum:editorialsummary
                  - /compcase:compositecourtcase/compcase:head/casesum:summaries/casesum:decisionsummary
                  - /compcase:compositecourtcase/compcase:head/casesum:summaries/casesum:disposition
                  - /compcase:compositecourtcase/compcase:body/compcase:caseinstance/compcase:caseinstancebody/casesum:disposition
                  - /courtcase:courtcase/courtcase:head/casesum:summaries/casesum:decisionsummary
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                  - /compcase:compositecourtcase/compcase:head/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                  - /courtorder:courtorder/courtorder:head/courtorder:descriptor/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                  - /casedigest:casedigest/casedigest:body/casedigest:otherinfo[@infotype="abstract"]/base:bodytext
                  - /cttr:citator/cttr:body/cttr:descriptors/cttr:descriptorsection[@descriptortype="catchwords-and-digest"]/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                segment_catchwords:
                  xpath:
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                  - /compcase:compositecourtcase/compcase:head/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                  - /courtorder:courtorder/courtorder:head/courtorder:descriptor/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                  - /casedigest:casedigest/casedigest:body/casedigest:otherinfo[@infotype="abstract"]/base:bodytext
                  - /cttr:citator/cttr:body/cttr:descriptors/cttr:descriptorsection[@descriptortype="catchwords-and-digest"]/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                segment_citation:
                  xpath:
                  - //newsitem:newsitem/newsitem:head/ref:citations/ref:cite4thisresource/lnci:cite[@type="cite4thisdoc"]
                  - //cttr:citator/cttr:head/cttr:citedarticle/cttr:citations
                  - //cttr:citator/cttr:head/cttr:citedarticle/ref:citations/ref:cite4thisresource
                segment_court:
                  xpath:
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/jurisinfo:courtinfo/jurisinfo:alternatecourtcode/@alternatecourtcode
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/jurisinfo:courtinfo/jurisinfo:alternatecourtcode/@alternatecourtcode
                  - /cttr:citator/cttr:head/cttr:citeddecision/cttr:caseinfo/jurisinfo:courtinfo/jurisinfo:alternatecourtcode/@alternatecourtcode
                  - /compcase:compositecourtcase/compcase:head/compcase:caseinstanceinfo/jurisinfo:courtinfo/jurisinfo:alternatecourtcode/@alternatecourtcode
                  - /courtorder:courtorder/courtorder:head/jurisinfo:courtinfo/jurisinfo:alternatecourtcode/@alternatecourtcode
                segment_court_name:
                  xpath:
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/jurisinfo:courtinfo/jurisinfo:courtname
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/jurisinfo:courtinfo/jurisinfo:courtname
                  - /cttr:citator/cttr:head/cttr:citeddecision/cttr:caseinfo/jurisinfo:courtinfo/jurisinfo:courtname
                  - /compcase:compositecourtcase/compcase:head/compcase:caseinstanceinfo/jurisinfo:courtinfo/jurisinfo:courtname
                  - /courtorder:courtorder/courtorder:head/jurisinfo:courtinfo/jurisinfo:courtname
                segment_date:
                  xpath:
                  - /cttr:citingcase/cttr:caseinfo/decision:dates/decision:decisiondate
                segment_dict_defterm:
                  xpath:
                  - /dict:dictionary/dict:body/dict:defitem/tei:entry/tei:form/tei:orth
                  - /dict:dictionary/dict:body/dict:defitem/tei:superEntry/tei:entry/tei:form/tei:orth
                segment_doc_title:
                  xpath:
                  - //seclaw:seclaw/doc:metadata/doc:docinfo/dc:metadata/dc:title
                  - //cttr:citator/doc:metadata/doc:docinfo/dc:metadata/dc:title
                  - //newsitem:newsitem/doc:metadata/doc:docinfo/dc:metadata/dc:title
                  - //dict:dictionary/doc:metadata/doc:docinfo/dc:metadata/dc:title
                segment_end_date:
                  xpath:
                  - let $date := if(fn:exists(//admindoc:admindoc/doc:metadata/doc:docinfo/doc:versioninfo/doc:enddate))
                    then //admindoc:admindoc/doc:metadata/doc:docinfo/doc:versioninfo/doc:enddate
                    else if(fn:exists(//courtrule:courtrule/doc:metadata/doc:docinfo/doc:versioninfo/doc:enddate))
                    then //courtrule:courtrule/doc:metadata/doc:docinfo/doc:versioninfo/doc:enddate
                    else if(fn:exists(//regulation:regulation/doc:metadata/doc:docinfo/doc:versioninfo/doc:enddate))
                    then //regulation:regulation/doc:metadata/doc:docinfo/doc:versioninfo/doc:enddate  else
                    if(fn:exists(//legis:legis/doc:metadata/doc:docinfo/doc:versioninfo/doc:enddate))
                    then //legis:legis/doc:metadata/doc:docinfo/doc:versioninfo/doc:enddate
                    else () return if(not(fn:exists($date))) then () else if(fn:string-length($date/@day)=1)
                    then fn:concat($date/@year,'-',$date/@month,'-0',$date/@day) else fn:concat($date/@year,'-',$date/@month,'-',$date/@day)
                segment_form_number:
                  xpath:
                  - //seclaw:seclaw[@seclawtype="form"]/seclaw:body/form:form/form:document/base:heading/base:desig
                  - //seclaw:seclaw[@seclawtype="precedent"]/seclaw:body//form:form/form:document/base:heading/base:desig
                segment_form_title:
                  xpath:
                  - //seclaw:seclaw[@seclawtype="form"]/seclaw:body/form:form/form:document/base:heading/base:title
                  - //seclaw:seclaw[@seclawtype="precedent"]/seclaw:body//form:form[form:info/base:meta/base:metaitem/@value='form']/form:document/base:heading/base:title
                  - //seclaw:seclaw[@seclawtype="precedent"]/seclaw:body//form:form[form:info/base:meta/base:metaitem/@value="form"]/form:document/form:bodytext/form:form/form:document/form:bodytext/form:form/form:document/base:heading/base:title
                  - //seclaw:seclaw[@seclawtype="precedent"]/seclaw:body//form:form[form:info/base:meta/base:metaitem/@value="form"]/form:document/form:bodytext/form:form/form:document/base:heading/base:title
                segment_fp_note:
                  xpath:
                  - //seclaw:seclaw/seclaw:body//form:form/form:document/form:bodytext//base:note[@notetype="summary"]
                  - //seclaw:seclaw/seclaw:body//form:form/form:document/form:bodytext//base:note[@notetype="instruction"]
                segment_heading:
                  xpath:
                  - //seclaw:seclaw/seclaw:body/seclaw:level/base:heading/base:title
                  - //legis:legis/legis:body//primlaw:level/annot:annotations/annot:annotation-grp[@grptype="COMMENTARY"]/base:heading
                  - //seclaw:seclaw/seclaw:body//seclaw:level/base:heading
                  - //regulation:regulation/regulation:body//primlaw:level/annot:annotations/annot:annotation-grp[@grptype="COMMENTARY"]/base:heading
                  - //courtrule:courtrule/courtrule:body//primlaw:level/annot:annotations/annot:annotation-grp[@grptype="COMMENTARY"]/base:heading
                  - //newsitem:newsitem/nitf:body/nitf:body.content/base:bodytext//base:section/base:heading
                  - //newsitem:newsitem/nitf:body/nitf:body.content/base:bodytext//base:section/base:h
                  - //newsitem:newsitem/nitf:body/nitf:body.content/base:bodytext//base:section/base:bodytext/base:heading
                  - //newsitem:newsitem/nitf:body/nitf:body.content/base:bodytext//base:section/base:bodytext/base:h
                  - //newsitem:newsitem/nitf:body/nitf:body.content/bodytext//section/heading
                  - //newsitem:newsitem/nitf:body/nitf:body.content/bodytext//section/bodytext/heading
                  - //newsitem:newsitem/nitf:body/nitf:body.content/bodytext//section/bodytext/h
                  - //seclaw:seclaw/seclaw:body//seclaw:level/base:heading/base:title
                  - //legis:legis/legis:body//primlaw:level/annot:annotations//annot:annotation/base:heading/base:title
                  - //regulation:regulation/regulation:body//primlaw:level/annot:annotations//annot:annotation/base:heading/base:title
                  - //courtrule:courtrule/courtrule:body//primlaw:level/annot:annotations//annot:annotation/base:heading/base:title
                  - //legis:legis/legis:body//primlaw:level/base:heading/base:title
                  - //regulation:regulation/regulation:body//primlaw:level/base:heading/base:title
                  - //courtrule:courtrule/courtrule:body//primlaw:level/base:heading/base:title
                segment_judge:
                  xpath:
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/casedigest:appearances/courtcase:panel/courtcase:judges/person:judge
                  - /casedigest:casedigest/casedigest:body/casedigest:decision/casedigest:decisionsummary/courtcase:caseexcerpt/courtcase:body/courtcase:opinions/courtcase:opinion/courtcase:opinionby/person:judge
                  - /cttr:citator/cttr:head/cttr:citeddecision/cttr:caseinfo/courtcase:judges
                  - /compcase:compositecourtcase/compcase:body/compcase:caseinstance/compcase:caseinstancebody/courtcase:opinions/courtcase:opinion/courtcase:opinionby/person:judge
                  - /courtorder:courtorder/courtorder:head/courtorder:authors/person:judge
                  - /courtorder:courtorder/courtorder:head/caseinfo:caseinfo/courtcase:panel/courtcase:judges/person:judge/person:person/person:name.text
                  - /compcase:compositecourtcase/compcase:head/compcase:caseinstanceinfo/courtcase:panel/courtcase:judges/person:judge
                  - /courtcase:courtcase/courtcase:body/courtcase:opinions/courtcase:opinion/courtcase:opinionby/person:judge
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/courtcase:panel/courtcase:judges/person:judge
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/courtcase:panel/courtcase:judges/person:judge
                segment_judgment_date:
                  xpath:
                  - if(fn:exists(//courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:decisiondate[fn:last()]/@year))
                    then //courtcase:courtcase/courtcase:head/caseinfo:caseinfo/decision:dates/decision:decisiondate
                    else if(fn:exists(//compcase:compositecourtcase/compcase:head/compcase:caseinstanceinfo/decision:dates/decision:decisiondate))
                    then //compcase:compositecourtcase/compcase:head/compcase:caseinstanceinfo/decision:dates/decision:decisiondate
                    else ()
                segment_jurisdiction:
                  xpath:
                  - /courtcase:courtcase/courtcase:head/caseinfo:caseinfo/jurisinfo:courtinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /casedigest:casedigest/casedigest:head/casedigest:caseinfo/jurisinfo:courtinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /cttr:citator/cttr:head/cttr:citeddecision/cttr:caseinfo/jurisinfo:courtinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /compcase:compositecourtcase/compcase:head/compcase:caseinstanceinfo/jurisinfo:courtinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /courtorder:courtorder/courtorder:head/jurisinfo:courtinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /legis:legis/legis:head/jurisinfo:legisbodyinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /regulation:regulation/regulation:head/jurisinfo:legisbodyinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /courtrule:courtrule/courtrule:head/jurisinfo:legisbodyinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /billtrack:billtrack/billtrack:head/jurisinfo:legisbodyinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /admindoc:admindoc/admindoc:head/jurisinfo:execbodyinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /cttr:citator/cttr:head/cttr:citedstatlaw/cttr:legisinfo/jurisinfo:legisbodyinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /cttr:citator/cttr:head/cttr:consideredlegis/cttr:legisinfo/jurisinfo:legisbodyinfo/jurisinfo:jurisdiction/jurisinfo:system
                  - /billtrack:billtrack/doc:metadata/doc:docinfo/classify:classification[@classscheme="selector"]/classify:classitem/classify:classitem-identifier/classify:classname[.
                    !='bill']
                segment_leg_defterm:
                  xpath:
                  - //base:defitem/base:defterm
                segment_leg_title:
                  xpath:
                  - //legis:legis/legis:body/primlaw:level[@leveltype='unclassified']/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names/legisinfo:officialtitle
                  - //regulation:regulation/regulation:body/primlaw:level[@leveltype='unclassified']/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names/legisinfo:officialtitle
                  - //courtrule:courtrule/courtrule:body/primlaw:level[@leveltype='unclassified']/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names/legisinfo:officialtitle
                  - //legis:legis/legis:body/primlaw:level[@leveltype="unclassified"]/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names/legisinfo:officialtitle
                  - //regulation:regulation/regulation:body/primlaw:level[@leveltype="unclassified"]/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names/legisinfo:officialtitle
                  - //courtrule:courtrule/courtrule:body/primlaw:level[@leveltype="unclassified"]/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names/legisinfo:officialtitle
                  - //legis:legis/legis:body/primlaw:level[@leveltype="chapter"]/base:heading/base:title
                segment_leg_top_title:
                  xpath:
                  - //legis:legis/legis:body/primlaw:level[@leveltype="unclassified"]/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names
                  - //regulation:regulation/regulation:body/primlaw:level[@leveltype="unclassified"]/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names
                  - //courtrule:courtrule/courtrule:body/primlaw:level[@leveltype="unclassified"]/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names
                  - //billtrack:billtrack/billtrack:body//primlaw:level[@leveltype="unclassified"]/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names
                  - //admindoc:body/admindoc:info/admindoc:officialtitle
                  - //admindoc:admindoc/admindoc:body/admindoc:info/admindoc:officialtitle
                  - //cttr:citator/cttr:head/cttr:citedseclaw/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names
                  - //legis:legis/legis:body/primlaw:level[@leveltype="chapter"]/base:heading/base:title
                  - //funddoc:fundamentallegaldocument/funddoc:body/primlaw:level[@leveltype="unclassified"]/primlaw:levelinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/legisinfo:names
                segment_prec_clausetitle:
                  xpath:
                  - //seclaw:seclaw/seclaw:body//form:form/form:document/form:bodytext//form:clause[@clausetype="clause"]/base:heading/base:title
                  - //seclaw:seclaw/seclaw:body//form:form/form:document/form:bodytext//form:clause[@clausetype="subclause"]/base:heading/base:title
                segment_prec_defterm:
                  xpath:
                  - //seclaw:seclaw/seclaw:body//form:form/form:document/form:bodytext//base:defterm
                segment_precedent_title:
                  xpath:
                  - //seclaw:seclaw[@seclawtype="precedent"]/seclaw:body/form:form/form:document/base:heading/base:title
                  - //seclaw:seclaw[@seclawtype="precedent"]/seclaw:body//form:form[form:info/base:meta/base:metaitem/@value="prec"]/form:document/base:heading/base:title
                segment_prov_num:
                  xpath:
                  - //legis:legis/legis:body//primlaw:level[@leveltype='regulation' or @leveltype='rule'
                    or @leveltype='section' or @leveltype='clause' or @leveltype='article']/base:heading/base:desig
                  - //regulation:regulation/regulation:body//primlaw:level[@leveltype='regulation'
                    or @leveltype='rule' or @leveltype='section' or @leveltype='clause' or
                    @leveltype='article']/base:heading/base:desig
                  - //courtrule:courtrule/courtrule:body//primlaw:level[@leveltype='regulation'
                    or @leveltype='rule' or @leveltype='section' or @leveltype='clause' or
                    @leveltype='article']/base:heading/base:desig
                  - //courtrule:courtrule/courtrule:body//primlaw:level[@leveltype="regulation"
                    or @leveltype="rule" or @leveltype="section" or @leveltype="clause" or
                    @leveltype="article"]/base:heading/base:desig
                  - //funddoc:fundamentallegaldocument/funddoc:body//primlaw:level[@leveltype="regulation"
                    or @leveltype="rule" or @leveltype="section" or @leveltype="clause" or
                    @leveltype="article"]/base:heading/base:desig
                  - //admindoc:admindoc/admindoc:body//primlaw:level[@leveltype="regulation"
                    or @leveltype="rule" or @leveltype="section" or @leveltype="clause" or
                    @leveltype="article"]/base:desig
                  - //admindoc:admindoc/admindoc:body//admindoc:level[@leveltype="regulation"
                    or @leveltype="rule" or @leveltype="section" or @leveltype="clause" or
                    @leveltype="article"]/base:heading/base:desig
                  - //legis:legis/legis:body//primlaw:level[@leveltype="regulation" or @leveltype="rule"
                    or @leveltype="section" or @leveltype="clause" or @leveltype="article"]/base:heading/base:desig
                  - //regulation:regulation/regulation:body//primlaw:level[@leveltype="regulation"
                    or @leveltype="rule" or @leveltype="section" or @leveltype="clause" or
                    @leveltype="article"]/base:heading/base:desig
                segment_prov_title:
                  xpath:
                  - //legis:legis/legis:body//primlaw:level[@leveltype='regulation' or @leveltype='rule'
                    or @leveltype='section' or @leveltype='clause' or @leveltype='article']/base:heading/base:title
                  - //regulation:regulation/regulation:body//primlaw:level[@leveltype='regulation'
                    or @leveltype='rule' or @leveltype='section' or @leveltype='clause' or
                    @leveltype='article']/base:heading/base:title
                  - //courtrule:courtrule/courtrule:body//primlaw:level[@leveltype='regulation'
                    or @leveltype='rule' or @leveltype='section' or @leveltype='clause' or
                    @leveltype='article']/base:heading /base:title
                  - //admindoc:admindoc/admindoc:body//primlaw:level[@leveltype="regulation"
                    or @leveltype="rule" or @leveltype="section" or @leveltype="clause" or
                    @leveltype="article"]/base:title
                  - //courtrule:courtrule/courtrule:body//primlaw:level[@leveltype="regulation"
                    or @leveltype="rule" or @leveltype="section" or @leveltype="clause" or
                    @leveltype="article"]/base:title
                  - //funddoc:fundamentallegaldocument/funddoc:body//primlaw:level[@leveltype="regulation"
                    or @leveltype="rule" or @leveltype="section" or @leveltype="clause" or
                    @leveltype="article"]/base:heading/base:title
                  - //admindoc:admindoc/admindoc:body//admindoc:level[@leveltype="regulation"
                    or @leveltype="rule" or @leveltype="section" or @leveltype="clause" or
                    @leveltype="article"]/base:heading/base:title
                  - //legis:legis/legis:body//primlaw:level[@leveltype="regulation" or @leveltype="rule"
                    or @leveltype="section" or @leveltype="clause" or @leveltype="article"]/base:heading/base:title
                  - //regulation:regulation/regulation:body//primlaw:level[@leveltype="regulation"
                    or @leveltype="rule" or @leveltype="section" or @leveltype="clause" or
                    @leveltype="article"]/base:heading/base:title
                  - //cttr:citator/cttr:head/cttr:citedstatlaw/cttr:legisinfo/primlawinfo:primlawinfo/legisinfo:legisinfo/cttr:legiscomponent[@componenttype="provision"]/base:title
                segment_ref_cases:
                  xpath:
                  - //lnci:cite[@type='case']
                  - //lnci:cite[child::lnci:case]
                  - //caseinfo:fullcasename
                segment_representation:
                  xpath:
                  - /courtcase:courtcase/courtcase:body/courtcase:opinions/courtcase:representation/courtcase:counsel
                  - /casedigest:head/casedigest:caseinfo/casedigest:appearances/courtcase:representation
                  - /casedigest:casedigest/casedigest:body/casedigest:decision/courtcase:caseexcerpt/courtcase:body/courtcase:opinions/courtcase:representation/courtcase:counsel
                  - /compcase:compositecourtcase/compcase:body/compcase:caseinstance/compcase:caseinstancebody/courtcase:opinions/courtcase:representation/courtcase:counsel
                segment_start_date:
                  xpath:
                  - let $date := if(fn:exists(//admindoc:admindoc/doc:metadata/doc:docinfo/doc:versioninfo/doc:startdate))
                    then //admindoc:admindoc/doc:metadata/doc:docinfo/doc:versioninfo/doc:startdate
                    else if(fn:exists(//courtrule:courtrule/doc:metadata/doc:docinfo/doc:versioninfo/doc:startdate))
                    then //courtrule:courtrule/doc:metadata/doc:docinfo/doc:versioninfo/doc:startdate
                    else if(fn:exists(//regulation:regulation/doc:metadata/doc:docinfo/doc:versioninfo/doc:startdate))
                    then //regulation:regulation/doc:metadata/doc:docinfo/doc:versioninfo/doc:startdate  else
                    if(fn:exists(//legis:legis/doc:metadata/doc:docinfo/doc:versioninfo/doc:startdate))
                    then //legis:legis/doc:metadata/doc:docinfo/doc:versioninfo/doc:startdate
                    else () return if(not(fn:exists($date))) then () else if(fn:string-length($date/@day)=1)
                    then fn:concat($date/@year,'-',$date/@month,'-0',$date/@day) else fn:concat($date/@year,'-',$date/@month,'-',$date/@day)
                segment_words_phrases:
                  xpath:
                  - /casedigest:casedigest/casedigest:body/classify:classification[@classscheme="catchwords"]/classify:classitem/classify:classitem-identifier/classify:classname
                  - /cttr:citator/cttr:body/cttr:descriptors/cttr:descriptorsection[@descriptortype="words-and-phrases"]/classify:classification[@classscheme="words-and-phrases"]/classify:classitem/classify:classitem-identifier/classify:classname
                viz-catchwords:
                  xpath:
                  - /courtorder:courtorder/courtorder:head
                  - /casedigest:casedigest/casedigest:head
                  - /cttr:citator/cttr:body/cttr:descriptors/cttr:descriptorsectioin[@discriptortype="catchwords-and-digest"]
              name: metadata
              namespaces:
                "": http://www.lexisnexis.com/xmlschemas/content/shared/base/1/
                admindoc: urn:x-lexisnexis:content:administrative-document:sharedservices:1
                annot: http://www.lexisnexis.com/xmlschemas/content/shared/annotations/1/
                base: http://www.lexisnexis.com/xmlschemas/content/shared/base/1/
                billtrack: urn:x-lexisnexis:content:billtracking:1
                casedigest: http://www.lexisnexis.com/xmlschemas/content/legal/case-digest/1/
                caseinfo: http://www.lexisnexis.com/xmlschemas/content/legal/case-information/1/
                casesum: http://www.lexisnexis.com/xmlschemas/content/legal/case-summary/1/
                classify: http://www.lexisnexis.com/xmlschemas/content/shared/classification/1/
                compcase: urn:x-lexisnexis:content:compositecourtcase:sharedservices:1
                courtcase: http://www.lexisnexis.com/xmlschemas/content/legal/courtcase/1/
                courtorder: urn:x-lexisnexis:content:courtorder:sharedservices:1
                courtrule: http://www.lexisnexis.com/xmlschemas/content/legal/courtrule/1/
                cttr: urn:x-lexisnexis:content:citator:sharedservices:1
                dc: http://purl.org/dc/elements/1.1/
                decision: http://www.lexisnexis.com/xmlschemas/content/legal/decision/1/
                dict: urn:x-lexisnexis:content:dict:sharedservices:1
                doc: http://www.lexisnexis.com/xmlschemas/content/shared/document-level-metadata/1/
                fn: http://www.w3.org/2005/xpath-functions
                form: http://www.lexisnexis.com/xmlschemas/content/shared/form/1/
                funddoc: urn:x-lexisnexis:content:fundamentallegaldocument:sharedservices:1
                jurisinfo: http://www.lexisnexis.com/xmlschemas/content/legal/jurisdiction-info/1/
                legis: http://www.lexisnexis.com/xmlschemas/content/legal/legislation/1/
                legisinfo: http://www.lexisnexis.com/xmlschemas/content/legal/legislation-info/1/
                lnci: http://www.lexisnexis.com/xmlschemas/content/shared/citations/1/
                lnmeta: http://www.lexisnexis.com/xmlschemas/content/shared/lexisnexis-metadata/1/
                location: http://www.lexisnexis.com/xmlschemas/content/shared/location/1/
                newsitem: http://www.lexisnexis.com/xmlschemas/content/news/newsitem/1/
                nitf: http://iptc.org/std/NITF/2006-10-18/
                person: http://www.lexisnexis.com/xmlschemas/content/shared/person/1/
                primlaw: http://www.lexisnexis.com/xmlschemas/content/legal/primarylaw/1/
                primlawinfo: http://www.lexisnexis.com/xmlschemas/content/legal/primarylaw-info/1/
                ref: http://www.lexisnexis.com/xmlschemas/content/shared/reference/1/
                regulation: urn:x-lexisnexis:content:regulation:sharedservices:1
                seclaw: http://www.lexisnexis.com/xmlschemas/content/legal/secondary-law/1/
                tei: http://www.tei-c.org/ns/1.0/
              parameters:
                collection_id:
                  source: ContentMetadata
                object_id:
                  source: ContentMetadata
              version: v1.0
          env:
            JAVA_OPTS: -javaagent:/opentelemetry-javaagent.jar
          image:
            pullPolicy: IfNotPresent
            repository: 2269-transform-yaml-scala-vertx-web
            tag: c282d42c485ef3ff2a1ab3d323e04a84201f4389
          livenessProbe:
            initialDelaySeconds: 30
            path: /healthcheck
            periodSeconds: 30
          readinessProbe:
            initialDelaySeconds: 30
            path: /healthcheck
            periodSeconds: 30
          resources:
            limits:
              cpu: 2
              memory: 4Gi
            requests:
              cpu: 2
              memory: 2Gi
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
        coralogix:
          enabled: true
        ingress:
          enabled: true
        istio:
          routingOptions:
            virtualService:
              aliasHostsEnabled: true
        priorityClassName: srp-low
        prometheus:
          scrape: "false"
        replicaCount: 1
        rollout:
          strategy: RollingUpdate
      parameters:
      - name: assetId
        value: "4604"
      - name: assetName
        value: sp-apac-prod2-ausp
      - name: nodeSelector.deployment\.group
        value: ausp-prod
      - name: istio.enabled
        value: "true"
      - name: istio.gateway
        value: "istio-ingress/istio-au-ingressgateway"
      - name: ingress.hostName
        value: transform-stm-staging
      - name: ingress.hostedZone
        value: "au.apac.use1-prod2.searchplatform.nl.lexis.com"
      - name: istio.routingOptions.virtualService.aliasHosts[0]
        value: au.apac.searchplatform.nl.lexis.com
      - name: fullnameOverride
        value: transform-stm-staging
      - name: nameOverride
        value: transform-stm-staging
      - name: environment
        value: prod
      - name: repositoryPrefix
        value: 169239262060.dkr.ecr.us-east-1.amazonaws.com
  destination:
    server: https://1A857CD4CD87D1F0A8CA62B6596DEEB4.gr7.us-east-1.eks.amazonaws.com
    namespace: 4604-search-services
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
